const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-2UCk-mdT.js","assets/index-Czyfi2H-.js","assets/index-DSIfTN5h.css","assets/compress-BzQXnY0p.js"])))=>i.map(i=>d[i]);
import{h as nn,g as kp,_ as Tp,e as qn,i as ms,k as gs,r as be,j as Oi}from"./index-Czyfi2H-.js";import{d as Rp}from"./compress-BzQXnY0p.js";function Nr(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ms={exports:{}};var _a;function Dp(){return _a||(_a=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,s,i){function o(u,l){if(!s[u]){if(!r[u]){var d=typeof Nr=="function"&&Nr;if(!l&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var h=s[u]={exports:{}};r[u][0].call(h.exports,function(g){var p=r[u][1][g];return o(p||g)},h,h.exports,n,r,s,i)}return s[u].exports}for(var a=typeof Nr=="function"&&Nr,c=0;c<i.length;c++)o(i[c]);return o})({1:[function(n,r,s){var i=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var u,l,d,f,h,g,p,b=[],y=0,x=c.length,S=x,C=i.getTypeOf(c)!=="string";y<c.length;)S=x-y,d=C?(u=c[y++],l=y<x?c[y++]:0,y<x?c[y++]:0):(u=c.charCodeAt(y++),l=y<x?c.charCodeAt(y++):0,y<x?c.charCodeAt(y++):0),f=u>>2,h=(3&u)<<4|l>>4,g=1<S?(15&l)<<2|d>>6:64,p=2<S?63&d:64,b.push(a.charAt(f)+a.charAt(h)+a.charAt(g)+a.charAt(p));return b.join("")},s.decode=function(c){var u,l,d,f,h,g,p=0,b=0,y="data:";if(c.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var x,S=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===a.charAt(64)&&S--,c.charAt(c.length-2)===a.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=o.uint8array?new Uint8Array(0|S):new Array(0|S);p<c.length;)u=a.indexOf(c.charAt(p++))<<2|(f=a.indexOf(c.charAt(p++)))>>4,l=(15&f)<<4|(h=a.indexOf(c.charAt(p++)))>>2,d=(3&h)<<6|(g=a.indexOf(c.charAt(p++))),x[b++]=u,h!==64&&(x[b++]=l),g!==64&&(x[b++]=d);return x}},{"./support":30,"./utils":32}],2:[function(n,r,s){var i=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(l,d,f,h,g){this.compressedSize=l,this.uncompressedSize=d,this.crc32=f,this.compression=h,this.compressedContent=g}u.prototype={getContentWorker:function(){var l=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),d=this;return l.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(l,d,f){return l.pipe(new a).pipe(new c("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new c("compressedSize")).withStreamInfo("compression",d)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var i=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var i=n("./utils"),o=(function(){for(var a,c=[],u=0;u<256;u++){a=u;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;c[u]=a}return c})();r.exports=function(a,c){return a!==void 0&&a.length?i.getTypeOf(a)!=="string"?(function(u,l,d,f){var h=o,g=f+d;u^=-1;for(var p=f;p<g;p++)u=u>>>8^h[255&(u^l[p])];return-1^u})(0|c,a,a.length,0):(function(u,l,d,f){var h=o,g=f+d;u^=-1;for(var p=f;p<g;p++)u=u>>>8^h[255&(u^l.charCodeAt(p))];return-1^u})(0|c,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),c=n("./stream/GenericWorker"),u=i?"uint8array":"array";function l(d,f){c.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}s.magic="\b\0",a.inherits(l,c),l.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,d.data),!1)},l.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},s.compressWorker=function(d){return new l("Deflate",d)},s.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function i(h,g){var p,b="";for(p=0;p<g;p++)b+=String.fromCharCode(255&h),h>>>=8;return b}function o(h,g,p,b,y,x){var S,C,_=h.file,I=h.compression,O=x!==u.utf8encode,L=a.transformTo("string",x(_.name)),F=a.transformTo("string",u.utf8encode(_.name)),Z=_.comment,ce=a.transformTo("string",x(Z)),T=a.transformTo("string",u.utf8encode(Z)),V=F.length!==_.name.length,w=T.length!==Z.length,W="",me="",K="",de=_.dir,X=_.date,ue={crc32:0,compressedSize:0,uncompressedSize:0};g&&!p||(ue.crc32=h.crc32,ue.compressedSize=h.compressedSize,ue.uncompressedSize=h.uncompressedSize);var N=0;g&&(N|=8),O||!V&&!w||(N|=2048);var M=0,he=0;de&&(M|=16),y==="UNIX"?(he=798,M|=(function(ne,ze){var at=ne;return ne||(at=ze?16893:33204),(65535&at)<<16})(_.unixPermissions,de)):(he=20,M|=(function(ne){return 63&(ne||0)})(_.dosPermissions)),S=X.getUTCHours(),S<<=6,S|=X.getUTCMinutes(),S<<=5,S|=X.getUTCSeconds()/2,C=X.getUTCFullYear()-1980,C<<=4,C|=X.getUTCMonth()+1,C<<=5,C|=X.getUTCDate(),V&&(me=i(1,1)+i(l(L),4)+F,W+="up"+i(me.length,2)+me),w&&(K=i(1,1)+i(l(ce),4)+T,W+="uc"+i(K.length,2)+K);var se="";return se+=`
\0`,se+=i(N,2),se+=I.magic,se+=i(S,2),se+=i(C,2),se+=i(ue.crc32,4),se+=i(ue.compressedSize,4),se+=i(ue.uncompressedSize,4),se+=i(L.length,2),se+=i(W.length,2),{fileRecord:d.LOCAL_FILE_HEADER+se+L+W,dirRecord:d.CENTRAL_FILE_HEADER+i(he,2)+se+i(ce.length,2)+"\0\0\0\0"+i(M,4)+i(b,4)+L+W+ce}}var a=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),l=n("../crc32"),d=n("../signature");function f(h,g,p,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=p,this.encodeFileName=b,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,c),f.prototype.push=function(h){var g=h.meta.percent||0,p=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,c.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(g+100*(p-b-1))/p:100}}))},f.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var g=this.streamFiles&&!h.file.dir;if(g){var p=o(h,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(h){this.accumulate=!1;var g=this.streamFiles&&!h.file.dir,p=o(h,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),g)this.push({data:(function(b){return d.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)})(h),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var h=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var p=this.bytesWritten-h,b=(function(y,x,S,C,_){var I=a.transformTo("string",_(C));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(y,2)+i(y,2)+i(x,4)+i(S,4)+i(I.length,2)+I})(this.dirRecords.length,p,h,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(h){this._sources.push(h);var g=this;return h.on("data",function(p){g.processChunk(p)}),h.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),h.on("error",function(p){g.error(p)}),this},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(h){var g=this._sources;if(!c.prototype.error.call(this,h))return!1;for(var p=0;p<g.length;p++)try{g[p].error(h)}catch{}return!0},f.prototype.lock=function(){c.prototype.lock.call(this);for(var h=this._sources,g=0;g<h.length;g++)h[g].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var i=n("../compressions"),o=n("./ZipFileWorker");s.generateWorker=function(a,c,u){var l=new o(c.streamFiles,u,c.platform,c.encodeFileName),d=0;try{a.forEach(function(f,h){d++;var g=(function(x,S){var C=x||S,_=i[C];if(!_)throw new Error(C+" is not a valid compression method !");return _})(h.options.compression,c.compression),p=h.options.compressionOptions||c.compressionOptions||{},b=h.dir,y=h.date;h._compressWorker(g,p).withStreamInfo("file",{name:f,dir:b,date:y,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(l)}),l.entriesCount=d}catch(f){l.error(f)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(o,a){return new i().loadAsync(o,a)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var i=n("./utils"),o=n("./external"),a=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),l=n("./nodejsUtils");function d(f){return new o.Promise(function(h,g){var p=f.decompressed.getContentWorker().pipe(new u);p.on("error",function(b){g(b)}).on("end",function(){p.streamInfo.crc32!==f.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(f,h){var g=this;return h=i.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",f,!0,h.optimizedBinaryString,h.base64).then(function(p){var b=new c(h);return b.load(p),b}).then(function(p){var b=[o.Promise.resolve(p)],y=p.files;if(h.checkCRC32)for(var x=0;x<y.length;x++)b.push(d(y[x]));return o.Promise.all(b)}).then(function(p){for(var b=p.shift(),y=b.files,x=0;x<y.length;x++){var S=y[x],C=S.fileNameStr,_=i.resolve(S.fileNameStr);g.file(_,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:h.createFolders}),S.dir||(g.file(_).unsafeOriginalName=C)}return b.zipComment.length&&(g.comment=b.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var i=n("../utils"),o=n("../stream/GenericWorker");function a(c,u){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(a,o),a.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(l){u.push({data:l,meta:{percent:0}})}).on("error",function(l){u.isPaused?this.generatedError=l:u.error(l)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var i=n("readable-stream").Readable;function o(a,c,u){i.call(this,c),this._helper=a;var l=this;a.on("data",function(d,f){l.push(d)||l._helper.pause(),u&&u(f)}).on("error",function(d){l.emit("error",d)}).on("end",function(){l.push(null)})}n("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,s){function i(_,I,O){var L,F=a.getTypeOf(I),Z=a.extend(O||{},l);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(_=y(_)),Z.createFolders&&(L=b(_))&&x.call(this,L,!0);var ce=F==="string"&&Z.binary===!1&&Z.base64===!1;O&&O.binary!==void 0||(Z.binary=!ce),(I instanceof d&&I.uncompressedSize===0||Z.dir||!I||I.length===0)&&(Z.base64=!1,Z.binary=!0,I="",Z.compression="STORE",F="string");var T=null;T=I instanceof d||I instanceof c?I:g.isNode&&g.isStream(I)?new p(_,I):a.prepareContent(_,I,Z.binary,Z.optimizedBinaryString,Z.base64);var V=new f(_,T,Z);this.files[_]=V}var o=n("./utf8"),a=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),l=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),h=n("./generate"),g=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),b=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var I=_.lastIndexOf("/");return 0<I?_.substring(0,I):""},y=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},x=function(_,I){return I=I!==void 0?I:l.createFolders,_=y(_),this.files[_]||i.call(this,_,null,{dir:!0,createFolders:I}),this.files[_]};function S(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var I,O,L;for(I in this.files)L=this.files[I],(O=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&_(O,L)},filter:function(_){var I=[];return this.forEach(function(O,L){_(O,L)&&I.push(L)}),I},file:function(_,I,O){if(arguments.length!==1)return _=this.root+_,i.call(this,_,I,O),this;if(S(_)){var L=_;return this.filter(function(Z,ce){return!ce.dir&&L.test(Z)})}var F=this.files[this.root+_];return F&&!F.dir?F:null},folder:function(_){if(!_)return this;if(S(_))return this.filter(function(F,Z){return Z.dir&&_.test(F)});var I=this.root+_,O=x.call(this,I),L=this.clone();return L.root=O.name,L},remove:function(_){_=this.root+_;var I=this.files[_];if(I||(_.slice(-1)!=="/"&&(_+="/"),I=this.files[_]),I&&!I.dir)delete this.files[_];else for(var O=this.filter(function(F,Z){return Z.name.slice(0,_.length)===_}),L=0;L<O.length;L++)delete this.files[O[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var I,O={};try{if((O=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");a.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var L=O.comment||this.comment||"";I=h.generateWorker(this,O,L)}catch(F){(I=new c("error")).error(F)}return new u(I,O.type||"string",O.mimeType)},generateAsync:function(_,I){return this.generateInternalStream(_).accumulate(I)},generateNodeStream:function(_,I){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(I)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a);for(var c=0;c<this.data.length;c++)a[c]=255&a[c]}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var c=a.charCodeAt(0),u=a.charCodeAt(1),l=a.charCodeAt(2),d=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===c&&this.data[f+1]===u&&this.data[f+2]===l&&this.data[f+3]===d)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var c=a.charCodeAt(0),u=a.charCodeAt(1),l=a.charCodeAt(2),d=a.charCodeAt(3),f=this.readData(4);return c===f[0]&&u===f[1]&&l===f[2]&&d===f[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var i=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var c,u=0;for(this.checkOffset(a),c=this.index+a-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=a,u},readString:function(a){return i.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,s){var i=n("./Uint8ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var i=n("./DataReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var i=n("./ArrayReader");function o(a){i.call(this,a)}n("../utils").inherits(o,i),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var i=n("../utils"),o=n("../support"),a=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),l=n("./Uint8ArrayReader");r.exports=function(d){var f=i.getTypeOf(d);return i.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new u(d):o.uint8array?new l(i.transformTo("uint8array",d)):new a(i.transformTo("array",d)):new c(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var i=n("./GenericWorker"),o=n("../utils");function a(c){i.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(a,i),a.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var i=n("./GenericWorker"),o=n("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,i),a.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(a,o),a.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}o.prototype.processChunk.call(this,c)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var i=n("../utils"),o=n("./GenericWorker");function a(c){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(l){u.dataIsReady=!0,u.data=l,u.max=l&&l.length||0,u.type=i.getTypeOf(l),u.isPaused||u._tickAndRepeat()},function(l){u.error(l)})}i.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(c){a.processChunk(c)}),o.on("end",function(){a.end()}),o.on("error",function(c){a.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=i},{}],29:[function(n,r,s){var i=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),c=n("../base64"),u=n("../support"),l=n("../external"),d=null;if(u.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(g,p){return new l.Promise(function(b,y){var x=[],S=g._internalType,C=g._outputType,_=g._mimeType;g.on("data",function(I,O){x.push(I),p&&p(O)}).on("error",function(I){x=[],y(I)}).on("end",function(){try{var I=(function(O,L,F){switch(O){case"blob":return i.newBlob(i.transformTo("arraybuffer",L),F);case"base64":return c.encode(L);default:return i.transformTo(O,L)}})(C,(function(O,L){var F,Z=0,ce=null,T=0;for(F=0;F<L.length;F++)T+=L[F].length;switch(O){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(ce=new Uint8Array(T),F=0;F<L.length;F++)ce.set(L[F],Z),Z+=L[F].length;return ce;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+O+"'")}})(S,x),_);b(I)}catch(O){y(O)}x=[]}).resume()})}function h(g,p,b){var y=p;switch(p){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=p,this._mimeType=b,i.checkSupport(y),this._worker=g.pipe(new o(y)),g.lock()}catch(x){this._worker=new a("error"),this._worker.error(x)}}h.prototype={accumulate:function(g){return f(this,g)},on:function(g,p){var b=this;return g==="data"?this._worker.on(g,function(y){p.call(b,y.data,y.meta)}):this._worker.on(g,function(){i.delay(p,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var i=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),l=0;l<256;l++)u[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;u[254]=u[254]=1;function d(){c.call(this,"utf-8 decode"),this.leftOver=null}function f(){c.call(this,"utf-8 encode")}s.utf8encode=function(h){return o.nodebuffer?a.newBufferFrom(h,"utf-8"):(function(g){var p,b,y,x,S,C=g.length,_=0;for(x=0;x<C;x++)(64512&(b=g.charCodeAt(x)))==55296&&x+1<C&&(64512&(y=g.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),x++),_+=b<128?1:b<2048?2:b<65536?3:4;for(p=o.uint8array?new Uint8Array(_):new Array(_),x=S=0;S<_;x++)(64512&(b=g.charCodeAt(x)))==55296&&x+1<C&&(64512&(y=g.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),x++),b<128?p[S++]=b:(b<2048?p[S++]=192|b>>>6:(b<65536?p[S++]=224|b>>>12:(p[S++]=240|b>>>18,p[S++]=128|b>>>12&63),p[S++]=128|b>>>6&63),p[S++]=128|63&b);return p})(h)},s.utf8decode=function(h){return o.nodebuffer?i.transformTo("nodebuffer",h).toString("utf-8"):(function(g){var p,b,y,x,S=g.length,C=new Array(2*S);for(p=b=0;p<S;)if((y=g[p++])<128)C[b++]=y;else if(4<(x=u[y]))C[b++]=65533,p+=x-1;else{for(y&=x===2?31:x===3?15:7;1<x&&p<S;)y=y<<6|63&g[p++],x--;1<x?C[b++]=65533:y<65536?C[b++]=y:(y-=65536,C[b++]=55296|y>>10&1023,C[b++]=56320|1023&y)}return C.length!==b&&(C.subarray?C=C.subarray(0,b):C.length=b),i.applyFromCharCode(C)})(h=i.transformTo(o.uint8array?"uint8array":"array",h))},i.inherits(d,c),d.prototype.processChunk=function(h){var g=i.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var p=g;(g=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),g.set(p,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var b=(function(x,S){var C;for((S=S||x.length)>x.length&&(S=x.length),C=S-1;0<=C&&(192&x[C])==128;)C--;return C<0||C===0?S:C+u[x[C]]>S?C:S})(g),y=g;b!==g.length&&(o.uint8array?(y=g.subarray(0,b),this.leftOver=g.subarray(b,g.length)):(y=g.slice(0,b),this.leftOver=g.slice(b,g.length))),this.push({data:s.utf8decode(y),meta:h.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=d,i.inherits(f,c),f.prototype.processChunk=function(h){this.push({data:s.utf8encode(h.data),meta:h.meta})},s.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var i=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),c=n("./external");function u(p){return p}function l(p,b){for(var y=0;y<p.length;++y)b[y]=255&p.charCodeAt(y);return b}n("setimmediate"),s.newBlob=function(p,b){s.checkSupport("blob");try{return new Blob([p],{type:b})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(p),y.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(p,b,y){var x=[],S=0,C=p.length;if(C<=y)return String.fromCharCode.apply(null,p);for(;S<C;)b==="array"||b==="nodebuffer"?x.push(String.fromCharCode.apply(null,p.slice(S,Math.min(S+y,C)))):x.push(String.fromCharCode.apply(null,p.subarray(S,Math.min(S+y,C)))),S+=y;return x.join("")},stringifyByChar:function(p){for(var b="",y=0;y<p.length;y++)b+=String.fromCharCode(p[y]);return b},applyCanBeUsed:{uint8array:(function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function f(p){var b=65536,y=s.getTypeOf(p),x=!0;if(y==="uint8array"?x=d.applyCanBeUsed.uint8array:y==="nodebuffer"&&(x=d.applyCanBeUsed.nodebuffer),x)for(;1<b;)try{return d.stringifyByChunk(p,y,b)}catch{b=Math.floor(b/2)}return d.stringifyByChar(p)}function h(p,b){for(var y=0;y<p.length;y++)b[y]=p[y];return b}s.applyFromCharCode=f;var g={};g.string={string:u,array:function(p){return l(p,new Array(p.length))},arraybuffer:function(p){return g.string.uint8array(p).buffer},uint8array:function(p){return l(p,new Uint8Array(p.length))},nodebuffer:function(p){return l(p,a.allocBuffer(p.length))}},g.array={string:f,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},g.arraybuffer={string:function(p){return f(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},g.uint8array={string:f,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return a.newBufferFrom(p)}},g.nodebuffer={string:f,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return g.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:u},s.transformTo=function(p,b){if(b=b||"",!p)return b;s.checkSupport(p);var y=s.getTypeOf(b);return g[y][p](b)},s.resolve=function(p){for(var b=p.split("/"),y=[],x=0;x<b.length;x++){var S=b[x];S==="."||S===""&&x!==0&&x!==b.length-1||(S===".."?y.pop():y.push(S))}return y.join("/")},s.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":i.nodebuffer&&a.isBuffer(p)?"nodebuffer":i.uint8array&&p instanceof Uint8Array?"uint8array":i.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(p){if(!i[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(p){var b,y,x="";for(y=0;y<(p||"").length;y++)x+="\\x"+((b=p.charCodeAt(y))<16?"0":"")+b.toString(16).toUpperCase();return x},s.delay=function(p,b,y){setImmediate(function(){p.apply(y||null,b||[])})},s.inherits=function(p,b){function y(){}y.prototype=b.prototype,p.prototype=new y},s.extend=function(){var p,b,y={};for(p=0;p<arguments.length;p++)for(b in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],b)&&y[b]===void 0&&(y[b]=arguments[p][b]);return y},s.prepareContent=function(p,b,y,x,S){return c.Promise.resolve(b).then(function(C){return i.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new c.Promise(function(_,I){var O=new FileReader;O.onload=function(L){_(L.target.result)},O.onerror=function(L){I(L.target.error)},O.readAsArrayBuffer(C)}):C}).then(function(C){var _=s.getTypeOf(C);return _?(_==="arraybuffer"?C=s.transformTo("uint8array",C):_==="string"&&(S?C=o.decode(C):y&&x!==!0&&(C=(function(I){return l(I,i.uint8array?new Uint8Array(I.length):new Array(I.length))})(C))),C):c.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),c=n("./zipEntry"),u=n("./support");function l(d){this.files=[],this.loadOptions=d}l.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(d)+")")}},isSignature:function(d,f){var h=this.reader.index;this.reader.setIndex(d);var g=this.reader.readString(4)===f;return this.reader.setIndex(h),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",h=o.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,h,g=this.zip64EndOfCentralSize-44;0<g;)d=this.reader.readInt(2),f=this.reader.readInt(4),h=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var g=f-h;if(0<g)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(d){this.reader=i(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var i=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),l=n("./compressions"),d=n("./support");function f(h,g){this.options=h,this.loadOptions=g}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var g,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=(function(b){for(var y in l)if(Object.prototype.hasOwnProperty.call(l,y)&&l[y].magic===b)return l[y];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,g,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var g=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(g),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var g,p,b,y=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<y;)g=h.readInt(2),p=h.readInt(2),b=h.readData(p),this.extraFields[g]={id:g,length:p,value:b};h.setIndex(y)},handleUTF8:function(){var h=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var p=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var y=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var g=i(h.value);return g.readInt(1)!==1||c(this.fileName)!==g.readInt(4)?null:u.utf8decode(g.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var g=i(h.value);return g.readInt(1)!==1||c(this.fileComment)!==g.readInt(4)?null:u.utf8decode(g.readData(h.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function i(g,p,b){this.name=g,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=p,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),l=n("./stream/GenericWorker");i.prototype={internalStream:function(g){var p=null,b="string";try{if(!g)throw new Error("No output type specified.");var y=(b=g.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),p=this._decompressWorker();var x=!this._dataBinary;x&&!y&&(p=p.pipe(new c.Utf8EncodeWorker)),!x&&y&&(p=p.pipe(new c.Utf8DecodeWorker))}catch(S){(p=new l("error")).error(S)}return new o(p,b,"")},async:function(g,p){return this.internalStream(g).accumulate(p)},nodeStream:function(g,p){return this.internalStream(g||"nodebuffer").toNodejsStream(p)},_compressWorker:function(g,p){if(this._data instanceof u&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(b,g,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<d.length;h++)i.prototype[d[h]]=f;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(i){var o,a,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var u=0,l=new c(g),d=i.document.createTextNode("");l.observe(d,{characterData:!0}),o=function(){d.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var p=i.document.createElement("script");p.onreadystatechange=function(){g(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},i.document.documentElement.appendChild(p)}:function(){setTimeout(g,0)};else{var f=new i.MessageChannel;f.port1.onmessage=g,o=function(){f.port2.postMessage(0)}}var h=[];function g(){var p,b;a=!0;for(var y=h.length;y;){for(b=h,h=[],p=-1;++p<y;)b[p]();y=h.length}a=!1}r.exports=function(p){h.push(p)!==1||a||o()}}).call(this,typeof nn<"u"?nn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var i=n("immediate");function o(){}var a={},c=["REJECTED"],u=["FULFILLED"],l=["PENDING"];function d(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,y!==o&&p(this,y)}function f(y,x,S){this.promise=y,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function h(y,x,S){i(function(){var C;try{C=x(S)}catch(_){return a.reject(y,_)}C===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,C)})}function g(y){var x=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof x=="function")return function(){x.apply(y,arguments)}}function p(y,x){var S=!1;function C(O){S||(S=!0,a.reject(y,O))}function _(O){S||(S=!0,a.resolve(y,O))}var I=b(function(){x(_,C)});I.status==="error"&&C(I.value)}function b(y,x){var S={};try{S.value=y(x),S.status="success"}catch(C){S.status="error",S.value=C}return S}(r.exports=d).prototype.finally=function(y){if(typeof y!="function")return this;var x=this.constructor;return this.then(function(S){return x.resolve(y()).then(function(){return S})},function(S){return x.resolve(y()).then(function(){throw S})})},d.prototype.catch=function(y){return this.then(null,y)},d.prototype.then=function(y,x){if(typeof y!="function"&&this.state===u||typeof x!="function"&&this.state===c)return this;var S=new this.constructor(o);return this.state!==l?h(S,this.state===u?y:x,this.outcome):this.queue.push(new f(S,y,x)),S},f.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},f.prototype.otherCallFulfilled=function(y){h(this.promise,this.onFulfilled,y)},f.prototype.callRejected=function(y){a.reject(this.promise,y)},f.prototype.otherCallRejected=function(y){h(this.promise,this.onRejected,y)},a.resolve=function(y,x){var S=b(g,x);if(S.status==="error")return a.reject(y,S.value);var C=S.value;if(C)p(y,C);else{y.state=u,y.outcome=x;for(var _=-1,I=y.queue.length;++_<I;)y.queue[_].callFulfilled(x)}return y},a.reject=function(y,x){y.state=c,y.outcome=x;for(var S=-1,C=y.queue.length;++S<C;)y.queue[S].callRejected(x);return y},d.resolve=function(y){return y instanceof this?y:a.resolve(new this(o),y)},d.reject=function(y){var x=new this(o);return a.reject(x,y)},d.all=function(y){var x=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=y.length,C=!1;if(!S)return this.resolve([]);for(var _=new Array(S),I=0,O=-1,L=new this(o);++O<S;)F(y[O],O);return L;function F(Z,ce){x.resolve(Z).then(function(T){_[ce]=T,++I!==S||C||(C=!0,a.resolve(L,_))},function(T){C||(C=!0,a.reject(L,T))})}},d.race=function(y){var x=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=y.length,C=!1;if(!S)return this.resolve([]);for(var _=-1,I=new this(o);++_<S;)O=y[_],x.resolve(O).then(function(L){C||(C=!0,a.resolve(I,L))},function(L){C||(C=!0,a.reject(I,L))});var O;return I}},{immediate:36}],38:[function(n,r,s){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var i=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),l=Object.prototype.toString,d=0,f=-1,h=0,g=8;function p(y){if(!(this instanceof p))return new p(y);this.options=o.assign({level:f,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},y||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var S=i.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(S!==d)throw new Error(c[S]);if(x.header&&i.deflateSetHeader(this.strm,x.header),x.dictionary){var C;if(C=typeof x.dictionary=="string"?a.string2buf(x.dictionary):l.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(S=i.deflateSetDictionary(this.strm,C))!==d)throw new Error(c[S]);this._dict_set=!0}}function b(y,x){var S=new p(x);if(S.push(y,!0),S.err)throw S.msg||c[S.err];return S.result}p.prototype.push=function(y,x){var S,C,_=this.strm,I=this.options.chunkSize;if(this.ended)return!1;C=x===~~x?x:x===!0?4:0,typeof y=="string"?_.input=a.string2buf(y):l.call(y)==="[object ArrayBuffer]"?_.input=new Uint8Array(y):_.input=y,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(I),_.next_out=0,_.avail_out=I),(S=i.deflate(_,C))!==1&&S!==d)return this.onEnd(S),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(_.output,_.next_out))):this.onData(o.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&S!==1);return C===4?(S=i.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===d):C!==2||(this.onEnd(d),!(_.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Deflate=p,s.deflate=b,s.deflateRaw=function(y,x){return(x=x||{}).raw=!0,b(y,x)},s.gzip=function(y,x){return(x=x||{}).gzip=!0,b(y,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var i=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),l=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||p&&p.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var y=i.inflateInit2(this.strm,b.windowBits);if(y!==c.Z_OK)throw new Error(u[y]);this.header=new d,i.inflateGetHeader(this.strm,this.header)}function g(p,b){var y=new h(b);if(y.push(p,!0),y.err)throw y.msg||u[y.err];return y.result}h.prototype.push=function(p,b){var y,x,S,C,_,I,O=this.strm,L=this.options.chunkSize,F=this.options.dictionary,Z=!1;if(this.ended)return!1;x=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof p=="string"?O.input=a.binstring2buf(p):f.call(p)==="[object ArrayBuffer]"?O.input=new Uint8Array(p):O.input=p,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new o.Buf8(L),O.next_out=0,O.avail_out=L),(y=i.inflate(O,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&F&&(I=typeof F=="string"?a.string2buf(F):f.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,y=i.inflateSetDictionary(this.strm,I)),y===c.Z_BUF_ERROR&&Z===!0&&(y=c.Z_OK,Z=!1),y!==c.Z_STREAM_END&&y!==c.Z_OK)return this.onEnd(y),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&y!==c.Z_STREAM_END&&(O.avail_in!==0||x!==c.Z_FINISH&&x!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=a.utf8border(O.output,O.next_out),C=O.next_out-S,_=a.buf2string(O.output,S),O.next_out=C,O.avail_out=L-C,C&&o.arraySet(O.output,O.output,S,C,0),this.onData(_)):this.onData(o.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(Z=!0)}while((0<O.avail_in||O.avail_out===0)&&y!==c.Z_STREAM_END);return y===c.Z_STREAM_END&&(x=c.Z_FINISH),x===c.Z_FINISH?(y=i.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===c.Z_OK):x!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(O.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},s.Inflate=h,s.inflate=g,s.inflateRaw=function(p,b){return(b=b||{}).raw=!0,g(p,b)},s.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var l=u.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var d in l)l.hasOwnProperty(d)&&(c[d]=l[d])}}return c},s.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var o={arraySet:function(c,u,l,d,f){if(u.subarray&&c.subarray)c.set(u.subarray(l,l+d),f);else for(var h=0;h<d;h++)c[f+h]=u[l+h]},flattenChunks:function(c){var u,l,d,f,h,g;for(u=d=0,l=c.length;u<l;u++)d+=c[u].length;for(g=new Uint8Array(d),u=f=0,l=c.length;u<l;u++)h=c[u],g.set(h,f),f+=h.length;return g}},a={arraySet:function(c,u,l,d,f){for(var h=0;h<d;h++)c[f+h]=u[l+h]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,o)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,a))},s.setTyped(i)},{}],42:[function(n,r,s){var i=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var c=new i.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function l(d,f){if(f<65537&&(d.subarray&&a||!d.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(d,f));for(var h="",g=0;g<f;g++)h+=String.fromCharCode(d[g]);return h}c[254]=c[254]=1,s.string2buf=function(d){var f,h,g,p,b,y=d.length,x=0;for(p=0;p<y;p++)(64512&(h=d.charCodeAt(p)))==55296&&p+1<y&&(64512&(g=d.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),p++),x+=h<128?1:h<2048?2:h<65536?3:4;for(f=new i.Buf8(x),p=b=0;b<x;p++)(64512&(h=d.charCodeAt(p)))==55296&&p+1<y&&(64512&(g=d.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),p++),h<128?f[b++]=h:(h<2048?f[b++]=192|h>>>6:(h<65536?f[b++]=224|h>>>12:(f[b++]=240|h>>>18,f[b++]=128|h>>>12&63),f[b++]=128|h>>>6&63),f[b++]=128|63&h);return f},s.buf2binstring=function(d){return l(d,d.length)},s.binstring2buf=function(d){for(var f=new i.Buf8(d.length),h=0,g=f.length;h<g;h++)f[h]=d.charCodeAt(h);return f},s.buf2string=function(d,f){var h,g,p,b,y=f||d.length,x=new Array(2*y);for(h=g=0;h<y;)if((p=d[h++])<128)x[g++]=p;else if(4<(b=c[p]))x[g++]=65533,h+=b-1;else{for(p&=b===2?31:b===3?15:7;1<b&&h<y;)p=p<<6|63&d[h++],b--;1<b?x[g++]=65533:p<65536?x[g++]=p:(p-=65536,x[g++]=55296|p>>10&1023,x[g++]=56320|1023&p)}return l(x,g)},s.utf8border=function(d,f){var h;for((f=f||d.length)>d.length&&(f=d.length),h=f-1;0<=h&&(192&d[h])==128;)h--;return h<0||h===0?f:h+c[d[h]]>f?h:f}},{"./common":41}],43:[function(n,r,s){r.exports=function(i,o,a,c){for(var u=65535&i|0,l=i>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;l=l+(u=u+o[c++]|0)|0,--d;);u%=65521,l%=65521}return u|l<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var i=(function(){for(var o,a=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[c]=o}return a})();r.exports=function(o,a,c,u){var l=i,d=u+c;o^=-1;for(var f=u;f<d;f++)o=o>>>8^l[255&(o^a[f])];return-1^o}},{}],46:[function(n,r,s){var i,o=n("../utils/common"),a=n("./trees"),c=n("./adler32"),u=n("./crc32"),l=n("./messages"),d=0,f=4,h=0,g=-2,p=-1,b=4,y=2,x=8,S=9,C=286,_=30,I=19,O=2*C+1,L=15,F=3,Z=258,ce=Z+F+1,T=42,V=113,w=1,W=2,me=3,K=4;function de(m,H){return m.msg=l[H],H}function X(m){return(m<<1)-(4<m?9:0)}function ue(m){for(var H=m.length;0<=--H;)m[H]=0}function N(m){var H=m.state,U=H.pending;U>m.avail_out&&(U=m.avail_out),U!==0&&(o.arraySet(m.output,H.pending_buf,H.pending_out,U,m.next_out),m.next_out+=U,H.pending_out+=U,m.total_out+=U,m.avail_out-=U,H.pending-=U,H.pending===0&&(H.pending_out=0))}function M(m,H){a._tr_flush_block(m,0<=m.block_start?m.block_start:-1,m.strstart-m.block_start,H),m.block_start=m.strstart,N(m.strm)}function he(m,H){m.pending_buf[m.pending++]=H}function se(m,H){m.pending_buf[m.pending++]=H>>>8&255,m.pending_buf[m.pending++]=255&H}function ne(m,H){var U,A,E=m.max_chain_length,R=m.strstart,q=m.prev_length,G=m.nice_match,D=m.strstart>m.w_size-ce?m.strstart-(m.w_size-ce):0,Y=m.window,ie=m.w_mask,Q=m.prev,le=m.strstart+Z,Pe=Y[R+q-1],Ce=Y[R+q];m.prev_length>=m.good_match&&(E>>=2),G>m.lookahead&&(G=m.lookahead);do if(Y[(U=H)+q]===Ce&&Y[U+q-1]===Pe&&Y[U]===Y[R]&&Y[++U]===Y[R+1]){R+=2,U++;do;while(Y[++R]===Y[++U]&&Y[++R]===Y[++U]&&Y[++R]===Y[++U]&&Y[++R]===Y[++U]&&Y[++R]===Y[++U]&&Y[++R]===Y[++U]&&Y[++R]===Y[++U]&&Y[++R]===Y[++U]&&R<le);if(A=Z-(le-R),R=le-Z,q<A){if(m.match_start=H,G<=(q=A))break;Pe=Y[R+q-1],Ce=Y[R+q]}}while((H=Q[H&ie])>D&&--E!=0);return q<=m.lookahead?q:m.lookahead}function ze(m){var H,U,A,E,R,q,G,D,Y,ie,Q=m.w_size;do{if(E=m.window_size-m.lookahead-m.strstart,m.strstart>=Q+(Q-ce)){for(o.arraySet(m.window,m.window,Q,Q,0),m.match_start-=Q,m.strstart-=Q,m.block_start-=Q,H=U=m.hash_size;A=m.head[--H],m.head[H]=Q<=A?A-Q:0,--U;);for(H=U=Q;A=m.prev[--H],m.prev[H]=Q<=A?A-Q:0,--U;);E+=Q}if(m.strm.avail_in===0)break;if(q=m.strm,G=m.window,D=m.strstart+m.lookahead,Y=E,ie=void 0,ie=q.avail_in,Y<ie&&(ie=Y),U=ie===0?0:(q.avail_in-=ie,o.arraySet(G,q.input,q.next_in,ie,D),q.state.wrap===1?q.adler=c(q.adler,G,ie,D):q.state.wrap===2&&(q.adler=u(q.adler,G,ie,D)),q.next_in+=ie,q.total_in+=ie,ie),m.lookahead+=U,m.lookahead+m.insert>=F)for(R=m.strstart-m.insert,m.ins_h=m.window[R],m.ins_h=(m.ins_h<<m.hash_shift^m.window[R+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[R+F-1])&m.hash_mask,m.prev[R&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=R,R++,m.insert--,!(m.lookahead+m.insert<F)););}while(m.lookahead<ce&&m.strm.avail_in!==0)}function at(m,H){for(var U,A;;){if(m.lookahead<ce){if(ze(m),m.lookahead<ce&&H===d)return w;if(m.lookahead===0)break}if(U=0,m.lookahead>=F&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+F-1])&m.hash_mask,U=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),U!==0&&m.strstart-U<=m.w_size-ce&&(m.match_length=ne(m,U)),m.match_length>=F)if(A=a._tr_tally(m,m.strstart-m.match_start,m.match_length-F),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=F){for(m.match_length--;m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+F-1])&m.hash_mask,U=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart,--m.match_length!=0;);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else A=a._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(A&&(M(m,!1),m.strm.avail_out===0))return w}return m.insert=m.strstart<F-1?m.strstart:F-1,H===f?(M(m,!0),m.strm.avail_out===0?me:K):m.last_lit&&(M(m,!1),m.strm.avail_out===0)?w:W}function Ae(m,H){for(var U,A,E;;){if(m.lookahead<ce){if(ze(m),m.lookahead<ce&&H===d)return w;if(m.lookahead===0)break}if(U=0,m.lookahead>=F&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+F-1])&m.hash_mask,U=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=F-1,U!==0&&m.prev_length<m.max_lazy_match&&m.strstart-U<=m.w_size-ce&&(m.match_length=ne(m,U),m.match_length<=5&&(m.strategy===1||m.match_length===F&&4096<m.strstart-m.match_start)&&(m.match_length=F-1)),m.prev_length>=F&&m.match_length<=m.prev_length){for(E=m.strstart+m.lookahead-F,A=a._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-F),m.lookahead-=m.prev_length-1,m.prev_length-=2;++m.strstart<=E&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+F-1])&m.hash_mask,U=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),--m.prev_length!=0;);if(m.match_available=0,m.match_length=F-1,m.strstart++,A&&(M(m,!1),m.strm.avail_out===0))return w}else if(m.match_available){if((A=a._tr_tally(m,0,m.window[m.strstart-1]))&&M(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return w}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(A=a._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<F-1?m.strstart:F-1,H===f?(M(m,!0),m.strm.avail_out===0?me:K):m.last_lit&&(M(m,!1),m.strm.avail_out===0)?w:W}function ke(m,H,U,A,E){this.good_length=m,this.max_lazy=H,this.nice_length=U,this.max_chain=A,this.func=E}function et(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*O),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*I+1)),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(L+1),this.heap=new o.Buf16(2*C+1),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*C+1),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $e(m){var H;return m&&m.state?(m.total_in=m.total_out=0,m.data_type=y,(H=m.state).pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap?T:V,m.adler=H.wrap===2?0:1,H.last_flush=d,a._tr_init(H),h):de(m,g)}function Lt(m){var H=$e(m);return H===h&&(function(U){U.window_size=2*U.w_size,ue(U.head),U.max_lazy_match=i[U.level].max_lazy,U.good_match=i[U.level].good_length,U.nice_match=i[U.level].nice_length,U.max_chain_length=i[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=F-1,U.match_available=0,U.ins_h=0})(m.state),H}function Ot(m,H,U,A,E,R){if(!m)return g;var q=1;if(H===p&&(H=6),A<0?(q=0,A=-A):15<A&&(q=2,A-=16),E<1||S<E||U!==x||A<8||15<A||H<0||9<H||R<0||b<R)return de(m,g);A===8&&(A=9);var G=new et;return(m.state=G).strm=m,G.wrap=q,G.gzhead=null,G.w_bits=A,G.w_size=1<<G.w_bits,G.w_mask=G.w_size-1,G.hash_bits=E+7,G.hash_size=1<<G.hash_bits,G.hash_mask=G.hash_size-1,G.hash_shift=~~((G.hash_bits+F-1)/F),G.window=new o.Buf8(2*G.w_size),G.head=new o.Buf16(G.hash_size),G.prev=new o.Buf16(G.w_size),G.lit_bufsize=1<<E+6,G.pending_buf_size=4*G.lit_bufsize,G.pending_buf=new o.Buf8(G.pending_buf_size),G.d_buf=1*G.lit_bufsize,G.l_buf=3*G.lit_bufsize,G.level=H,G.strategy=R,G.method=U,Lt(m)}i=[new ke(0,0,0,0,function(m,H){var U=65535;for(U>m.pending_buf_size-5&&(U=m.pending_buf_size-5);;){if(m.lookahead<=1){if(ze(m),m.lookahead===0&&H===d)return w;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var A=m.block_start+U;if((m.strstart===0||m.strstart>=A)&&(m.lookahead=m.strstart-A,m.strstart=A,M(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-ce&&(M(m,!1),m.strm.avail_out===0))return w}return m.insert=0,H===f?(M(m,!0),m.strm.avail_out===0?me:K):(m.strstart>m.block_start&&(M(m,!1),m.strm.avail_out),w)}),new ke(4,4,8,4,at),new ke(4,5,16,8,at),new ke(4,6,32,32,at),new ke(4,4,16,16,Ae),new ke(8,16,32,32,Ae),new ke(8,16,128,128,Ae),new ke(8,32,128,256,Ae),new ke(32,128,258,1024,Ae),new ke(32,258,258,4096,Ae)],s.deflateInit=function(m,H){return Ot(m,H,x,15,8,0)},s.deflateInit2=Ot,s.deflateReset=Lt,s.deflateResetKeep=$e,s.deflateSetHeader=function(m,H){return m&&m.state?m.state.wrap!==2?g:(m.state.gzhead=H,h):g},s.deflate=function(m,H){var U,A,E,R;if(!m||!m.state||5<H||H<0)return m?de(m,g):g;if(A=m.state,!m.output||!m.input&&m.avail_in!==0||A.status===666&&H!==f)return de(m,m.avail_out===0?-5:g);if(A.strm=m,U=A.last_flush,A.last_flush=H,A.status===T)if(A.wrap===2)m.adler=0,he(A,31),he(A,139),he(A,8),A.gzhead?(he(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),he(A,255&A.gzhead.time),he(A,A.gzhead.time>>8&255),he(A,A.gzhead.time>>16&255),he(A,A.gzhead.time>>24&255),he(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),he(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(he(A,255&A.gzhead.extra.length),he(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(m.adler=u(m.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(he(A,0),he(A,0),he(A,0),he(A,0),he(A,0),he(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),he(A,3),A.status=V);else{var q=x+(A.w_bits-8<<4)<<8;q|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(q|=32),q+=31-q%31,A.status=V,se(A,q),A.strstart!==0&&(se(A,m.adler>>>16),se(A,65535&m.adler)),m.adler=1}if(A.status===69)if(A.gzhead.extra){for(E=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>E&&(m.adler=u(m.adler,A.pending_buf,A.pending-E,E)),N(m),E=A.pending,A.pending!==A.pending_buf_size));)he(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>E&&(m.adler=u(m.adler,A.pending_buf,A.pending-E,E)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){E=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>E&&(m.adler=u(m.adler,A.pending_buf,A.pending-E,E)),N(m),E=A.pending,A.pending===A.pending_buf_size)){R=1;break}R=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,he(A,R)}while(R!==0);A.gzhead.hcrc&&A.pending>E&&(m.adler=u(m.adler,A.pending_buf,A.pending-E,E)),R===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){E=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>E&&(m.adler=u(m.adler,A.pending_buf,A.pending-E,E)),N(m),E=A.pending,A.pending===A.pending_buf_size)){R=1;break}R=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,he(A,R)}while(R!==0);A.gzhead.hcrc&&A.pending>E&&(m.adler=u(m.adler,A.pending_buf,A.pending-E,E)),R===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&N(m),A.pending+2<=A.pending_buf_size&&(he(A,255&m.adler),he(A,m.adler>>8&255),m.adler=0,A.status=V)):A.status=V),A.pending!==0){if(N(m),m.avail_out===0)return A.last_flush=-1,h}else if(m.avail_in===0&&X(H)<=X(U)&&H!==f)return de(m,-5);if(A.status===666&&m.avail_in!==0)return de(m,-5);if(m.avail_in!==0||A.lookahead!==0||H!==d&&A.status!==666){var G=A.strategy===2?(function(D,Y){for(var ie;;){if(D.lookahead===0&&(ze(D),D.lookahead===0)){if(Y===d)return w;break}if(D.match_length=0,ie=a._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++,ie&&(M(D,!1),D.strm.avail_out===0))return w}return D.insert=0,Y===f?(M(D,!0),D.strm.avail_out===0?me:K):D.last_lit&&(M(D,!1),D.strm.avail_out===0)?w:W})(A,H):A.strategy===3?(function(D,Y){for(var ie,Q,le,Pe,Ce=D.window;;){if(D.lookahead<=Z){if(ze(D),D.lookahead<=Z&&Y===d)return w;if(D.lookahead===0)break}if(D.match_length=0,D.lookahead>=F&&0<D.strstart&&(Q=Ce[le=D.strstart-1])===Ce[++le]&&Q===Ce[++le]&&Q===Ce[++le]){Pe=D.strstart+Z;do;while(Q===Ce[++le]&&Q===Ce[++le]&&Q===Ce[++le]&&Q===Ce[++le]&&Q===Ce[++le]&&Q===Ce[++le]&&Q===Ce[++le]&&Q===Ce[++le]&&le<Pe);D.match_length=Z-(Pe-le),D.match_length>D.lookahead&&(D.match_length=D.lookahead)}if(D.match_length>=F?(ie=a._tr_tally(D,1,D.match_length-F),D.lookahead-=D.match_length,D.strstart+=D.match_length,D.match_length=0):(ie=a._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++),ie&&(M(D,!1),D.strm.avail_out===0))return w}return D.insert=0,Y===f?(M(D,!0),D.strm.avail_out===0?me:K):D.last_lit&&(M(D,!1),D.strm.avail_out===0)?w:W})(A,H):i[A.level].func(A,H);if(G!==me&&G!==K||(A.status=666),G===w||G===me)return m.avail_out===0&&(A.last_flush=-1),h;if(G===W&&(H===1?a._tr_align(A):H!==5&&(a._tr_stored_block(A,0,0,!1),H===3&&(ue(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),N(m),m.avail_out===0))return A.last_flush=-1,h}return H!==f?h:A.wrap<=0?1:(A.wrap===2?(he(A,255&m.adler),he(A,m.adler>>8&255),he(A,m.adler>>16&255),he(A,m.adler>>24&255),he(A,255&m.total_in),he(A,m.total_in>>8&255),he(A,m.total_in>>16&255),he(A,m.total_in>>24&255)):(se(A,m.adler>>>16),se(A,65535&m.adler)),N(m),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?h:1)},s.deflateEnd=function(m){var H;return m&&m.state?(H=m.state.status)!==T&&H!==69&&H!==73&&H!==91&&H!==103&&H!==V&&H!==666?de(m,g):(m.state=null,H===V?de(m,-3):h):g},s.deflateSetDictionary=function(m,H){var U,A,E,R,q,G,D,Y,ie=H.length;if(!m||!m.state||(R=(U=m.state).wrap)===2||R===1&&U.status!==T||U.lookahead)return g;for(R===1&&(m.adler=c(m.adler,H,ie,0)),U.wrap=0,ie>=U.w_size&&(R===0&&(ue(U.head),U.strstart=0,U.block_start=0,U.insert=0),Y=new o.Buf8(U.w_size),o.arraySet(Y,H,ie-U.w_size,U.w_size,0),H=Y,ie=U.w_size),q=m.avail_in,G=m.next_in,D=m.input,m.avail_in=ie,m.next_in=0,m.input=H,ze(U);U.lookahead>=F;){for(A=U.strstart,E=U.lookahead-(F-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[A+F-1])&U.hash_mask,U.prev[A&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=A,A++,--E;);U.strstart=A,U.lookahead=F-1,ze(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=F-1,U.match_available=0,m.next_in=G,m.input=D,m.avail_in=q,U.wrap=R,h},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(i,o){var a,c,u,l,d,f,h,g,p,b,y,x,S,C,_,I,O,L,F,Z,ce,T,V,w,W;a=i.state,c=i.next_in,w=i.input,u=c+(i.avail_in-5),l=i.next_out,W=i.output,d=l-(o-i.avail_out),f=l+(i.avail_out-257),h=a.dmax,g=a.wsize,p=a.whave,b=a.wnext,y=a.window,x=a.hold,S=a.bits,C=a.lencode,_=a.distcode,I=(1<<a.lenbits)-1,O=(1<<a.distbits)-1;e:do{S<15&&(x+=w[c++]<<S,S+=8,x+=w[c++]<<S,S+=8),L=C[x&I];t:for(;;){if(x>>>=F=L>>>24,S-=F,(F=L>>>16&255)===0)W[l++]=65535&L;else{if(!(16&F)){if((64&F)==0){L=C[(65535&L)+(x&(1<<F)-1)];continue t}if(32&F){a.mode=12;break e}i.msg="invalid literal/length code",a.mode=30;break e}Z=65535&L,(F&=15)&&(S<F&&(x+=w[c++]<<S,S+=8),Z+=x&(1<<F)-1,x>>>=F,S-=F),S<15&&(x+=w[c++]<<S,S+=8,x+=w[c++]<<S,S+=8),L=_[x&O];n:for(;;){if(x>>>=F=L>>>24,S-=F,!(16&(F=L>>>16&255))){if((64&F)==0){L=_[(65535&L)+(x&(1<<F)-1)];continue n}i.msg="invalid distance code",a.mode=30;break e}if(ce=65535&L,S<(F&=15)&&(x+=w[c++]<<S,(S+=8)<F&&(x+=w[c++]<<S,S+=8)),h<(ce+=x&(1<<F)-1)){i.msg="invalid distance too far back",a.mode=30;break e}if(x>>>=F,S-=F,(F=l-d)<ce){if(p<(F=ce-F)&&a.sane){i.msg="invalid distance too far back",a.mode=30;break e}if(V=y,(T=0)===b){if(T+=g-F,F<Z){for(Z-=F;W[l++]=y[T++],--F;);T=l-ce,V=W}}else if(b<F){if(T+=g+b-F,(F-=b)<Z){for(Z-=F;W[l++]=y[T++],--F;);if(T=0,b<Z){for(Z-=F=b;W[l++]=y[T++],--F;);T=l-ce,V=W}}}else if(T+=b-F,F<Z){for(Z-=F;W[l++]=y[T++],--F;);T=l-ce,V=W}for(;2<Z;)W[l++]=V[T++],W[l++]=V[T++],W[l++]=V[T++],Z-=3;Z&&(W[l++]=V[T++],1<Z&&(W[l++]=V[T++]))}else{for(T=l-ce;W[l++]=W[T++],W[l++]=W[T++],W[l++]=W[T++],2<(Z-=3););Z&&(W[l++]=W[T++],1<Z&&(W[l++]=W[T++]))}break}}break}}while(c<u&&l<f);c-=Z=S>>3,x&=(1<<(S-=Z<<3))-1,i.next_in=c,i.next_out=l,i.avail_in=c<u?u-c+5:5-(c-u),i.avail_out=l<f?f-l+257:257-(l-f),a.hold=x,a.bits=S}},{}],49:[function(n,r,s){var i=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),l=1,d=2,f=0,h=-2,g=1,p=852,b=592;function y(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(T){var V;return T&&T.state?(V=T.state,T.total_in=T.total_out=V.total=0,T.msg="",V.wrap&&(T.adler=1&V.wrap),V.mode=g,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new i.Buf32(p),V.distcode=V.distdyn=new i.Buf32(b),V.sane=1,V.back=-1,f):h}function C(T){var V;return T&&T.state?((V=T.state).wsize=0,V.whave=0,V.wnext=0,S(T)):h}function _(T,V){var w,W;return T&&T.state?(W=T.state,V<0?(w=0,V=-V):(w=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?h:(W.window!==null&&W.wbits!==V&&(W.window=null),W.wrap=w,W.wbits=V,C(T))):h}function I(T,V){var w,W;return T?(W=new x,(T.state=W).window=null,(w=_(T,V))!==f&&(T.state=null),w):h}var O,L,F=!0;function Z(T){if(F){var V;for(O=new i.Buf32(512),L=new i.Buf32(32),V=0;V<144;)T.lens[V++]=8;for(;V<256;)T.lens[V++]=9;for(;V<280;)T.lens[V++]=7;for(;V<288;)T.lens[V++]=8;for(u(l,T.lens,0,288,O,0,T.work,{bits:9}),V=0;V<32;)T.lens[V++]=5;u(d,T.lens,0,32,L,0,T.work,{bits:5}),F=!1}T.lencode=O,T.lenbits=9,T.distcode=L,T.distbits=5}function ce(T,V,w,W){var me,K=T.state;return K.window===null&&(K.wsize=1<<K.wbits,K.wnext=0,K.whave=0,K.window=new i.Buf8(K.wsize)),W>=K.wsize?(i.arraySet(K.window,V,w-K.wsize,K.wsize,0),K.wnext=0,K.whave=K.wsize):(W<(me=K.wsize-K.wnext)&&(me=W),i.arraySet(K.window,V,w-W,me,K.wnext),(W-=me)?(i.arraySet(K.window,V,w-W,W,0),K.wnext=W,K.whave=K.wsize):(K.wnext+=me,K.wnext===K.wsize&&(K.wnext=0),K.whave<K.wsize&&(K.whave+=me))),0}s.inflateReset=C,s.inflateReset2=_,s.inflateResetKeep=S,s.inflateInit=function(T){return I(T,15)},s.inflateInit2=I,s.inflate=function(T,V){var w,W,me,K,de,X,ue,N,M,he,se,ne,ze,at,Ae,ke,et,$e,Lt,Ot,m,H,U,A,E=0,R=new i.Buf8(4),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return h;(w=T.state).mode===12&&(w.mode=13),de=T.next_out,me=T.output,ue=T.avail_out,K=T.next_in,W=T.input,X=T.avail_in,N=w.hold,M=w.bits,he=X,se=ue,H=f;e:for(;;)switch(w.mode){case g:if(w.wrap===0){w.mode=13;break}for(;M<16;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}if(2&w.wrap&&N===35615){R[w.check=0]=255&N,R[1]=N>>>8&255,w.check=a(w.check,R,2,0),M=N=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&N)<<8)+(N>>8))%31){T.msg="incorrect header check",w.mode=30;break}if((15&N)!=8){T.msg="unknown compression method",w.mode=30;break}if(M-=4,m=8+(15&(N>>>=4)),w.wbits===0)w.wbits=m;else if(m>w.wbits){T.msg="invalid window size",w.mode=30;break}w.dmax=1<<m,T.adler=w.check=1,w.mode=512&N?10:12,M=N=0;break;case 2:for(;M<16;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}if(w.flags=N,(255&w.flags)!=8){T.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){T.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=N>>8&1),512&w.flags&&(R[0]=255&N,R[1]=N>>>8&255,w.check=a(w.check,R,2,0)),M=N=0,w.mode=3;case 3:for(;M<32;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}w.head&&(w.head.time=N),512&w.flags&&(R[0]=255&N,R[1]=N>>>8&255,R[2]=N>>>16&255,R[3]=N>>>24&255,w.check=a(w.check,R,4,0)),M=N=0,w.mode=4;case 4:for(;M<16;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}w.head&&(w.head.xflags=255&N,w.head.os=N>>8),512&w.flags&&(R[0]=255&N,R[1]=N>>>8&255,w.check=a(w.check,R,2,0)),M=N=0,w.mode=5;case 5:if(1024&w.flags){for(;M<16;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}w.length=N,w.head&&(w.head.extra_len=N),512&w.flags&&(R[0]=255&N,R[1]=N>>>8&255,w.check=a(w.check,R,2,0)),M=N=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(X<(ne=w.length)&&(ne=X),ne&&(w.head&&(m=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),i.arraySet(w.head.extra,W,K,ne,m)),512&w.flags&&(w.check=a(w.check,W,ne,K)),X-=ne,K+=ne,w.length-=ne),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(X===0)break e;for(ne=0;m=W[K+ne++],w.head&&m&&w.length<65536&&(w.head.name+=String.fromCharCode(m)),m&&ne<X;);if(512&w.flags&&(w.check=a(w.check,W,ne,K)),X-=ne,K+=ne,m)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(X===0)break e;for(ne=0;m=W[K+ne++],w.head&&m&&w.length<65536&&(w.head.comment+=String.fromCharCode(m)),m&&ne<X;);if(512&w.flags&&(w.check=a(w.check,W,ne,K)),X-=ne,K+=ne,m)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;M<16;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}if(N!==(65535&w.check)){T.msg="header crc mismatch",w.mode=30;break}M=N=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),T.adler=w.check=0,w.mode=12;break;case 10:for(;M<32;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}T.adler=w.check=y(N),M=N=0,w.mode=11;case 11:if(w.havedict===0)return T.next_out=de,T.avail_out=ue,T.next_in=K,T.avail_in=X,w.hold=N,w.bits=M,2;T.adler=w.check=1,w.mode=12;case 12:if(V===5||V===6)break e;case 13:if(w.last){N>>>=7&M,M-=7&M,w.mode=27;break}for(;M<3;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}switch(w.last=1&N,M-=1,3&(N>>>=1)){case 0:w.mode=14;break;case 1:if(Z(w),w.mode=20,V!==6)break;N>>>=2,M-=2;break e;case 2:w.mode=17;break;case 3:T.msg="invalid block type",w.mode=30}N>>>=2,M-=2;break;case 14:for(N>>>=7&M,M-=7&M;M<32;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}if((65535&N)!=(N>>>16^65535)){T.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&N,M=N=0,w.mode=15,V===6)break e;case 15:w.mode=16;case 16:if(ne=w.length){if(X<ne&&(ne=X),ue<ne&&(ne=ue),ne===0)break e;i.arraySet(me,W,K,ne,de),X-=ne,K+=ne,ue-=ne,de+=ne,w.length-=ne;break}w.mode=12;break;case 17:for(;M<14;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}if(w.nlen=257+(31&N),N>>>=5,M-=5,w.ndist=1+(31&N),N>>>=5,M-=5,w.ncode=4+(15&N),N>>>=4,M-=4,286<w.nlen||30<w.ndist){T.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;M<3;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}w.lens[q[w.have++]]=7&N,N>>>=3,M-=3}for(;w.have<19;)w.lens[q[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,U={bits:w.lenbits},H=u(0,w.lens,0,19,w.lencode,0,w.work,U),w.lenbits=U.bits,H){T.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;ke=(E=w.lencode[N&(1<<w.lenbits)-1])>>>16&255,et=65535&E,!((Ae=E>>>24)<=M);){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}if(et<16)N>>>=Ae,M-=Ae,w.lens[w.have++]=et;else{if(et===16){for(A=Ae+2;M<A;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}if(N>>>=Ae,M-=Ae,w.have===0){T.msg="invalid bit length repeat",w.mode=30;break}m=w.lens[w.have-1],ne=3+(3&N),N>>>=2,M-=2}else if(et===17){for(A=Ae+3;M<A;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}M-=Ae,m=0,ne=3+(7&(N>>>=Ae)),N>>>=3,M-=3}else{for(A=Ae+7;M<A;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}M-=Ae,m=0,ne=11+(127&(N>>>=Ae)),N>>>=7,M-=7}if(w.have+ne>w.nlen+w.ndist){T.msg="invalid bit length repeat",w.mode=30;break}for(;ne--;)w.lens[w.have++]=m}}if(w.mode===30)break;if(w.lens[256]===0){T.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,U={bits:w.lenbits},H=u(l,w.lens,0,w.nlen,w.lencode,0,w.work,U),w.lenbits=U.bits,H){T.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,U={bits:w.distbits},H=u(d,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,U),w.distbits=U.bits,H){T.msg="invalid distances set",w.mode=30;break}if(w.mode=20,V===6)break e;case 20:w.mode=21;case 21:if(6<=X&&258<=ue){T.next_out=de,T.avail_out=ue,T.next_in=K,T.avail_in=X,w.hold=N,w.bits=M,c(T,se),de=T.next_out,me=T.output,ue=T.avail_out,K=T.next_in,W=T.input,X=T.avail_in,N=w.hold,M=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;ke=(E=w.lencode[N&(1<<w.lenbits)-1])>>>16&255,et=65535&E,!((Ae=E>>>24)<=M);){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}if(ke&&(240&ke)==0){for($e=Ae,Lt=ke,Ot=et;ke=(E=w.lencode[Ot+((N&(1<<$e+Lt)-1)>>$e)])>>>16&255,et=65535&E,!($e+(Ae=E>>>24)<=M);){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}N>>>=$e,M-=$e,w.back+=$e}if(N>>>=Ae,M-=Ae,w.back+=Ae,w.length=et,ke===0){w.mode=26;break}if(32&ke){w.back=-1,w.mode=12;break}if(64&ke){T.msg="invalid literal/length code",w.mode=30;break}w.extra=15&ke,w.mode=22;case 22:if(w.extra){for(A=w.extra;M<A;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}w.length+=N&(1<<w.extra)-1,N>>>=w.extra,M-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;ke=(E=w.distcode[N&(1<<w.distbits)-1])>>>16&255,et=65535&E,!((Ae=E>>>24)<=M);){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}if((240&ke)==0){for($e=Ae,Lt=ke,Ot=et;ke=(E=w.distcode[Ot+((N&(1<<$e+Lt)-1)>>$e)])>>>16&255,et=65535&E,!($e+(Ae=E>>>24)<=M);){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}N>>>=$e,M-=$e,w.back+=$e}if(N>>>=Ae,M-=Ae,w.back+=Ae,64&ke){T.msg="invalid distance code",w.mode=30;break}w.offset=et,w.extra=15&ke,w.mode=24;case 24:if(w.extra){for(A=w.extra;M<A;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}w.offset+=N&(1<<w.extra)-1,N>>>=w.extra,M-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){T.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(ue===0)break e;if(ne=se-ue,w.offset>ne){if((ne=w.offset-ne)>w.whave&&w.sane){T.msg="invalid distance too far back",w.mode=30;break}ze=ne>w.wnext?(ne-=w.wnext,w.wsize-ne):w.wnext-ne,ne>w.length&&(ne=w.length),at=w.window}else at=me,ze=de-w.offset,ne=w.length;for(ue<ne&&(ne=ue),ue-=ne,w.length-=ne;me[de++]=at[ze++],--ne;);w.length===0&&(w.mode=21);break;case 26:if(ue===0)break e;me[de++]=w.length,ue--,w.mode=21;break;case 27:if(w.wrap){for(;M<32;){if(X===0)break e;X--,N|=W[K++]<<M,M+=8}if(se-=ue,T.total_out+=se,w.total+=se,se&&(T.adler=w.check=w.flags?a(w.check,me,se,de-se):o(w.check,me,se,de-se)),se=ue,(w.flags?N:y(N))!==w.check){T.msg="incorrect data check",w.mode=30;break}M=N=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;M<32;){if(X===0)break e;X--,N+=W[K++]<<M,M+=8}if(N!==(4294967295&w.total)){T.msg="incorrect length check",w.mode=30;break}M=N=0}w.mode=29;case 29:H=1;break e;case 30:H=-3;break e;case 31:return-4;case 32:default:return h}return T.next_out=de,T.avail_out=ue,T.next_in=K,T.avail_in=X,w.hold=N,w.bits=M,(w.wsize||se!==T.avail_out&&w.mode<30&&(w.mode<27||V!==4))&&ce(T,T.output,T.next_out,se-T.avail_out)?(w.mode=31,-4):(he-=T.avail_in,se-=T.avail_out,T.total_in+=he,T.total_out+=se,w.total+=se,w.wrap&&se&&(T.adler=w.check=w.flags?a(w.check,me,se,T.next_out-se):o(w.check,me,se,T.next_out-se)),T.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(he==0&&se===0||V===4)&&H===f&&(H=-5),H)},s.inflateEnd=function(T){if(!T||!T.state)return h;var V=T.state;return V.window&&(V.window=null),T.state=null,f},s.inflateGetHeader=function(T,V){var w;return T&&T.state?(2&(w=T.state).wrap)==0?h:((w.head=V).done=!1,f):h},s.inflateSetDictionary=function(T,V){var w,W=V.length;return T&&T.state?(w=T.state).wrap!==0&&w.mode!==11?h:w.mode===11&&o(1,V,W,0)!==w.check?-3:ce(T,V,W,W)?(w.mode=31,-4):(w.havedict=1,f):h},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var i=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(l,d,f,h,g,p,b,y){var x,S,C,_,I,O,L,F,Z,ce=y.bits,T=0,V=0,w=0,W=0,me=0,K=0,de=0,X=0,ue=0,N=0,M=null,he=0,se=new i.Buf16(16),ne=new i.Buf16(16),ze=null,at=0;for(T=0;T<=15;T++)se[T]=0;for(V=0;V<h;V++)se[d[f+V]]++;for(me=ce,W=15;1<=W&&se[W]===0;W--);if(W<me&&(me=W),W===0)return g[p++]=20971520,g[p++]=20971520,y.bits=1,0;for(w=1;w<W&&se[w]===0;w++);for(me<w&&(me=w),T=X=1;T<=15;T++)if(X<<=1,(X-=se[T])<0)return-1;if(0<X&&(l===0||W!==1))return-1;for(ne[1]=0,T=1;T<15;T++)ne[T+1]=ne[T]+se[T];for(V=0;V<h;V++)d[f+V]!==0&&(b[ne[d[f+V]]++]=V);if(O=l===0?(M=ze=b,19):l===1?(M=o,he-=257,ze=a,at-=257,256):(M=c,ze=u,-1),T=w,I=p,de=V=N=0,C=-1,_=(ue=1<<(K=me))-1,l===1&&852<ue||l===2&&592<ue)return 1;for(;;){for(L=T-de,Z=b[V]<O?(F=0,b[V]):b[V]>O?(F=ze[at+b[V]],M[he+b[V]]):(F=96,0),x=1<<T-de,w=S=1<<K;g[I+(N>>de)+(S-=x)]=L<<24|F<<16|Z|0,S!==0;);for(x=1<<T-1;N&x;)x>>=1;if(x!==0?(N&=x-1,N+=x):N=0,V++,--se[T]==0){if(T===W)break;T=d[f+b[V]]}if(me<T&&(N&_)!==C){for(de===0&&(de=me),I+=w,X=1<<(K=T-de);K+de<W&&!((X-=se[K+de])<=0);)K++,X<<=1;if(ue+=1<<K,l===1&&852<ue||l===2&&592<ue)return 1;g[C=N&_]=me<<24|K<<16|I-p|0}}return N!==0&&(g[I+N]=T-de<<24|64<<16|0),y.bits=me,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var i=n("../utils/common"),o=0,a=1;function c(E){for(var R=E.length;0<=--R;)E[R]=0}var u=0,l=29,d=256,f=d+1+l,h=30,g=19,p=2*f+1,b=15,y=16,x=7,S=256,C=16,_=17,I=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=new Array(2*(f+2));c(ce);var T=new Array(2*h);c(T);var V=new Array(512);c(V);var w=new Array(256);c(w);var W=new Array(l);c(W);var me,K,de,X=new Array(h);function ue(E,R,q,G,D){this.static_tree=E,this.extra_bits=R,this.extra_base=q,this.elems=G,this.max_length=D,this.has_stree=E&&E.length}function N(E,R){this.dyn_tree=E,this.max_code=0,this.stat_desc=R}function M(E){return E<256?V[E]:V[256+(E>>>7)]}function he(E,R){E.pending_buf[E.pending++]=255&R,E.pending_buf[E.pending++]=R>>>8&255}function se(E,R,q){E.bi_valid>y-q?(E.bi_buf|=R<<E.bi_valid&65535,he(E,E.bi_buf),E.bi_buf=R>>y-E.bi_valid,E.bi_valid+=q-y):(E.bi_buf|=R<<E.bi_valid&65535,E.bi_valid+=q)}function ne(E,R,q){se(E,q[2*R],q[2*R+1])}function ze(E,R){for(var q=0;q|=1&E,E>>>=1,q<<=1,0<--R;);return q>>>1}function at(E,R,q){var G,D,Y=new Array(b+1),ie=0;for(G=1;G<=b;G++)Y[G]=ie=ie+q[G-1]<<1;for(D=0;D<=R;D++){var Q=E[2*D+1];Q!==0&&(E[2*D]=ze(Y[Q]++,Q))}}function Ae(E){var R;for(R=0;R<f;R++)E.dyn_ltree[2*R]=0;for(R=0;R<h;R++)E.dyn_dtree[2*R]=0;for(R=0;R<g;R++)E.bl_tree[2*R]=0;E.dyn_ltree[2*S]=1,E.opt_len=E.static_len=0,E.last_lit=E.matches=0}function ke(E){8<E.bi_valid?he(E,E.bi_buf):0<E.bi_valid&&(E.pending_buf[E.pending++]=E.bi_buf),E.bi_buf=0,E.bi_valid=0}function et(E,R,q,G){var D=2*R,Y=2*q;return E[D]<E[Y]||E[D]===E[Y]&&G[R]<=G[q]}function $e(E,R,q){for(var G=E.heap[q],D=q<<1;D<=E.heap_len&&(D<E.heap_len&&et(R,E.heap[D+1],E.heap[D],E.depth)&&D++,!et(R,G,E.heap[D],E.depth));)E.heap[q]=E.heap[D],q=D,D<<=1;E.heap[q]=G}function Lt(E,R,q){var G,D,Y,ie,Q=0;if(E.last_lit!==0)for(;G=E.pending_buf[E.d_buf+2*Q]<<8|E.pending_buf[E.d_buf+2*Q+1],D=E.pending_buf[E.l_buf+Q],Q++,G===0?ne(E,D,R):(ne(E,(Y=w[D])+d+1,R),(ie=O[Y])!==0&&se(E,D-=W[Y],ie),ne(E,Y=M(--G),q),(ie=L[Y])!==0&&se(E,G-=X[Y],ie)),Q<E.last_lit;);ne(E,S,R)}function Ot(E,R){var q,G,D,Y=R.dyn_tree,ie=R.stat_desc.static_tree,Q=R.stat_desc.has_stree,le=R.stat_desc.elems,Pe=-1;for(E.heap_len=0,E.heap_max=p,q=0;q<le;q++)Y[2*q]!==0?(E.heap[++E.heap_len]=Pe=q,E.depth[q]=0):Y[2*q+1]=0;for(;E.heap_len<2;)Y[2*(D=E.heap[++E.heap_len]=Pe<2?++Pe:0)]=1,E.depth[D]=0,E.opt_len--,Q&&(E.static_len-=ie[2*D+1]);for(R.max_code=Pe,q=E.heap_len>>1;1<=q;q--)$e(E,Y,q);for(D=le;q=E.heap[1],E.heap[1]=E.heap[E.heap_len--],$e(E,Y,1),G=E.heap[1],E.heap[--E.heap_max]=q,E.heap[--E.heap_max]=G,Y[2*D]=Y[2*q]+Y[2*G],E.depth[D]=(E.depth[q]>=E.depth[G]?E.depth[q]:E.depth[G])+1,Y[2*q+1]=Y[2*G+1]=D,E.heap[1]=D++,$e(E,Y,1),2<=E.heap_len;);E.heap[--E.heap_max]=E.heap[1],(function(Ce,kt){var Qn,Ut,Jn,Ve,Or,Is,Kt=kt.dyn_tree,Aa=kt.max_code,Ap=kt.stat_desc.static_tree,Cp=kt.stat_desc.has_stree,_p=kt.stat_desc.extra_bits,Ca=kt.stat_desc.extra_base,er=kt.stat_desc.max_length,Fr=0;for(Ve=0;Ve<=b;Ve++)Ce.bl_count[Ve]=0;for(Kt[2*Ce.heap[Ce.heap_max]+1]=0,Qn=Ce.heap_max+1;Qn<p;Qn++)er<(Ve=Kt[2*Kt[2*(Ut=Ce.heap[Qn])+1]+1]+1)&&(Ve=er,Fr++),Kt[2*Ut+1]=Ve,Aa<Ut||(Ce.bl_count[Ve]++,Or=0,Ca<=Ut&&(Or=_p[Ut-Ca]),Is=Kt[2*Ut],Ce.opt_len+=Is*(Ve+Or),Cp&&(Ce.static_len+=Is*(Ap[2*Ut+1]+Or)));if(Fr!==0){do{for(Ve=er-1;Ce.bl_count[Ve]===0;)Ve--;Ce.bl_count[Ve]--,Ce.bl_count[Ve+1]+=2,Ce.bl_count[er]--,Fr-=2}while(0<Fr);for(Ve=er;Ve!==0;Ve--)for(Ut=Ce.bl_count[Ve];Ut!==0;)Aa<(Jn=Ce.heap[--Qn])||(Kt[2*Jn+1]!==Ve&&(Ce.opt_len+=(Ve-Kt[2*Jn+1])*Kt[2*Jn],Kt[2*Jn+1]=Ve),Ut--)}})(E,R),at(Y,Pe,E.bl_count)}function m(E,R,q){var G,D,Y=-1,ie=R[1],Q=0,le=7,Pe=4;for(ie===0&&(le=138,Pe=3),R[2*(q+1)+1]=65535,G=0;G<=q;G++)D=ie,ie=R[2*(G+1)+1],++Q<le&&D===ie||(Q<Pe?E.bl_tree[2*D]+=Q:D!==0?(D!==Y&&E.bl_tree[2*D]++,E.bl_tree[2*C]++):Q<=10?E.bl_tree[2*_]++:E.bl_tree[2*I]++,Y=D,Pe=(Q=0)===ie?(le=138,3):D===ie?(le=6,3):(le=7,4))}function H(E,R,q){var G,D,Y=-1,ie=R[1],Q=0,le=7,Pe=4;for(ie===0&&(le=138,Pe=3),G=0;G<=q;G++)if(D=ie,ie=R[2*(G+1)+1],!(++Q<le&&D===ie)){if(Q<Pe)for(;ne(E,D,E.bl_tree),--Q!=0;);else D!==0?(D!==Y&&(ne(E,D,E.bl_tree),Q--),ne(E,C,E.bl_tree),se(E,Q-3,2)):Q<=10?(ne(E,_,E.bl_tree),se(E,Q-3,3)):(ne(E,I,E.bl_tree),se(E,Q-11,7));Y=D,Pe=(Q=0)===ie?(le=138,3):D===ie?(le=6,3):(le=7,4)}}c(X);var U=!1;function A(E,R,q,G){se(E,(u<<1)+(G?1:0),3),(function(D,Y,ie,Q){ke(D),he(D,ie),he(D,~ie),i.arraySet(D.pending_buf,D.window,Y,ie,D.pending),D.pending+=ie})(E,R,q)}s._tr_init=function(E){U||((function(){var R,q,G,D,Y,ie=new Array(b+1);for(D=G=0;D<l-1;D++)for(W[D]=G,R=0;R<1<<O[D];R++)w[G++]=D;for(w[G-1]=D,D=Y=0;D<16;D++)for(X[D]=Y,R=0;R<1<<L[D];R++)V[Y++]=D;for(Y>>=7;D<h;D++)for(X[D]=Y<<7,R=0;R<1<<L[D]-7;R++)V[256+Y++]=D;for(q=0;q<=b;q++)ie[q]=0;for(R=0;R<=143;)ce[2*R+1]=8,R++,ie[8]++;for(;R<=255;)ce[2*R+1]=9,R++,ie[9]++;for(;R<=279;)ce[2*R+1]=7,R++,ie[7]++;for(;R<=287;)ce[2*R+1]=8,R++,ie[8]++;for(at(ce,f+1,ie),R=0;R<h;R++)T[2*R+1]=5,T[2*R]=ze(R,5);me=new ue(ce,O,d+1,f,b),K=new ue(T,L,0,h,b),de=new ue(new Array(0),F,0,g,x)})(),U=!0),E.l_desc=new N(E.dyn_ltree,me),E.d_desc=new N(E.dyn_dtree,K),E.bl_desc=new N(E.bl_tree,de),E.bi_buf=0,E.bi_valid=0,Ae(E)},s._tr_stored_block=A,s._tr_flush_block=function(E,R,q,G){var D,Y,ie=0;0<E.level?(E.strm.data_type===2&&(E.strm.data_type=(function(Q){var le,Pe=4093624447;for(le=0;le<=31;le++,Pe>>>=1)if(1&Pe&&Q.dyn_ltree[2*le]!==0)return o;if(Q.dyn_ltree[18]!==0||Q.dyn_ltree[20]!==0||Q.dyn_ltree[26]!==0)return a;for(le=32;le<d;le++)if(Q.dyn_ltree[2*le]!==0)return a;return o})(E)),Ot(E,E.l_desc),Ot(E,E.d_desc),ie=(function(Q){var le;for(m(Q,Q.dyn_ltree,Q.l_desc.max_code),m(Q,Q.dyn_dtree,Q.d_desc.max_code),Ot(Q,Q.bl_desc),le=g-1;3<=le&&Q.bl_tree[2*Z[le]+1]===0;le--);return Q.opt_len+=3*(le+1)+5+5+4,le})(E),D=E.opt_len+3+7>>>3,(Y=E.static_len+3+7>>>3)<=D&&(D=Y)):D=Y=q+5,q+4<=D&&R!==-1?A(E,R,q,G):E.strategy===4||Y===D?(se(E,2+(G?1:0),3),Lt(E,ce,T)):(se(E,4+(G?1:0),3),(function(Q,le,Pe,Ce){var kt;for(se(Q,le-257,5),se(Q,Pe-1,5),se(Q,Ce-4,4),kt=0;kt<Ce;kt++)se(Q,Q.bl_tree[2*Z[kt]+1],3);H(Q,Q.dyn_ltree,le-1),H(Q,Q.dyn_dtree,Pe-1)})(E,E.l_desc.max_code+1,E.d_desc.max_code+1,ie+1),Lt(E,E.dyn_ltree,E.dyn_dtree)),Ae(E),G&&ke(E)},s._tr_tally=function(E,R,q){return E.pending_buf[E.d_buf+2*E.last_lit]=R>>>8&255,E.pending_buf[E.d_buf+2*E.last_lit+1]=255&R,E.pending_buf[E.l_buf+E.last_lit]=255&q,E.last_lit++,R===0?E.dyn_ltree[2*q]++:(E.matches++,R--,E.dyn_ltree[2*(w[q]+d+1)]++,E.dyn_dtree[2*M(R)]++),E.last_lit===E.lit_bufsize-1},s._tr_align=function(E){se(E,2,3),ne(E,S,ce),(function(R){R.bi_valid===16?(he(R,R.bi_buf),R.bi_buf=0,R.bi_valid=0):8<=R.bi_valid&&(R.pending_buf[R.pending++]=255&R.bi_buf,R.bi_buf>>=8,R.bi_valid-=8)})(E)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(i){(function(o,a){if(!o.setImmediate){var c,u,l,d,f=1,h={},g=!1,p=o.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(o);b=b&&b.setTimeout?b:o,c={}.toString.call(o.process)==="[object process]"?function(C){process.nextTick(function(){x(C)})}:(function(){if(o.postMessage&&!o.importScripts){var C=!0,_=o.onmessage;return o.onmessage=function(){C=!1},o.postMessage("","*"),o.onmessage=_,C}})()?(d="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",S,!1):o.attachEvent("onmessage",S),function(C){o.postMessage(d+C,"*")}):o.MessageChannel?((l=new MessageChannel).port1.onmessage=function(C){x(C.data)},function(C){l.port2.postMessage(C)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(C){var _=p.createElement("script");_.onreadystatechange=function(){x(C),_.onreadystatechange=null,u.removeChild(_),_=null},u.appendChild(_)}):function(C){setTimeout(x,0,C)},b.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var _=new Array(arguments.length-1),I=0;I<_.length;I++)_[I]=arguments[I+1];var O={callback:C,args:_};return h[f]=O,c(f),f++},b.clearImmediate=y}function y(C){delete h[C]}function x(C){if(g)setTimeout(x,0,C);else{var _=h[C];if(_){g=!0;try{(function(I){var O=I.callback,L=I.args;switch(L.length){case 0:O();break;case 1:O(L[0]);break;case 2:O(L[0],L[1]);break;case 3:O(L[0],L[1],L[2]);break;default:O.apply(a,L)}})(_)}finally{y(C),g=!1}}}}function S(C){C.source===o&&typeof C.data=="string"&&C.data.indexOf(d)===0&&x(+C.data.slice(d.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof nn<"u"?nn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ms)),Ms.exports}var Pp=Dp();const Bp=kp(Pp);var qr={exports:{}},Ip=qr.exports,ka;function Mp(){return ka||(ka=1,(function(t,e){(function(n,r){r()})(Ip,function(){function n(u,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,l,d){var f=new XMLHttpRequest;f.open("GET",u),f.responseType="blob",f.onload=function(){c(f.response,l,d)},f.onerror=function(){console.error("could not download file")},f.send()}function s(u){var l=new XMLHttpRequest;l.open("HEAD",u,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(l)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof nn=="object"&&nn.global===nn?nn:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,l,d){var f=o.URL||o.webkitURL,h=document.createElement("a");l=l||u.name||"download",h.download=l,h.rel="noopener",typeof u=="string"?(h.href=u,h.origin===location.origin?i(h):s(h.href)?r(u,l,d):i(h,h.target="_blank")):(h.href=f.createObjectURL(u),setTimeout(function(){f.revokeObjectURL(h.href)},4e4),setTimeout(function(){i(h)},0))}:"msSaveOrOpenBlob"in navigator?function(u,l,d){if(l=l||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,d),l);else if(s(u))r(u,l,d);else{var f=document.createElement("a");f.href=u,f.target="_blank",setTimeout(function(){i(f)})}}:function(u,l,d,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof u=="string")return r(u,l,d);var h=u.type==="application/octet-stream",g=/constructor/i.test(o.HTMLElement)||o.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||h&&g||a)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var S=b.result;S=p?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=S:location=S,f=null},b.readAsDataURL(u)}else{var y=o.URL||o.webkitURL,x=y.createObjectURL(u);f?f.location=x:location.href=x,f=null,setTimeout(function(){y.revokeObjectURL(x)},4e4)}});o.saveAs=c.saveAs=c,t.exports=c})})(qr)),qr.exports}var Op=Mp();const Fp=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,n){t.httpHandler?.updateHttpClientConfig(e,n)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),Np=t=>({httpHandler:t.httpHandler()});var wr;(function(t){t.HTTP="http",t.HTTPS="https"})(wr||(wr={}));var es;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(es||(es={}));const Fi="__smithy_context";class Qe{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const n=new Qe({...e,headers:{...e.headers}});return n.query&&(n.query=Lp(n.query)),n}static isInstance(e){if(!e)return!1;const n=e;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return Qe.clone(this)}}function Lp(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return{...e,[n]:Array.isArray(r)?[...r]:r}},{})}class En{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const n=e;return typeof n.statusCode=="number"&&typeof n.headers=="object"}}function Up(t){return e=>async n=>{const{request:r}=n;if(t.expectContinueHeader!==!1&&Qe.isInstance(r)&&r.body&&t.runtime==="node"&&t.requestHandler?.constructor?.name!=="FetchHttpHandler"){let s=!0;if(typeof t.expectContinueHeader=="number")try{s=(Number(r.headers?.["content-length"])??t.bodyLengthChecker?.(r.body)??1/0)>=t.expectContinueHeader}catch{}else s=!!t.expectContinueHeader;s&&(r.headers.Expect="100-continue")}return e({...n,request:r})}}const zp={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},$p=t=>({applyToStack:e=>{e.add(Up(t),zp)}}),zn={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},Vp=zn.WHEN_SUPPORTED,Os={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},jp=zn.WHEN_SUPPORTED;var De;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.CRC64NVME="CRC64NVME",t.SHA1="SHA1",t.SHA256="SHA256"})(De||(De={}));var Ta;(function(t){t.HEADER="header",t.TRAILER="trailer"})(Ta||(Ta={}));const Ni=De.CRC32;function Hp(t,e,n){return t.$source||(t.$source={}),t.$source[e]=n,t}function qe(t,e,n){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=n}const Ra=t=>En.isInstance(t)?t.headers?.date??t.headers?.Date:void 0,xo=t=>new Date(Date.now()+t),Wp=(t,e)=>Math.abs(xo(e).getTime()-t)>=3e5,Da=(t,e)=>{const n=Date.parse(t);return Wp(n,e)?n-Date.now():e},or=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},jl=async t=>{const e=or("context",t.context),n=or("config",t.config),r=e.endpointV2?.properties?.authSchemes?.[0],i=await or("signer",n.signer)(r),o=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:n,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}};class Hl{async sign(e,n,r){if(!Qe.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const s=await jl(r),{config:i,signer:o}=s;let{signingRegion:a,signingName:c}=s;const u=r.context;if(u?.authSchemes?.length??!1){const[d,f]=u.authSchemes;d?.name==="sigv4a"&&f?.name==="sigv4"&&(a=f?.signingRegion??a,c=f?.signingName??c)}return await o.sign(e,{signingDate:xo(i.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(e){return n=>{const r=n.ServerTime??Ra(n.$response);if(r){const s=or("config",e.config),i=s.systemClockOffset;s.systemClockOffset=Da(r,s.systemClockOffset),s.systemClockOffset!==i&&n.$metadata&&(n.$metadata.clockSkewCorrected=!0)}throw n}}successHandler(e,n){const r=Ra(e);if(r){const s=or("config",n.config);s.systemClockOffset=Da(r,s.systemClockOffset)}}}class Kp extends Hl{async sign(e,n,r){if(!Qe.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:s,signer:i,signingRegion:o,signingRegionSet:a,signingName:c}=await jl(r),l=(await s.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await i.sign(e,{signingDate:xo(s.systemClockOffset),signingRegion:l,signingService:c})}}const dn=t=>t[Fi]||(t[Fi]={}),Nt=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},qp=(t,e)=>{if(!e||e.length===0)return t;const n=[];for(const r of e)for(const s of t)s.schemeId.split("#")[1]===r&&n.push(s);for(const r of t)n.find(({schemeId:s})=>s===r.schemeId)||n.push(r);return n};function Gp(t){const e=new Map;for(const n of t)e.set(n.schemeId,n);return e}const Zp=(t,e)=>(n,r)=>async s=>{const i=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,r,s.input)),o=t.authSchemePreference?await t.authSchemePreference():[],a=qp(i,o),c=Gp(t.httpAuthSchemes),u=dn(r),l=[];for(const d of a){const f=c.get(d.schemeId);if(!f){l.push(`HttpAuthScheme \`${d.schemeId}\` was not enabled for this service.`);continue}const h=f.identityProvider(await e.identityProviderConfigProvider(t));if(!h){l.push(`HttpAuthScheme \`${d.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:g={},signingProperties:p={}}=d.propertiesExtractor?.(t,r)||{};d.identityProperties=Object.assign(d.identityProperties||{},g),d.signingProperties=Object.assign(d.signingProperties||{},p),u.selectedHttpAuthScheme={httpAuthOption:d,identity:await h(d.identityProperties),signer:f.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(l.join(`
`));return n(s)},Xp={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Yp=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n})=>({applyToStack:r=>{r.addRelativeTo(Zp(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:n}),Xp)}}),Qp={name:"serializerMiddleware"},Jp=t=>e=>{throw e},em=(t,e)=>{},tm=t=>(e,n)=>async r=>{if(!Qe.isInstance(r.request))return e(r);const i=dn(n).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i,u=await e({...r,request:await c.sign(r.request,a,o)}).catch((c.errorHandler||Jp)(o));return(c.successHandler||em)(u.response,o),u},Wl={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},nm=t=>({applyToStack:e=>{e.addRelativeTo(tm(),Wl)}}),Nn=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},Kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pa=Object.entries(Kl).reduce((t,[e,n])=>(t[n]=Number(e),t),{}),rm=Kl.split(""),Ln=6,ar=8,sm=63,$n=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const n=new ArrayBuffer(e),r=new DataView(n);for(let s=0;s<t.length;s+=4){let i=0,o=0;for(let u=s,l=s+3;u<=l;u++)if(t[u]!=="="){if(!(t[u]in Pa))throw new TypeError(`Invalid character ${t[u]} in base64 string.`);i|=Pa[t[u]]<<(l-u)*Ln,o+=Ln}else i>>=Ln;const a=s/4*3;i>>=o%ar;const c=Math.floor(o/ar);for(let u=0;u<c;u++){const l=(c-u-1)*ar;r.setUint8(a+u,(i&255<<l)>>l)}}return new Uint8Array(n)},on=t=>new TextEncoder().encode(t),Vn=t=>typeof t=="string"?on(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),Gn=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function An(t){let e;typeof t=="string"?e=on(t):e=t;const n=typeof e=="object"&&typeof e.length=="number",r=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!n&&!r)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let s="";for(let i=0;i<e.length;i+=3){let o=0,a=0;for(let u=i,l=Math.min(i+3,e.length);u<l;u++)o|=e[u]<<(l-u-1)*ar,a+=ar;const c=Math.ceil(a/Ln);o<<=c*Ln-a;for(let u=1;u<=c;u++){const l=(c-u)*Ln;s+=rm[(o&sm<<l)>>l]}s+="==".slice(0,4-c)}return s}class wn extends Uint8Array{static fromString(e,n="utf-8"){if(typeof e=="string")return n==="base64"?wn.mutate($n(e)):wn.mutate(on(e));throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,wn.prototype),e}transformToString(e="utf-8"){return e==="base64"?An(this):Gn(this)}}const im=typeof ReadableStream=="function"?ReadableStream:function(){};class om extends im{}const Li=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream),am=({expectedChecksum:t,checksum:e,source:n,checksumSourceLocation:r,base64Encoder:s})=>{if(!Li(n))throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);const i=s??An;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const o=new TransformStream({start(){},async transform(c,u){e.update(c),u.enqueue(c)},async flush(c){const u=await e.digest(),l=i(u);if(t!==l){const d=new Error(`Checksum mismatch: expected "${t}" but received "${l}" in response header "${r}".`);c.error(d)}else c.terminate()}});n.pipeThrough(o);const a=o.readable;return Object.setPrototypeOf(a,om.prototype),a};class cm{allocByteArray;byteLength=0;byteArrays=[];constructor(e){this.allocByteArray=e}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(this.byteArrays.length===1){const r=this.byteArrays[0];return this.reset(),r}const e=this.allocByteArray(this.byteLength);let n=0;for(let r=0;r<this.byteArrays.length;++r){const s=this.byteArrays[r];e.set(s,n),n+=s.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}}function um(t,e,n){const r=t.getReader();let s=!1,i=0;const o=["",new cm(u=>new Uint8Array(u))];let a=-1;const c=async u=>{const{value:l,done:d}=await r.read(),f=l;if(d){if(a!==-1){const h=Fs(o,a);cr(h)>0&&u.enqueue(h)}u.close()}else{const h=hm(f,!1);if(a!==h&&(a>=0&&u.enqueue(Fs(o,a)),a=h),a===-1){u.enqueue(f);return}const g=cr(f);i+=g;const p=cr(o[a]);if(g>=e&&p===0)u.enqueue(f);else{const b=dm(o,a,f);!s&&i>e*2&&(s=!0,n?.warn(`@smithy/util-stream - stream chunk size ${g} is below threshold of ${e}, automatically buffering.`)),b>=e?u.enqueue(Fs(o,a)):await c(u)}}};return new ReadableStream({pull:c})}const lm=um;function dm(t,e,n){switch(e){case 0:return t[0]+=n,cr(t[0]);case 1:case 2:return t[e].push(n),cr(t[e])}}function Fs(t,e){switch(e){case 0:const n=t[0];return t[0]="",n;case 1:case 2:return t[e].flush()}throw new Error(`@smithy/util-stream - invalid index ${e} given to flush()`)}function cr(t){return t?.byteLength??t?.length??0}function hm(t,e=!0){return e&&typeof Buffer<"u"&&t instanceof Buffer?2:t instanceof Uint8Array?1:typeof t=="string"?0:-1}const fm=(t,e)=>{const{base64Encoder:n,bodyLengthChecker:r,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=e,a=n!==void 0&&r!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,c=a?o(s,t):void 0,u=t.getReader();return new ReadableStream({async pull(l){const{value:d,done:f}=await u.read();if(f){if(l.enqueue(`0\r
`),a){const h=n(await c);l.enqueue(`${i}:${h}\r
`),l.enqueue(`\r
`)}l.close()}else l.enqueue(`${(r(d)||0).toString(16)}\r
${d}\r
`)}})};async function pm(t,e){let n=0;const r=[],s=t.getReader();let i=!1;for(;!i;){const{done:c,value:u}=await s.read();if(u&&(r.push(u),n+=u?.byteLength??0),n>=e)break;i=c}s.releaseLock();const o=new Uint8Array(Math.min(e,n));let a=0;for(const c of r){if(c.byteLength>o.byteLength-a){o.set(c.subarray(0,o.byteLength-a),a);break}else o.set(c,a);a+=c.length}return o}const xn=t=>encodeURIComponent(t).replace(/[!'()*]/g,mm),mm=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function gm(t){const e=[];for(let n of Object.keys(t).sort()){const r=t[n];if(n=xn(n),Array.isArray(r))for(let s=0,i=r.length;s<i;s++)e.push(`${n}=${xn(r[s])}`);else{let s=n;(r||typeof r=="string")&&(s+=`=${xn(r)}`),e.push(s)}}return e.join("&")}function Ba(t,e){return new Request(t,e)}function ym(t=0){return new Promise((e,n)=>{t&&setTimeout(()=>{const r=new Error(`Request did not complete within ${t} ms`);r.name="TimeoutError",n(r)},t)})}const Ns={supported:void 0};class So{config;configProvider;static create(e){return typeof e?.handle=="function"?e:new So(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(n=>n||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),Ns.supported===void 0&&(Ns.supported=typeof Request<"u"&&"keepalive"in Ba("https://[::1]"))}destroy(){}async handle(e,{abortSignal:n,requestTimeout:r}={}){this.config||(this.config=await this.configProvider);const s=r??this.config.requestTimeout,i=this.config.keepAlive===!0,o=this.config.credentials;if(n?.aborted){const x=new Error("Request aborted");return x.name="AbortError",Promise.reject(x)}let a=e.path;const c=gm(e.query||{});c&&(a+=`?${c}`),e.fragment&&(a+=`#${e.fragment}`);let u="";if(e.username!=null||e.password!=null){const x=e.username??"",S=e.password??"";u=`${x}:${S}@`}const{port:l,method:d}=e,f=`${e.protocol}//${u}${e.hostname}${l?`:${l}`:""}${a}`,h=d==="GET"||d==="HEAD"?void 0:e.body,g={body:h,headers:new Headers(e.headers),method:d,credentials:o};this.config?.cache&&(g.cache=this.config.cache),h&&(g.duplex="half"),typeof AbortController<"u"&&(g.signal=n),Ns.supported&&(g.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(g,this.config.requestInit(e));let p=()=>{};const b=Ba(f,g),y=[fetch(b).then(x=>{const S=x.headers,C={};for(const I of S.entries())C[I[0]]=I[1];return x.body!=null?{response:new En({headers:C,reason:x.statusText,statusCode:x.status,body:x.body})}:x.blob().then(I=>({response:new En({headers:C,reason:x.statusText,statusCode:x.status,body:I})}))}),ym(s)];return n&&y.push(new Promise((x,S)=>{const C=()=>{const _=new Error("Request aborted");_.name="AbortError",S(_)};if(typeof n.addEventListener=="function"){const _=n;_.addEventListener("abort",C,{once:!0}),p=()=>_.removeEventListener("abort",C)}else n.onabort=C})),Promise.race(y).finally(p)}updateHttpClientConfig(e,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=n,r))}httpHandlerConfigs(){return this.config??{}}}const ql=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):bm(t):wm(t);async function bm(t){const e=await xm(t),n=$n(e);return new Uint8Array(n)}async function wm(t){const e=[],n=t.getReader();let r=!1,s=0;for(;!r;){const{done:a,value:c}=await n.read();c&&(e.push(c),s+=c.length),r=a}const i=new Uint8Array(s);let o=0;for(const a of e)i.set(a,o),o+=a.length;return i}function xm(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));const s=r.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;e(s.substring(o))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(t)})}const Gl={},Ui={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),Gl[t]=e,Ui[e]=t}function Zl(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2){const r=t.slice(n,n+2).toLowerCase();if(r in Ui)e[n/2]=Ui[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return e}function yt(t){let e="";for(let n=0;n<t.byteLength;n++)e+=Gl[t[n]];return e}const Ia="The stream has already been transformed.",Xl=t=>{if(!Ma(t)&&!Li(t)){const s=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let e=!1;const n=async()=>{if(e)throw new Error(Ia);return e=!0,await ql(t)},r=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(t,{transformToByteArray:n,transformToString:async s=>{const i=await n();if(s==="base64")return An(i);if(s==="hex")return yt(i);if(s===void 0||s==="utf8"||s==="utf-8")return Gn(i);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(i);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(Ia);if(e=!0,Ma(t))return r(t);if(Li(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},Ma=t=>typeof Blob=="function"&&t instanceof Blob;async function Sm(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}const Ls=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return wn.mutate(t);if(!t)return wn.mutate(new Uint8Array);const n=e.streamCollector(t);return wn.mutate(await n)};function Oa(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const Us=t=>typeof t=="function"?t():t,Yl=(t,e,n,r,s)=>({name:e,namespace:t,traits:n,input:r,output:s}),vm=t=>(e,n)=>async r=>{const{response:s}=await e(r),{operationSchema:i}=dn(n),[,o,a,c,u,l]=i??[];try{const d=await t.protocol.deserializeResponse(Yl(o,a,c,u,l),{...t,...n},s);return{response:s,output:d}}catch(d){if(Object.defineProperty(d,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in d)){const f="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{d.message+=`
  `+f}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(f):n.logger?.warn?.(f)}typeof d.$responseBodyText<"u"&&d.$response&&(d.$response.body=d.$responseBodyText);try{if(En.isInstance(s)){const{headers:h={}}=s,g=Object.entries(h);d.$metadata={httpStatusCode:s.statusCode,requestId:zs(/^x-[\w-]+-request-?id$/,g),extendedRequestId:zs(/^x-[\w-]+-id-2$/,g),cfId:zs(/^x-[\w-]+-cf-id$/,g)}}}catch{}}throw d}},zs=(t,e)=>(e.find(([n])=>n.match(t))||[void 0,void 0])[1],Em=t=>(e,n)=>async r=>{const{operationSchema:s}=dn(n),[,i,o,a,c,u]=s??[],l=n.endpointV2?.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint,d=await t.protocol.serializeRequest(Yl(i,o,a,c,u),r.input,{...t,...n,endpoint:l});return e({...r,request:d})},Am={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Cm={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function _m(t){return{applyToStack:e=>{e.add(Em(t),Cm),e.add(vm(t),Am),t.protocol.setSerdeContext(t)}}}function Rn(t){if(typeof t=="object")return t;t=t|0;const e={};let n=0;for(const r of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>n++&1)===1&&(e[r]=1);return e}class Me{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=Me.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(e,n){this.ref=e,this.memberName=n;const r=[];let s=e,i=e;for(this._isMemberSchema=!1;$s(s);)r.push(s[1]),s=s[0],i=Us(s),this._isMemberSchema=!0;if(r.length>0){this.memberTraits={};for(let o=r.length-1;o>=0;--o){const a=r[o];Object.assign(this.memberTraits,Rn(a))}}else this.memberTraits=0;if(i instanceof Me){const o=this.memberTraits;Object.assign(this,i),this.memberTraits=Object.assign({},o,i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=n??i.memberName;return}if(this.schema=Us(i),km(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(i),this.traits=0),this._isMemberSchema&&!n)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){const n=this.prototype.isPrototypeOf(e);return!n&&typeof e=="object"&&e!==null?e.symbol===this.symbol:n}static of(e){const n=Us(e);if(n instanceof Me)return n;if($s(n)){const[r,s]=n;if(r instanceof Me)return Object.assign(r.getMergedTraits(),Rn(s)),r;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new Me(n)}getSchema(){const e=this.schema;return e[0]===0?e[4]:e}getName(e=!1){const{name:n}=this;return!e&&n&&n.includes("#")?n.split("#")[1]:n||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){const e=this.getSchema();return typeof e=="number"?e>=64&&e<128:e[0]===1}isMapSchema(){const e=this.getSchema();return typeof e=="number"?e>=128&&e<=255:e[0]===2}isStructSchema(){const e=this.getSchema();return e[0]===3||e[0]===-3}isBlobSchema(){const e=this.getSchema();return e===21||e===42}isTimestampSchema(){const e=this.getSchema();return typeof e=="number"&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){const{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){const e=i=>(i&4)===4||!!i?.idempotencyToken,{normalizedTraits:n,traits:r,memberTraits:s}=this;return e(n)||e(r)||e(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Rn(this.memberTraits)}getOwnTraits(){return Rn(this.traits)}getKeySchema(){const[e,n]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!n)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);const r=this.getSchema(),s=e?15:r[4]??0;return tr([s,0],"key")}getValueSchema(){const e=this.getSchema(),[n,r,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],i=typeof e=="number"?63&e:e&&typeof e=="object"&&(r||s)?e[3+e[0]]:n?15:void 0;if(i!=null)return tr([i,0],r?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){const n=this.getSchema();if(this.isStructSchema()&&n[4].includes(e)){const r=n[4].indexOf(e),s=n[5][r];return tr($s(s)?s:[s,0],e)}if(this.isDocumentSchema())return tr([15,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){const e={};try{for(const[n,r]of this.structIterator())e[n]=r}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(const[e,n]of this.structIterator())if(n.isStreaming()&&n.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");const e=this.getSchema();for(let n=0;n<e[4].length;++n)yield[e[4][n],tr([e[5][n],0],e[4][n])]}}function tr(t,e){if(t instanceof Me)return Object.assign(t,{memberName:e,_isMemberSchema:!0});const n=Me;return new n(t,e)}const $s=t=>Array.isArray(t)&&t.length===2,km=t=>Array.isArray(t)&&t.length>=5;class Ie{namespace;schemas;exceptions;static registries=new Map;constructor(e,n=new Map,r=new Map){this.namespace=e,this.schemas=n,this.exceptions=r}static for(e){return Ie.registries.has(e)||Ie.registries.set(e,new Ie(e)),Ie.registries.get(e)}register(e,n){const r=this.normalizeShapeId(e);Ie.for(r.split("#")[0]).schemas.set(r,n)}getSchema(e){const n=this.normalizeShapeId(e);if(!this.schemas.has(n))throw new Error(`@smithy/core/schema - schema not found for ${n}`);return this.schemas.get(n)}registerError(e,n){const r=e,s=Ie.for(r[1]);s.schemas.set(r[1]+"#"+r[2],r),s.exceptions.set(r,n)}getErrorCtor(e){const n=e;return Ie.for(n[1]).exceptions.get(n)}getBaseException(){for(const e of this.exceptions.keys())if(Array.isArray(e)){const[,n,r]=e,s=n+"#"+r;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return e}}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}}const Tm=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Rm=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function zi(t){const e=t.getUTCFullYear(),n=t.getUTCMonth(),r=t.getUTCDay(),s=t.getUTCDate(),i=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,u=i<10?`0${i}`:`${i}`,l=o<10?`0${o}`:`${o}`,d=a<10?`0${a}`:`${a}`;return`${Tm[r]}, ${c} ${Rm[n]} ${e} ${u}:${l}:${d} GMT`}const Fa=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ct=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),vo=()=>{if(Fa)return Fa();const t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,ct[t[0]]+ct[t[1]]+ct[t[2]]+ct[t[3]]+"-"+ct[t[4]]+ct[t[5]]+"-"+ct[t[6]]+ct[t[7]]+"-"+ct[t[8]]+ct[t[9]]+"-"+ct[t[10]]+ct[t[11]]+ct[t[12]]+ct[t[13]]+ct[t[14]]+ct[t[15]]},rn=function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})};rn.from=t=>t&&typeof t=="object"&&(t instanceof rn||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?rn(String(t)):rn(JSON.stringify(t));rn.fromObject=rn.from;function Dm(t){return(t.includes(",")||t.includes('"'))&&(t=`"${t.replace(/"/g,'\\"')}"`),t}const Eo="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Ao="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Co="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",Ql="(\\d?\\d)",Jl="(\\d{4})",Pm=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),Bm=new RegExp(`^${Eo}, ${Ql} ${Ao} ${Jl} ${Co} GMT$`),Im=new RegExp(`^${Eo}, ${Ql}-${Ao}-(\\d\\d) ${Co} GMT$`),Mm=new RegExp(`^${Eo} ${Ao} ( [1-9]|\\d\\d) ${Co} ${Jl}$`),Om=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Fm=t=>{if(t==null)return;let e=NaN;if(typeof t=="number")e=t;else if(typeof t=="string"){if(!/^-?\d*\.?\d+$/.test(t))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else typeof t=="object"&&t.tag===1&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},Nm=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC3339 timestamps must be strings");const e=Pm.exec(t);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${t}`);const[,n,r,s,i,o,a,,c,u]=e;qt(r,1,12),qt(s,1,31),qt(i,0,23),qt(o,0,59),qt(a,0,60);const l=new Date(Date.UTC(Number(n),Number(r)-1,Number(s),Number(i),Number(o),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(l.setUTCFullYear(Number(n)),u.toUpperCase()!="Z"){const[,d,f,h]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],g=d==="-"?1:-1;l.setTime(l.getTime()+g*(Number(f)*60*60*1e3+Number(h)*60*1e3))}return l},Lm=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,n,r,s,i,o,a,c;if((c=Bm.exec(t))?[,e,n,r,s,i,o,a]=c:(c=Im.exec(t))?([,e,n,r,s,i,o,a]=c,r=(Number(r)+1900).toString()):(c=Mm.exec(t))&&([,n,e,s,i,o,a,r]=c),r&&o){const u=Date.UTC(Number(r),Om.indexOf(n),Number(e),Number(s),Number(i),Number(o),a?Math.round(parseFloat(`0.${a}`)*1e3):0);qt(e,1,31),qt(s,0,23),qt(i,0,59),qt(o,0,60);const l=new Date(u);return l.setUTCFullYear(Number(r)),l}throw new TypeError(`Invalid RFC7231 date-time value ${t}.`)};function qt(t,e,n){const r=Number(t);if(r<e||r>n)throw new Error(`Value ${r} out of range [${e}, ${n}]`)}function Um(t,e,n){if(!Number.isInteger(n))throw new Error("Invalid number of delimiters ("+n+") for splitEvery.");const r=t.split(e),s=[];let i="";for(let o=0;o<r.length;o++)i===""?i=r[o]:i+=e+r[o],(o+1)%n===0&&(s.push(i),i="");return i!==""&&s.push(i),s}const ed=t=>{const e=t.length,n=[];let r=!1,s,i=0;for(let o=0;o<e;++o){const a=t[o];switch(a){case'"':s!=="\\"&&(r=!r);break;case",":r||(n.push(t.slice(i,o)),i=o+1);break}s=a}return n.push(t.slice(i)),n.map(o=>{o=o.trim();const a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})},Na=/^-?\d*(\.\d+)?$/;class ys{string;type;constructor(e,n){if(this.string=e,this.type=n,!Na.test(e))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](e){if(!e||typeof e!="object")return!1;const n=e;return ys.prototype.isPrototypeOf(e)||n.type==="bigDecimal"&&Na.test(n.string)}}class bs{serdeContext;setSerdeContext(e){this.serdeContext=e}}class zm extends bs{options;constructor(e){super(),this.options=e}getRequestType(){return Qe}getResponseType(){return En}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,n){if("url"in n){e.protocol=n.url.protocol,e.hostname=n.url.hostname,e.port=n.url.port?Number(n.url.port):void 0,e.path=n.url.pathname,e.fragment=n.url.hash||void 0,e.username=n.url.username||void 0,e.password=n.url.password||void 0,e.query||(e.query={});for(const[r,s]of n.url.searchParams.entries())e.query[r]=s;return e}else return e.protocol=n.protocol,e.hostname=n.hostname,e.port=n.port?Number(n.port):void 0,e.path=n.path,e.query={...n.query},e}setHostPrefix(e,n,r){const s=Me.of(n.input),i=Rn(n.traits??{});if(i.endpoint){let o=i.endpoint?.[0];if(typeof o=="string"){const a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(const[c]of a){const u=r[c];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);o=o.replace(`{${c}}`,u)}e.hostname=o+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:e,requestSchema:n,initialRequest:r}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:e,requestSchema:n,initialRequest:r})}async deserializeEventStream({response:e,responseSchema:n,initialResponseContainer:r}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:e,responseSchema:n,initialResponseContainer:r})}async loadEventStreamCapability(){const{EventStreamSerde:e}=await Tp(async()=>{const{EventStreamSerde:n}=await import("./index-2UCk-mdT.js");return{EventStreamSerde:n}},__vite__mapDeps([0,1,2,3]));return new e({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(e,n,r,s,i){return[]}getEventStreamMarshaller(){const e=this.serdeContext;if(!e.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return e.eventStreamMarshaller}}class $m extends zm{async serializeRequest(e,n,r){const s={...n??{}},i=this.serializer,o={},a={},c=await r.endpoint(),u=Me.of(e?.input),l=u.getSchema();let d=!1,f;const h=new Qe({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:o,headers:a,body:void 0});if(c){this.updateServiceEndpoint(h,c),this.setHostPrefix(h,e,s);const g=Rn(e.traits);if(g.http){h.method=g.http[0];const[p,b]=g.http[1].split("?");h.path=="/"?h.path=p:h.path+=p;const y=new URLSearchParams(b??"");Object.assign(o,Object.fromEntries(y))}}for(const[g,p]of u.structIterator()){const b=p.getMergedTraits()??{},y=s[g];if(!(y==null&&!p.isIdempotencyToken()))if(b.httpPayload)p.isStreaming()?p.isStructSchema()?s[g]&&(f=await this.serializeEventStream({eventStream:s[g],requestSchema:u})):f=y:(i.write(p,y),f=i.flush()),delete s[g];else if(b.httpLabel){i.write(p,y);const x=i.flush();h.path.includes(`{${g}+}`)?h.path=h.path.replace(`{${g}+}`,x.split("/").map(Oa).join("/")):h.path.includes(`{${g}}`)&&(h.path=h.path.replace(`{${g}}`,Oa(x))),delete s[g]}else if(b.httpHeader)i.write(p,y),a[b.httpHeader.toLowerCase()]=String(i.flush()),delete s[g];else if(typeof b.httpPrefixHeaders=="string"){for(const[x,S]of Object.entries(y)){const C=b.httpPrefixHeaders+x;i.write([p.getValueSchema(),{httpHeader:C}],S),a[C.toLowerCase()]=i.flush()}delete s[g]}else b.httpQuery||b.httpQueryParams?(this.serializeQuery(p,y,o),delete s[g]):d=!0}return d&&s&&(i.write(l,s),f=i.flush()),h.headers=a,h.query=o,h.body=f,h}serializeQuery(e,n,r){const s=this.serializer,i=e.getMergedTraits();if(i.httpQueryParams){for(const[o,a]of Object.entries(n))if(!(o in r)){const c=e.getValueSchema();Object.assign(c.getMergedTraits(),{...i,httpQuery:o,httpQueryParams:void 0}),this.serializeQuery(c,a,r)}return}if(e.isListSchema()){const o=!!e.getMergedTraits().sparse,a=[];for(const c of n){s.write([e.getValueSchema(),i],c);const u=s.flush();(o||u!==void 0)&&a.push(u)}r[i.httpQuery]=a}else s.write([e,i],n),r[i.httpQuery]=s.flush()}async deserializeResponse(e,n,r){const s=this.deserializer,i=Me.of(e.output),o={};if(r.statusCode>=300){const c=await Ls(r.body,n);throw c.byteLength>0&&Object.assign(o,await s.read(15,c)),await this.handleError(e,n,r,o,this.deserializeMetadata(r)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(const c in r.headers){const u=r.headers[c];delete r.headers[c],r.headers[c.toLowerCase()]=u}const a=await this.deserializeHttpMessage(i,n,r,o);if(a.length){const c=await Ls(r.body,n);if(c.byteLength>0){const u=await s.read(i,c);for(const l of a)o[l]=u[l]}}return o.$metadata=this.deserializeMetadata(r),o}async deserializeHttpMessage(e,n,r,s,i){let o;s instanceof Set?o=i:o=s;const a=this.deserializer,c=Me.of(e),u=[];for(const[l,d]of c.structIterator()){const f=d.getMemberTraits();if(f.httpPayload){if(d.isStreaming())d.isStructSchema()?o[l]=await this.deserializeEventStream({response:r,responseSchema:c}):o[l]=Xl(r.body);else if(r.body){const g=await Ls(r.body,n);g.byteLength>0&&(o[l]=await a.read(d,g))}}else if(f.httpHeader){const h=String(f.httpHeader).toLowerCase(),g=r.headers[h];if(g!=null)if(d.isListSchema()){const p=d.getValueSchema();p.getMergedTraits().httpHeader=h;let b;p.isTimestampSchema()&&p.getSchema()===4?b=Um(g,",",2):b=ed(g);const y=[];for(const x of b)y.push(await a.read(p,x.trim()));o[l]=y}else o[l]=await a.read(d,g)}else if(f.httpPrefixHeaders!==void 0){o[l]={};for(const[h,g]of Object.entries(r.headers))if(h.startsWith(f.httpPrefixHeaders)){const p=d.getValueSchema();p.getMergedTraits().httpHeader=h,o[l][h.slice(f.httpPrefixHeaders.length)]=await a.read(p,g)}}else f.httpResponseCode?o[l]=r.statusCode:u.push(l)}return u}}function _o(t,e){if(e.timestampFormat.useTrait&&t.isTimestampSchema()&&(t.getSchema()===5||t.getSchema()===6||t.getSchema()===7))return t.getSchema();const{httpLabel:n,httpPrefixHeaders:r,httpHeader:s,httpQuery:i}=t.getMergedTraits();return(e.httpBindings?typeof r=="string"||s?6:i||n?5:void 0:void 0)??e.timestampFormat.default}class td extends bs{settings;constructor(e){super(),this.settings=e}read(e,n){const r=Me.of(e);if(r.isListSchema())return ed(n).map(s=>this.read(r.getValueSchema(),s));if(r.isBlobSchema())return(this.serdeContext?.base64Decoder??$n)(n);if(r.isTimestampSchema())switch(_o(r,this.settings)){case 5:return Nm(n);case 6:return Lm(n);case 7:return Fm(n);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",n),new Date(n)}if(r.isStringSchema()){const s=r.getMergedTraits().mediaType;let i=n;if(s)return r.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(s==="application/json"||s.endsWith("+json"))&&(i=rn.from(i)),i}return r.isNumericSchema()?Number(n):r.isBigIntegerSchema()?BigInt(n):r.isBigDecimalSchema()?new ys(n,"bigDecimal"):r.isBooleanSchema()?String(n).toLowerCase()==="true":n}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??Gn)((this.serdeContext?.base64Decoder??$n)(e))}}class Vm extends bs{codecDeserializer;stringDeserializer;constructor(e,n){super(),this.codecDeserializer=e,this.stringDeserializer=new td(n)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,n){const r=Me.of(e),s=r.getMergedTraits(),i=this.serdeContext?.utf8Encoder??Gn;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(r,i(n));if(s.httpPayload){if(r.isBlobSchema()){const o=this.serdeContext?.utf8Decoder??on;return typeof n=="string"?o(n):n}else if(r.isStringSchema())return"byteLength"in n?i(n):n}return this.codecDeserializer.read(r,n)}}class jm extends bs{settings;stringBuffer="";constructor(e){super(),this.settings=e}write(e,n){const r=Me.of(e);switch(typeof n){case"object":if(n===null){this.stringBuffer="null";return}if(r.isTimestampSchema()){if(!(n instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${n} when schema expected Date in ${r.getName(!0)}`);switch(_o(r,this.settings)){case 5:this.stringBuffer=n.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=zi(n);break;case 7:this.stringBuffer=String(n.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",n),this.stringBuffer=String(n.getTime()/1e3)}return}if(r.isBlobSchema()&&"byteLength"in n){this.stringBuffer=(this.serdeContext?.base64Encoder??An)(n);return}if(r.isListSchema()&&Array.isArray(n)){let o="";for(const a of n){this.write([r.getValueSchema(),r.getMergedTraits()],a);const c=this.flush(),u=r.getValueSchema().isTimestampSchema()?c:Dm(c);o!==""&&(o+=", "),o+=u}this.stringBuffer=o;return}this.stringBuffer=JSON.stringify(n,null,2);break;case"string":const s=r.getMergedTraits().mediaType;let i=n;if(s&&((s==="application/json"||s.endsWith("+json"))&&(i=rn.from(i)),r.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??An)(i.toString());return}this.stringBuffer=n;break;default:r.isIdempotencyToken()?this.stringBuffer=vo():this.stringBuffer=String(n)}}flush(){const e=this.stringBuffer;return this.stringBuffer="",e}}class Hm{codecSerializer;stringSerializer;buffer;constructor(e,n,r=new jm(n)){this.codecSerializer=e,this.stringSerializer=r}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,n){const r=Me.of(e),s=r.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(r,n),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(r,n)}flush(){if(this.buffer!==void 0){const e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}function Wm(t,e,n){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=n}class Km{authSchemes=new Map;constructor(e){for(const[n,r]of Object.entries(e))r!==void 0&&this.authSchemes.set(n,r)}getIdentityProvider(e){return this.authSchemes.get(e)}}const qm=t=>function(n){return nd(n)&&n.expiration.getTime()-Date.now()<t},Gm=3e5,Zm=qm(Gm),nd=t=>t.expiration!==void 0,Xm=(t,e,n)=>{if(t===void 0)return;const r=typeof t!="function"?async()=>Promise.resolve(t):t;let s,i,o,a=!1;const c=async u=>{i||(i=r(u));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return e===void 0?async u=>((!o||u?.forceRefresh)&&(s=await c(u)),s):async u=>((!o||u?.forceRefresh)&&(s=await c(u)),a?s:n(s)?(e(s)&&await c(u),s):(a=!0,s))},Ym=(t,e,n)=>{let r,s,i,o=!1;const a=async()=>{s||(s=t());try{r=await s,i=!0,o=!1}finally{s=void 0}return r};return async c=>((!i||c?.forceRefresh)&&(r=await a()),r)},Qm=t=>(t.sigv4aSigningRegionSet=Nn(t.sigv4aSigningRegionSet),t),Jm="X-Amz-Algorithm",eg="X-Amz-Credential",rd="X-Amz-Date",tg="X-Amz-SignedHeaders",ng="X-Amz-Expires",sd="X-Amz-Signature",id="X-Amz-Security-Token",od="authorization",ad=rd.toLowerCase(),rg="date",sg=[od,ad,rg],ig=sd.toLowerCase(),$i="x-amz-content-sha256",og=id.toLowerCase(),ag={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},cg=/^proxy-/,ug=/^sec-/,Vs="AWS4-HMAC-SHA256",lg="AWS4-HMAC-SHA256-PAYLOAD",dg="UNSIGNED-PAYLOAD",hg=50,cd="aws4_request",fg=3600*24*7,Lr={},js=[],Hs=(t,e,n)=>`${t}/${e}/${n}/${cd}`,pg=async(t,e,n,r,s)=>{const i=await La(t,e.secretAccessKey,e.accessKeyId),o=`${n}:${r}:${s}:${yt(i)}:${e.sessionToken}`;if(o in Lr)return Lr[o];for(js.push(o);js.length>hg;)delete Lr[js.shift()];let a=`AWS4${e.secretAccessKey}`;for(const c of[n,r,s,cd])a=await La(t,a,c);return Lr[o]=a},La=(t,e,n)=>{const r=new t(e);return r.update(Vn(n)),r.digest()},Ua=({headers:t},e,n)=>{const r={};for(const s of Object.keys(t).sort()){if(t[s]==null)continue;const i=s.toLowerCase();(i in ag||e?.has(i)||cg.test(i)||ug.test(i))&&(!n||n&&!n.has(i))||(r[i]=t[s].trim().replace(/\s+/g," "))}return r},ud=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",Ws=async({headers:t,body:e},n)=>{for(const r of Object.keys(t))if(r.toLowerCase()===$i)return t[r];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||ud(e)){const r=new n;return r.update(Vn(e)),yt(await r.digest())}return dg};class mg{format(e){const n=[];for(const i of Object.keys(e)){const o=on(i);n.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[i]))}const r=new Uint8Array(n.reduce((i,o)=>i+o.byteLength,0));let s=0;for(const i of n)r.set(i,s),s+=i.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":const a=on(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);const u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(yg.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!gg.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const d=new Uint8Array(17);return d[0]=9,d.set(Zl(e.value.replace(/\-/g,"")),1),d}}}var za;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(za||(za={}));const gg=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let yg=class ld{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let r=7,s=Math.abs(Math.round(e));r>-1&&s>0;r--,s/=256)n[r]=s;return e<0&&$a(n),new ld(n)}valueOf(){const e=this.bytes.slice(0),n=e[0]&128;return n&&$a(e),parseInt(yt(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}};function $a(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}const bg=(t,e)=>{t=t.toLowerCase();for(const n of Object.keys(e))if(t===n.toLowerCase())return!0;return!1},wg=(t,e={})=>{const{headers:n,query:r={}}=Qe.clone(t);for(const s of Object.keys(n)){const i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(i)||e.hoistableHeaders?.has(i))&&(r[s]=n[s],delete n[s])}return{...t,headers:n,query:r}},Va=t=>{t=Qe.clone(t);for(const e of Object.keys(t.headers))sg.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},xg=({query:t={}})=>{const e=[],n={};for(const r of Object.keys(t)){if(r.toLowerCase()===ig)continue;const s=xn(r);e.push(s);const i=t[r];typeof i=="string"?n[s]=`${s}=${xn(i)}`:Array.isArray(i)&&(n[s]=i.slice(0).reduce((o,a)=>o.concat([`${s}=${xn(a)}`]),[]).sort().join("&"))}return e.sort().map(r=>n[r]).filter(r=>r).join("&")},Sg=t=>vg(t).toISOString().replace(/\.\d{3}Z$/,"Z"),vg=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class Eg{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:n,region:r,service:s,sha256:i,uriEscapePath:o=!0}){this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Nt(r),this.credentialProvider=Nt(n)}createCanonicalRequest(e,n,r){const s=Object.keys(n).sort();return`${e.method}
${this.getCanonicalPath(e)}
${xg(e)}
${s.map(i=>`${i}:${n[i]}`).join(`
`)}

${s.join(";")}
${r}`}async createStringToSign(e,n,r,s){const i=new this.sha256;i.update(Vn(r));const o=await i.digest();return`${s}
${e}
${n}
${yt(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const n=[];for(const i of e.split("/"))i?.length!==0&&i!=="."&&(i===".."?n.pop():n.push(i));const r=`${e?.startsWith("/")?"/":""}${n.join("/")}${n.length>0&&e?.endsWith("/")?"/":""}`;return xn(r).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){const n=Sg(e).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}class Vi extends Eg{headerFormatter=new mg;constructor({applyChecksum:e,credentials:n,region:r,service:s,sha256:i,uriEscapePath:o=!0}){super({applyChecksum:e,credentials:n,region:r,service:s,sha256:i,uriEscapePath:o})}async presign(e,n={}){const{signingDate:r=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,hoistableHeaders:c,signingRegion:u,signingService:l}=n,d=await this.credentialProvider();this.validateResolvedCredentials(d);const f=u??await this.regionProvider(),{longDate:h,shortDate:g}=this.formatDate(r);if(s>fg)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const p=Hs(g,f,l??this.service),b=wg(Va(e),{unhoistableHeaders:o,hoistableHeaders:c});d.sessionToken&&(b.query[id]=d.sessionToken),b.query[Jm]=Vs,b.query[eg]=`${d.accessKeyId}/${p}`,b.query[rd]=h,b.query[ng]=s.toString(10);const y=Ua(b,i,a);return b.query[tg]=this.getCanonicalHeaderList(y),b.query[sd]=await this.getSignature(h,p,this.getSigningKey(d,f,g,l),this.createCanonicalRequest(b,y,await Ws(e,this.sha256))),b}async sign(e,n){return typeof e=="string"?this.signString(e,n):e.headers&&e.payload?this.signEvent(e,n):e.message?this.signMessage(e,n):this.signRequest(e,n)}async signEvent({headers:e,payload:n},{signingDate:r=new Date,priorSignature:s,signingRegion:i,signingService:o}){const a=i??await this.regionProvider(),{shortDate:c,longDate:u}=this.formatDate(r),l=Hs(c,a,o??this.service),d=await Ws({headers:{},body:n},this.sha256),f=new this.sha256;f.update(e);const h=yt(await f.digest()),g=[lg,u,l,s,h,d].join(`
`);return this.signString(g,{signingDate:r,signingRegion:a,signingService:o})}async signMessage(e,{signingDate:n=new Date,signingRegion:r,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:n,signingRegion:r,signingService:s,priorSignature:e.priorSignature}).then(o=>({message:e.message,signature:o}))}async signString(e,{signingDate:n=new Date,signingRegion:r,signingService:s}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const o=r??await this.regionProvider(),{shortDate:a}=this.formatDate(n),c=new this.sha256(await this.getSigningKey(i,o,a,s));return c.update(Vn(e)),yt(await c.digest())}async signRequest(e,{signingDate:n=new Date,signableHeaders:r,unsignableHeaders:s,signingRegion:i,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const c=i??await this.regionProvider(),u=Va(e),{longDate:l,shortDate:d}=this.formatDate(n),f=Hs(d,c,o??this.service);u.headers[ad]=l,a.sessionToken&&(u.headers[og]=a.sessionToken);const h=await Ws(u,this.sha256);!bg($i,u.headers)&&this.applyChecksum&&(u.headers[$i]=h);const g=Ua(u,s,r),p=await this.getSignature(l,f,this.getSigningKey(a,c,d,o),this.createCanonicalRequest(u,g,h));return u.headers[od]=`${Vs} Credential=${a.accessKeyId}/${f}, SignedHeaders=${this.getCanonicalHeaderList(g)}, Signature=${p}`,u}async getSignature(e,n,r,s){const i=await this.createStringToSign(e,n,s,Vs),o=new this.sha256(await r);return o.update(Vn(i)),yt(await o.digest())}getSigningKey(e,n,r,s){return pg(this.sha256,e,r,n,s||this.service)}}const Ag=t=>{let e=t.credentials,n=!!t.credentials,r;Object.defineProperty(t,"credentials",{set(u){u&&u!==e&&u!==r&&(n=!0),e=u;const l=Cg(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),d=_g(t,l);n&&!d.attributed?(r=async f=>d(f).then(h=>Hp(h,"CREDENTIALS_CODE","e")),r.memoized=d.memoized,r.configBound=d.configBound,r.attributed=!0):r=d},get(){return r},enumerable:!0,configurable:!0}),t.credentials=e;const{signingEscapePath:s=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:o}=t;let a;return t.signer?a=Nn(t.signer):t.regionInfoProvider?a=()=>Nn(t.region)().then(async u=>[await t.regionInfoProvider(u,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},u]).then(([u,l])=>{const{signingRegion:d,signingService:f}=u;t.signingRegion=t.signingRegion||d||l,t.signingName=t.signingName||f||t.serviceId;const h={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:s},g=t.signerConstructor||Vi;return new g(h)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Nn(t.region)(),properties:{}},u);const l=u.signingRegion,d=u.signingName;t.signingRegion=t.signingRegion||l,t.signingName=t.signingName||d||t.serviceId;const f={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:s},h=t.signerConstructor||Vi;return new h(f)},Object.assign(t,{systemClockOffset:i,signingEscapePath:s,signer:a})};function Cg(t,{credentials:e,credentialDefaultProvider:n}){let r;return e?e?.memoized?r=e:r=Xm(e,Zm,nd):n?r=Nn(n(Object.assign({},t,{parentClientConfig:t}))):r=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},r.memoized=!0,r}function _g(t,e){if(e.configBound)return e;const n=async r=>e({...r,callerClientConfig:t});return n.memoized=e.memoized,n.configBound=!0,n}const ja=typeof TextEncoder=="function"?new TextEncoder:null,kg=t=>{if(typeof t=="string"){if(ja)return ja.encode(t).byteLength;let e=t.length;for(let n=e-1;n>=0;n--){const r=t.charCodeAt(n);r>127&&r<=2047?e++:r>2047&&r<=65535&&(e+=2),r>=56320&&r<=57343&&n--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)},fn=(t,e)=>{const n=[];if(t&&n.push(t),e)for(const r of e)n.push(r);return n},Yt=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,ts=()=>{let t=[],e=[],n=!1;const r=new Set,s=d=>d.sort((f,h)=>Ha[h.step]-Ha[f.step]||Wa[h.priority||"normal"]-Wa[f.priority||"normal"]),i=d=>{let f=!1;const h=g=>{const p=fn(g.name,g.aliases);if(p.includes(d)){f=!0;for(const b of p)r.delete(b);return!1}return!0};return t=t.filter(h),e=e.filter(h),f},o=d=>{let f=!1;const h=g=>{if(g.middleware===d){f=!0;for(const p of fn(g.name,g.aliases))r.delete(p);return!1}return!0};return t=t.filter(h),e=e.filter(h),f},a=d=>(t.forEach(f=>{d.add(f.middleware,{...f})}),e.forEach(f=>{d.addRelativeTo(f.middleware,{...f})}),d.identifyOnResolve?.(l.identifyOnResolve()),d),c=d=>{const f=[];return d.before.forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...c(h))}),f.push(d),d.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...c(h))}),f},u=(d=!1)=>{const f=[],h=[],g={};return t.forEach(b=>{const y={...b,before:[],after:[]};for(const x of fn(y.name,y.aliases))g[x]=y;f.push(y)}),e.forEach(b=>{const y={...b,before:[],after:[]};for(const x of fn(y.name,y.aliases))g[x]=y;h.push(y)}),h.forEach(b=>{if(b.toMiddleware){const y=g[b.toMiddleware];if(y===void 0){if(d)return;throw new Error(`${b.toMiddleware} is not found when adding ${Yt(b.name,b.aliases)} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&y.after.push(b),b.relation==="before"&&y.before.push(b)}}),s(f).map(c).reduce((b,y)=>(b.push(...y),b),[])},l={add:(d,f={})=>{const{name:h,override:g,aliases:p}=f,b={step:"initialize",priority:"normal",middleware:d,...f},y=fn(h,p);if(y.length>0){if(y.some(x=>r.has(x))){if(!g)throw new Error(`Duplicate middleware name '${Yt(h,p)}'`);for(const x of y){const S=t.findIndex(_=>_.name===x||_.aliases?.some(I=>I===x));if(S===-1)continue;const C=t[S];if(C.step!==b.step||b.priority!==C.priority)throw new Error(`"${Yt(C.name,C.aliases)}" middleware with ${C.priority} priority in ${C.step} step cannot be overridden by "${Yt(h,p)}" middleware with ${b.priority} priority in ${b.step} step.`);t.splice(S,1)}}for(const x of y)r.add(x)}t.push(b)},addRelativeTo:(d,f)=>{const{name:h,override:g,aliases:p}=f,b={middleware:d,...f},y=fn(h,p);if(y.length>0){if(y.some(x=>r.has(x))){if(!g)throw new Error(`Duplicate middleware name '${Yt(h,p)}'`);for(const x of y){const S=e.findIndex(_=>_.name===x||_.aliases?.some(I=>I===x));if(S===-1)continue;const C=e[S];if(C.toMiddleware!==b.toMiddleware||C.relation!==b.relation)throw new Error(`"${Yt(C.name,C.aliases)}" middleware ${C.relation} "${C.toMiddleware}" middleware cannot be overridden by "${Yt(h,p)}" middleware ${b.relation} "${b.toMiddleware}" middleware.`);e.splice(S,1)}}for(const x of y)r.add(x)}e.push(b)},clone:()=>a(ts()),use:d=>{d.applyToStack(l)},remove:d=>typeof d=="string"?i(d):o(d),removeByTag:d=>{let f=!1;const h=g=>{const{tags:p,name:b,aliases:y}=g;if(p&&p.includes(d)){const x=fn(b,y);for(const S of x)r.delete(S);return f=!0,!1}return!0};return t=t.filter(h),e=e.filter(h),f},concat:d=>{const f=a(ts());return f.use(d),f.identifyOnResolve(n||f.identifyOnResolve()||(d.identifyOnResolve?.()??!1)),f},applyToStack:a,identify:()=>u(!0).map(d=>{const f=d.step??d.relation+" "+d.toMiddleware;return Yt(d.name,d.aliases)+" - "+f}),identifyOnResolve(d){return typeof d=="boolean"&&(n=d),n},resolve:(d,f)=>{for(const h of u().map(g=>g.middleware).reverse())d=h(d,f);return n&&console.log(l.identify()),d}};return l},Ha={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Wa={high:3,normal:2,low:1};class Tg{config;middlewareStack=ts();initConfig;handlers;constructor(e){this.config=e}send(e,n,r){const s=typeof n!="function"?n:void 0,i=typeof n=="function"?n:r,o=s===void 0&&this.config.cacheMiddleware===!0;let a;if(o){this.handlers||(this.handlers=new WeakMap);const c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,s),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,s);if(i)a(e).then(c=>i(null,c.output),c=>i(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}const Ks="***SensitiveInformation***";function ji(t,e){if(e==null)return e;const n=Me.of(t);if(n.getMergedTraits().sensitive)return Ks;if(n.isListSchema()){if(!!n.getValueSchema().getMergedTraits().sensitive)return Ks}else if(n.isMapSchema()){if(!!n.getKeySchema().getMergedTraits().sensitive||!!n.getValueSchema().getMergedTraits().sensitive)return Ks}else if(n.isStructSchema()&&typeof e=="object"){const r=e,s={};for(const[i,o]of n.structIterator())r[i]!=null&&(s[i]=ji(o,r[i]));return s}return e}class ko{middlewareStack=ts();schema;static classBuilder(){return new Rg}resolveMiddlewareWithContext(e,n,r,{middlewareFn:s,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:u,additionalContext:l,CommandCtor:d}){for(const b of s.bind(this)(d,e,n,r))this.middlewareStack.use(b);const f=e.concat(this.middlewareStack),{logger:h}=n,g={logger:h,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[Fi]:{commandInstance:this,...u},...l},{requestHandler:p}=n;return f.resolve(b=>p.handle(b.request,r||{}),g)}}class Rg{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,n,r={}){return this._smithyContext={service:e,operation:n,...r},this}c(e={}){return this._additionalContext=e,this}n(e,n){return this._clientName=e,this._commandName=n,this}f(e=r=>r,n=r=>r){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=n,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){const e=this;let n;return n=class extends ko{input;static getEndpointParameterInstructions(){return e._ep}constructor(...[r]){super(),this.input=r??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(r,s,i){const o=e._operationSchema,a=o?.[4]??o?.input,c=o?.[5]??o?.output;return this.resolveMiddlewareWithContext(r,s,i,{CommandCtor:n,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(o?ji.bind(null,a):u=>u),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(o?ji.bind(null,c):u=>u),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}serialize=e._serializer;deserialize=e._deserializer}}}class Dn extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;const n=e;return Dn.prototype.isPrototypeOf(n)||!!n.$fault&&!!n.$metadata&&(n.$fault==="client"||n.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;const n=e;return this===Dn?Dn.isInstance(e):Dn.isInstance(e)?n.name&&this.name?this.prototype.isPrototypeOf(e)||n.name===this.name:this.prototype.isPrototypeOf(e):!1}}const Ka=(t,e={})=>{Object.entries(e).filter(([,r])=>r!==void 0).forEach(([r,s])=>{(t[r]==null||t[r]==="")&&(t[r]=s)});const n=t.message||t.Message||"UnknownError";return t.message=n,delete t.Message,t},Dg=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Pg=t=>{const e=[];for(const n in es){const r=es[n];t[r]!==void 0&&e.push({algorithmId:()=>r,checksumConstructor:()=>t[r]})}return{addChecksumAlgorithm(n){e.push(n)},checksumAlgorithms(){return e}}},Bg=t=>{const e={};return t.checksumAlgorithms().forEach(n=>{e[n.algorithmId()]=n.checksumConstructor()}),e},Ig=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),Mg=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},Og=t=>Object.assign(Pg(t),Ig(t)),Fg=t=>Object.assign(Bg(t),Mg(t)),dd=t=>{const e="#text";for(const n in t)t.hasOwnProperty(n)&&t[n][e]!==void 0?t[n]=t[n][e]:typeof t[n]=="object"&&t[n]!==null&&(t[n]=dd(t[n]));return t};class To{trace(){}debug(){}info(){}warn(){}error(){}}class Ng{queryCompat;constructor(e=!1){this.queryCompat=e}resolveRestContentType(e,n){const r=n.getMemberSchemas(),s=Object.values(r).find(i=>!!i.getMergedTraits().httpPayload);if(s){const i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":e)}else if(!n.isUnitSchema()&&Object.values(r).find(o=>{const{httpQuery:a,httpQueryParams:c,httpHeader:u,httpLabel:l,httpPrefixHeaders:d}=o.getMergedTraits();return!a&&!c&&!u&&!l&&d===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,n,r,s,i,o){let a=n,c=e;e.includes("#")&&([a,c]=e.split("#"));const u={$metadata:i,$fault:r.statusCode<500?"client":"server"},l=Ie.for(a);try{return{errorSchema:o?.(l,c)??l.getSchema(e),errorMetadata:u}}catch{s.message=s.message??s.Message??"UnknownError";const f=Ie.for("smithy.ts.sdk.synthetic."+a),h=f.getBaseException();if(h){const g=f.getErrorCtor(h)??Error;throw this.decorateServiceException(Object.assign(new g({name:c}),u),s)}throw this.decorateServiceException(Object.assign(new Error(c),u),s)}}decorateServiceException(e,n={}){if(this.queryCompat){const r=e.Message??n.Message,s=Ka(e,n);return r&&(s.Message=r,s.message=r),s}return Ka(e,n)}setQueryCompatError(e,n){const r=n.headers?.["x-amzn-query-error"];if(e!==void 0&&r!=null){const[s,i]=r.split(";"),o=Object.entries(e),a={Code:s,Type:i};Object.assign(e,a);for(const[c,u]of o)a[c]=u;delete a.__type,e.Error=a}}queryCompatOutput(e,n){e.Error&&(n.Error=e.Error),e.Type&&(n.Type=e.Type),e.Code&&(n.Code=e.Code)}}class Ro{serdeContext;setSerdeContext(e){this.serdeContext=e}}function Lg(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Ug(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}class hd{value;constructor(e){this.value=e}toString(){return Ug(""+this.value)}}class vt{name;children;attributes={};static of(e,n,r){const s=new vt(e);return n!==void 0&&s.addChildNode(new hd(n)),r!==void 0&&s.withName(r),s}constructor(e,n=[]){this.name=e,this.children=n}withName(e){return this.name=e,this}addAttribute(e,n){return this.attributes[e]=n,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,n){return n!=null&&(this.attributes[e]=n),this}cc(e,n,r=n){if(e[n]!=null){const s=vt.of(n,e[n]).withName(r);this.c(s)}}l(e,n,r,s){e[n]!=null&&s().map(o=>{o.withName(r),this.c(o)})}lc(e,n,r,s){if(e[n]!=null){const i=s(),o=new vt(r);i.map(a=>{o.c(a)}),this.c(o)}}toString(){const e=!!this.children.length;let n=`<${this.name}`;const r=this.attributes;for(const s of Object.keys(r)){const i=r[s];i!=null&&(n+=` ${s}="${Lg(""+i)}"`)}return n+=e?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}let qs;function zg(t){qs||(qs=new DOMParser);const e=qs.parseFromString(t,"application/xml");if(e.getElementsByTagName("parsererror").length>0)throw new Error("DOMParser XML parsing error.");const n=r=>{if(r.nodeType===Node.TEXT_NODE&&r.textContent?.trim())return r.textContent;if(r.nodeType===Node.ELEMENT_NODE){const s=r;if(s.attributes.length===0&&s.childNodes.length===0)return"";const i={},o=Array.from(s.attributes);for(const c of o)i[`${c.name}`]=c.value;const a=Array.from(s.childNodes);for(const c of a){const u=n(c);if(u!=null){const l=c.nodeName;if(a.length===1&&o.length===0&&l==="#text")return u;i[l]?Array.isArray(i[l])?i[l].push(u):i[l]=[i[l],u]:i[l]=u}else if(a.length===1&&o.length===0)return s.textContent}return i}return null};return{[e.documentElement.nodeName]:n(e.documentElement)}}class $g extends Ro{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new td(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,n,r){const s=Me.of(e),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(u=>!!u.getMemberTraits().eventPayload)){const u={},l=Object.keys(i)[0];return i[l].isBlobSchema()?u[l]=n:u[l]=this.read(i[l],n),u}const a=(this.serdeContext?.utf8Encoder??Gn)(n),c=this.parseXml(a);return this.readSchema(e,r?c[r]:c)}readSchema(e,n){const r=Me.of(e);if(r.isUnitSchema())return;const s=r.getMergedTraits();if(r.isListSchema()&&!Array.isArray(n))return this.readSchema(r,[n]);if(n==null)return n;if(typeof n=="object"){const i=!!s.sparse,o=!!s.xmlFlattened;if(r.isListSchema()){const c=r.getValueSchema(),u=[],l=c.getMergedTraits().xmlName??"member",d=o?n:(n[0]??n)[l],f=Array.isArray(d)?d:[d];for(const h of f)(h!=null||i)&&u.push(this.readSchema(c,h));return u}const a={};if(r.isMapSchema()){const c=r.getKeySchema(),u=r.getValueSchema();let l;o?l=Array.isArray(n)?n:[n]:l=Array.isArray(n.entry)?n.entry:[n.entry];const d=c.getMergedTraits().xmlName??"key",f=u.getMergedTraits().xmlName??"value";for(const h of l){const g=h[d],p=h[f];(p!=null||i)&&(a[g]=this.readSchema(u,p))}return a}if(r.isStructSchema()){for(const[c,u]of r.structIterator()){const l=u.getMergedTraits(),d=l.httpPayload?l.xmlName??u.getName():u.getMemberTraits().xmlName??c;n[d]!=null&&(a[c]=this.readSchema(u,n[d]))}return a}if(r.isDocumentSchema())return n;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${r.getName(!0)}`)}return r.isListSchema()?[]:r.isMapSchema()||r.isStructSchema()?{}:this.stringDeserializer.read(r,n)}parseXml(e){if(e.length){let n;try{n=zg(e)}catch(o){throw o&&typeof o=="object"&&Object.defineProperty(o,"$responseBodyText",{value:e}),o}const r="#text",s=Object.keys(n)[0],i=n[s];return i[r]&&(i[s]=i[r],delete i[r]),dd(i)}return{}}}const Vg=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};class jg extends Ro{settings;stringBuffer;byteBuffer;buffer;constructor(e){super(),this.settings=e}write(e,n){const r=Me.of(e);if(r.isStringSchema()&&typeof n=="string")this.stringBuffer=n;else if(r.isBlobSchema())this.byteBuffer="byteLength"in n?n:(this.serdeContext?.base64Decoder??$n)(n);else{this.buffer=this.writeStruct(r,n,void 0);const s=r.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(r.getName())}}flush(){if(this.byteBuffer!==void 0){const n=this.byteBuffer;return delete this.byteBuffer,n}if(this.stringBuffer!==void 0){const n=this.stringBuffer;return delete this.stringBuffer,n}const e=this.buffer;return this.settings.xmlNamespace&&(e?.attributes?.xmlns||e.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,e.toString()}writeStruct(e,n,r){const s=e.getMergedTraits(),i=e.isMemberSchema()&&!s.httpPayload?e.getMemberTraits().xmlName??e.getMemberName():s.xmlName??e.getName();if(!i||!e.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${e.getName(!0)}.`);const o=vt.of(i),[a,c]=this.getXmlnsAttribute(e,r);for(const[u,l]of e.structIterator()){const d=n[u];if(d!=null||l.isIdempotencyToken()){if(l.getMergedTraits().xmlAttribute){o.addAttribute(l.getMergedTraits().xmlName??u,this.writeSimple(l,d));continue}if(l.isListSchema())this.writeList(l,d,o,c);else if(l.isMapSchema())this.writeMap(l,d,o,c);else if(l.isStructSchema())o.addChildNode(this.writeStruct(l,d,c));else{const f=vt.of(l.getMergedTraits().xmlName??l.getMemberName());this.writeSimpleInto(l,d,f,c),o.addChildNode(f)}}}return c&&o.addAttribute(a,c),o}writeList(e,n,r,s){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${e.getName(!0)}`);const i=e.getMergedTraits(),o=e.getValueSchema(),a=o.getMergedTraits(),c=!!a.sparse,u=!!i.xmlFlattened,[l,d]=this.getXmlnsAttribute(e,s),f=(h,g)=>{if(o.isListSchema())this.writeList(o,Array.isArray(g)?g:[g],h,d);else if(o.isMapSchema())this.writeMap(o,g,h,d);else if(o.isStructSchema()){const p=this.writeStruct(o,g,d);h.addChildNode(p.withName(u?i.xmlName??e.getMemberName():a.xmlName??"member"))}else{const p=vt.of(u?i.xmlName??e.getMemberName():a.xmlName??"member");this.writeSimpleInto(o,g,p,d),h.addChildNode(p)}};if(u)for(const h of n)(c||h!=null)&&f(r,h);else{const h=vt.of(i.xmlName??e.getMemberName());d&&h.addAttribute(l,d);for(const g of n)(c||g!=null)&&f(h,g);r.addChildNode(h)}}writeMap(e,n,r,s,i=!1){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${e.getName(!0)}`);const o=e.getMergedTraits(),a=e.getKeySchema(),u=a.getMergedTraits().xmlName??"key",l=e.getValueSchema(),d=l.getMergedTraits(),f=d.xmlName??"value",h=!!d.sparse,g=!!o.xmlFlattened,[p,b]=this.getXmlnsAttribute(e,s),y=(x,S,C)=>{const _=vt.of(u,S),[I,O]=this.getXmlnsAttribute(a,b);O&&_.addAttribute(I,O),x.addChildNode(_);let L=vt.of(f);l.isListSchema()?this.writeList(l,C,L,b):l.isMapSchema()?this.writeMap(l,C,L,b,!0):l.isStructSchema()?L=this.writeStruct(l,C,b):this.writeSimpleInto(l,C,L,b),x.addChildNode(L)};if(g){for(const[x,S]of Object.entries(n))if(h||S!=null){const C=vt.of(o.xmlName??e.getMemberName());y(C,x,S),r.addChildNode(C)}}else{let x;i||(x=vt.of(o.xmlName??e.getMemberName()),b&&x.addAttribute(p,b),r.addChildNode(x));for(const[S,C]of Object.entries(n))if(h||C!=null){const _=vt.of("entry");y(_,S,C),(i?r:x).addChildNode(_)}}}writeSimple(e,n){if(n===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");const r=Me.of(e);let s=null;if(n&&typeof n=="object")if(r.isBlobSchema())s=(this.serdeContext?.base64Encoder??An)(n);else if(r.isTimestampSchema()&&n instanceof Date)switch(_o(r,this.settings)){case 5:s=n.toISOString().replace(".000Z","Z");break;case 6:s=zi(n);break;case 7:s=String(n.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",n),s=zi(n);break}else{if(r.isBigDecimalSchema()&&n)return n instanceof ys?n.string:String(n);throw r.isMapSchema()||r.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${r.getName(!0)}`)}if((r.isBooleanSchema()||r.isNumericSchema()||r.isBigIntegerSchema()||r.isBigDecimalSchema())&&(s=String(n)),r.isStringSchema()&&(n===void 0&&r.isIdempotencyToken()?s=vo():s=String(n)),s===null)throw new Error(`Unhandled schema-value pair ${r.getName(!0)}=${n}`);return s}writeSimpleInto(e,n,r,s){const i=this.writeSimple(e,n),o=Me.of(e),a=new hd(i),[c,u]=this.getXmlnsAttribute(o,s);u&&r.addAttribute(c,u),r.addChildNode(a)}getXmlnsAttribute(e,n){const r=e.getMergedTraits(),[s,i]=r.xmlNamespace??[];return i&&i!==n?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}class Hg extends Ro{settings;constructor(e){super(),this.settings=e}createSerializer(){const e=new jg(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){const e=new $g(this.settings);return e.setSerdeContext(this.serdeContext),e}}class Wg extends $m{codec;serializer;deserializer;mixin=new Ng;constructor(e){super(e);const n={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace};this.codec=new Hg(n),this.serializer=new Hm(this.codec.createSerializer(),n),this.deserializer=new Vm(this.codec.createDeserializer(),n)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(e,n,r){const s=await super.serializeRequest(e,n,r),i=Me.of(e.input);if(!s.headers["content-type"]){const o=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);o&&(s.headers["content-type"]=o)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(e,n,r){return super.deserializeResponse(e,n,r)}async handleError(e,n,r,s,i){const o=Vg(r,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(o,this.options.defaultNamespace,r,s,i),u=Me.of(a),l=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",d=Ie.for(a[1]).getErrorCtor(a)??Error,f=new d(l);await this.deserializeHttpMessage(a,n,r,s);const h={};for(const[g,p]of u.structIterator()){const b=p.getMergedTraits().xmlName??g,y=s.Error?.[b]??s[b];h[g]=this.codec.createDeserializer().readSchema(p,y)}throw this.mixin.decorateServiceException(Object.assign(f,c,{$fault:u.getMergedTraits().error,message:l},h),s)}getDefaultContentType(){return"application/xml"}}const Hi=[De.CRC32,De.CRC32C,De.CRC64NVME,De.SHA1,De.SHA256],Kg=[De.SHA256,De.SHA1,De.CRC32,De.CRC32C,De.CRC64NVME],qg=(t,{requestChecksumRequired:e,requestAlgorithmMember:n,requestChecksumCalculation:r})=>{if(!n)return r===zn.WHEN_SUPPORTED||e?Ni:void 0;if(!t[n])return;const s=t[n];if(!Hi.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${Hi}.`);return s},Do=t=>t===De.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`,Gg=(t,e)=>{const n=t.toLowerCase();for(const r of Object.keys(e))if(n===r.toLowerCase())return!0;return!1},Zg=(t,e)=>{const n=t.toLowerCase();for(const r of Object.keys(e))if(r.toLowerCase().startsWith(n))return!0;return!1},fd=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!ud(t);var Wi=function(t,e){return Wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Wi(t,e)};function A2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wi(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var qa=function(){return qa=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qa.apply(this,arguments)};function Po(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Bo(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function pd(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}const Xg=t=>new TextEncoder().encode(t);var Yg=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:Xg;function an(t){return t instanceof Uint8Array?t:typeof t=="string"?Yg(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function xr(t){return typeof t=="string"?t.length===0:t.byteLength===0}function md(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}function gd(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),n=0;n<t.length;)e[n]=t[n],n+=1;return e}return Uint32Array.from(t)}var Qg=(function(){function t(){this.crc32c=new Ga}return t.prototype.update=function(e){xr(e)||this.crc32c.update(an(e))},t.prototype.digest=function(){return Po(this,void 0,void 0,function(){return Bo(this,function(e){return[2,md(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new Ga},t})(),Ga=(function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var s=pd(e),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^ey[(this.checksum^o)&255]}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t})(),Jg=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],ey=gd(Jg),ty=(function(){function t(){this.crc32=new ns}return t.prototype.update=function(e){xr(e)||this.crc32.update(an(e))},t.prototype.digest=function(){return Po(this,void 0,void 0,function(){return Bo(this,function(e){return[2,md(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new ns},t})(),ns=(function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var n,r;try{for(var s=pd(e),i=s.next();!i.done;i=s.next()){var o=i.value;this.checksum=this.checksum>>>8^ry[(this.checksum^o)&255]}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t})(),ny=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],ry=gd(ny);const sy=()=>ty,yd=(t,e)=>{switch(t){case De.MD5:return e.md5;case De.CRC32:return sy();case De.CRC32C:return Qg;case De.CRC64NVME:throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);case De.SHA1:return e.sha1;case De.SHA256:return e.sha256;default:throw new Error(`Unsupported checksum algorithm: ${t}`)}},bd=(t,e)=>{const n=new t;return n.update(Vn(e||"")),n.digest()},iy={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},oy=(t,e)=>(n,r)=>async s=>{if(!Qe.isInstance(s.request)||Zg("x-amz-checksum-",s.request.headers))return n(s);const{request:i,input:o}=s,{body:a,headers:c}=i,{base64Encoder:u,streamHasher:l}=t,{requestChecksumRequired:d,requestAlgorithmMember:f}=e,h=await t.requestChecksumCalculation(),g=f?.name,p=f?.httpHeader;g&&!o[g]&&(h===zn.WHEN_SUPPORTED||d)&&(o[g]=Ni,p&&(c[p]=Ni));const b=qg(o,{requestChecksumRequired:d,requestAlgorithmMember:f?.name,requestChecksumCalculation:h});let y=a,x=c;if(b){switch(b){case De.CRC32:qe(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case De.CRC32C:qe(r,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case De.CRC64NVME:qe(r,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case De.SHA1:qe(r,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case De.SHA256:qe(r,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}const C=Do(b),_=yd(b,t);if(fd(a)){const{getAwsChunkedEncodingStream:I,bodyLengthChecker:O}=t;y=I(typeof t.requestStreamBufferSize=="number"&&t.requestStreamBufferSize>=8*1024?lm(a,t.requestStreamBufferSize,r.logger):a,{base64Encoder:u,bodyLengthChecker:O,checksumLocationName:C,checksumAlgorithmFn:_,streamHasher:l}),x={...c,"content-encoding":c["content-encoding"]?`${c["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":c["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":C},delete x["content-length"]}else if(!Gg(C,c)){const I=await bd(_,a);x={...c,[C]:u(I)}}}return await n({...s,request:{...i,headers:x,body:y}})},ay={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},cy=(t,e)=>(n,r)=>async s=>{const i=s.input,{requestValidationModeMember:o}=e,a=await t.requestChecksumCalculation(),c=await t.responseChecksumValidation();switch(a){case zn.WHEN_REQUIRED:qe(r,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case zn.WHEN_SUPPORTED:qe(r,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(c){case Os.WHEN_REQUIRED:qe(r,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case Os.WHEN_SUPPORTED:qe(r,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return o&&!i[o]&&c===Os.WHEN_SUPPORTED&&(i[o]="ENABLED"),n(s)},wd=(t=[])=>{const e=[];for(const n of Kg)!t.includes(n)||!Hi.includes(n)||e.push(n);return e},uy=t=>{const e=t.lastIndexOf("-");if(e!==-1){const n=t.slice(e+1);if(!n.startsWith("0")){const r=parseInt(n,10);if(!isNaN(r)&&r>=1&&r<=1e4)return!0}}return!1},ly=async(t,{checksumAlgorithmFn:e,base64Encoder:n})=>n(await bd(e,t)),dy=async(t,{config:e,responseAlgorithms:n,logger:r})=>{const s=wd(n),{body:i,headers:o}=t;for(const a of s){const c=Do(a),u=o[c];if(u){let l;try{l=yd(a,e)}catch(h){if(a===De.CRC64NVME){r?.warn(`Skipping ${De.CRC64NVME} checksum validation: ${h.message}`);continue}throw h}const{base64Encoder:d}=e;if(fd(i)){t.body=am({expectedChecksum:u,checksumSourceLocation:c,checksum:new l,source:i,base64Encoder:d});return}const f=await ly(i,{checksumAlgorithmFn:l,base64Encoder:d});if(f===u)break;throw new Error(`Checksum mismatch: expected "${f}" but received "${u}" in response header "${c}".`)}}},hy={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},fy=(t,e)=>(n,r)=>async s=>{if(!Qe.isInstance(s.request))return n(s);const i=s.input,o=await n(s),a=o.response,{requestValidationModeMember:c,responseAlgorithms:u}=e;if(c&&i[c]==="ENABLED"){const{clientName:l,commandName:d}=r;if(l==="S3Client"&&d==="GetObjectCommand"&&wd(u).every(h=>{const g=Do(h),p=a.headers[g];return!p||uy(p)}))return o;await dy(a,{config:t,responseAlgorithms:u,logger:r.logger})}return o},py=(t,e)=>({applyToStack:n=>{n.add(oy(t,e),iy),n.addRelativeTo(cy(t,e),ay),n.addRelativeTo(fy(t,e),hy)}}),my=t=>{const{requestChecksumCalculation:e,responseChecksumValidation:n,requestStreamBufferSize:r}=t;return Object.assign(t,{requestChecksumCalculation:Nt(e??Vp),responseChecksumValidation:Nt(n??jp),requestStreamBufferSize:Number(r??0)})};const gy=t=>e=>async n=>{if(!Qe.isInstance(n.request))return e(n);const{request:r}=n,{handlerProtocol:s=""}=t.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let i=r.hostname;r.port!=null&&(i+=`:${r.port}`),r.headers.host=i}return e(n)},yy={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},by=t=>({applyToStack:e=>{e.add(gy(t),yy)}}),wy=()=>(t,e)=>async n=>{try{const r=await t(n),{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=a,l=c??e.inputFilterSensitiveLog,d=u??e.outputFilterSensitiveLog,{$metadata:f,...h}=r.output;return o?.info?.({clientName:s,commandName:i,input:l(n.input),output:d(h),metadata:f}),r}catch(r){const{clientName:s,commandName:i,logger:o,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c}=a,u=c??e.inputFilterSensitiveLog;throw o?.error?.({clientName:s,commandName:i,input:u(n.input),error:r,metadata:r.$metadata}),r}},xy={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Sy=t=>({applyToStack:e=>{e.add(wy(),xy)}}),vy={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Ey=()=>t=>async e=>t(e),Ay=t=>({applyToStack:e=>{e.add(Ey(),vy)}}),Cy="content-length",_y="x-amz-decoded-content-length";function ky(){return(t,e)=>async n=>{const{request:r}=n;if(Qe.isInstance(r)&&!(Cy in r.headers)&&!(_y in r.headers)){const s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof e?.logger?.warn=="function"&&!(e.logger instanceof To)?e.logger.warn(s):console.warn(s)}return t({...n})}}const Ty={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},Ry=t=>({applyToStack:e=>{e.add(ky(),Ty)}}),Dy=t=>(e,n)=>async r=>{const s=await t.region(),i=t.region;let o=()=>{};n.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:async()=>n.__s3RegionRedirect}),o=()=>Object.defineProperty(t,"region",{writable:!0,value:i}));try{const a=await e(r);if(n.__s3RegionRedirect){o();const c=await t.region();if(s!==c)throw new Error("Region was not restored following S3 region redirect.")}return a}catch(a){throw o(),a}},Py={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function By(t){return(e,n)=>async r=>{try{return await e(r)}catch(s){if(t.followRegionRedirects){const i=s?.$metadata?.httpStatusCode,o=n.commandName==="HeadBucketCommand",a=s?.$response?.headers?.["x-amz-bucket-region"];if(a&&(i===301||i===400&&(s?.name==="IllegalLocationConstraintException"||o))){try{const c=a;n.logger?.debug(`Redirecting from ${await t.region()} to ${c}`),n.__s3RegionRedirect=c}catch(c){throw new Error("Region redirect failed: "+c)}return e(r)}}throw s}}}const Iy={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},My=t=>({applyToStack:e=>{e.add(By(t),Iy),e.addRelativeTo(Dy(t),Py)}});class Io{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(e={}){this.data=e}get(e){const n=this.data[e];if(n)return n}set(e,n){return this.data[e]=n,n}delete(e){delete this.data[e]}async purgeExpired(){const e=Date.now();if(!(this.lastPurgeTime+Io.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>e))for(const n in this.data){const r=this.data[n];if(!r.isRefreshing){const s=await r.identity;s.expiration&&s.expiration.getTime()<e&&delete this.data[n]}}}}class Gs{_identity;isRefreshing;accessed;constructor(e,n=!1,r=Date.now()){this._identity=e,this.isRefreshing=n,this.accessed=r}get identity(){return this.accessed=Date.now(),this._identity}}class Mo{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(e,n=new Io){this.createSessionFn=e,this.cache=n}async getS3ExpressIdentity(e,n){const r=n.Bucket,{cache:s}=this,i=s.get(r);return i?i.identity.then(o=>(o.expiration?.getTime()??0)<Date.now()?s.set(r,new Gs(this.getIdentity(r))).identity:((o.expiration?.getTime()??0)<Date.now()+Mo.REFRESH_WINDOW_MS&&!i.isRefreshing&&(i.isRefreshing=!0,this.getIdentity(r).then(u=>{s.set(r,new Gs(Promise.resolve(u)))})),o)):s.set(r,new Gs(this.getIdentity(r))).identity}async getIdentity(e){await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});const n=await this.createSessionFn(e);if(!n.Credentials?.AccessKeyId||!n.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:n.Credentials.AccessKeyId,secretAccessKey:n.Credentials.SecretAccessKey,sessionToken:n.Credentials.SessionToken,expiration:n.Credentials.Expiration?new Date(n.Credentials.Expiration):void 0}}}const Oy="Directory",Fy="S3Express",Ny="sigv4-s3express",Ki="X-Amz-S3session-Token",qi=Ki.toLowerCase();class Ly extends Vi{async signWithCredentials(e,n,r){const s=Za(n);e.headers[qi]=n.sessionToken;const i=this;return Xa(i,s),i.signRequest(e,r??{})}async presignWithCredentials(e,n,r){const s=Za(n);return delete e.headers[qi],e.headers[Ki]=n.sessionToken,e.query=e.query??{},e.query[Ki]=n.sessionToken,Xa(this,s),this.presign(e,r)}}function Za(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function Xa(t,e){const n=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),r=t.credentialProvider,s=()=>(clearTimeout(n),t.credentialProvider=r,Promise.resolve(e));t.credentialProvider=s}const Uy=t=>(e,n)=>async r=>{if(n.endpointV2){const s=n.endpointV2,i=s.properties?.authSchemes?.[0]?.name===Ny;if((s.properties?.backend===Fy||s.properties?.bucketType===Oy)&&(qe(n,"S3_EXPRESS_BUCKET","J"),n.isS3ExpressBucket=!0),i){const a=r.input.Bucket;if(a){const c=await t.s3ExpressIdentityProvider.getS3ExpressIdentity(await t.credentials(),{Bucket:a});n.s3ExpressIdentity=c,Qe.isInstance(r.request)&&c.sessionToken&&(r.request.headers[qi]=c.sessionToken)}}}return e(r)},zy={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},$y=t=>({applyToStack:e=>{e.add(Uy(t),zy)}}),Vy=async(t,e,n,r)=>{const s=await r.signWithCredentials(n,t,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},jy=t=>e=>{throw e},Hy=(t,e)=>{},Wy=t=>(e,n)=>async r=>{if(!Qe.isInstance(r.request))return e(r);const i=dn(n).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=i;let u;n.s3ExpressIdentity?u=await Vy(n.s3ExpressIdentity,o,r.request,await t.signer()):u=await c.sign(r.request,a,o);const l=await e({...r,request:u}).catch((c.errorHandler||jy)(o));return(c.successHandler||Hy)(l.response,o),l},Ky=t=>({applyToStack:e=>{e.addRelativeTo(Wy(t),Wl)}}),qy=(t,{session:e})=>{const[n,r]=e,{forcePathStyle:s,useAccelerateEndpoint:i,disableMultiregionAccessPoints:o,followRegionRedirects:a,s3ExpressIdentityProvider:c,bucketEndpoint:u,expectContinueHeader:l}=t;return Object.assign(t,{forcePathStyle:s??!1,useAccelerateEndpoint:i??!1,disableMultiregionAccessPoints:o??!1,followRegionRedirects:a??!1,s3ExpressIdentityProvider:c??new Mo(async d=>n().send(new r({Bucket:d}))),bucketEndpoint:u??!1,expectContinueHeader:l??2097152})},Gy={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},Zy=3e3,Xy=t=>(e,n)=>async r=>{const s=await e(r),{response:i}=s;if(!En.isInstance(i))return s;const{statusCode:o,body:a}=i;if(o<200||o>=300||!(typeof a?.stream=="function"||typeof a?.pipe=="function"||typeof a?.tee=="function"))return s;let u=a,l=a;a&&typeof a=="object"&&!(a instanceof Uint8Array)&&([u,l]=await Sm(a)),i.body=l;const d=await Yy(u,{streamCollector:async h=>pm(h,Zy)});typeof u?.destroy=="function"&&u.destroy();const f=t.utf8Encoder(d.subarray(d.length-16));if(d.length===0&&Gy[n.commandName]){const h=new Error("S3 aborted request");throw h.name="InternalError",h}return f&&f.endsWith("</Error>")&&(i.statusCode=400),s},Yy=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),Qy={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},xd=t=>({applyToStack:e=>{e.addRelativeTo(Xy(t),Qy)}}),Jy=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function e0(t){return(e,n)=>async r=>{if(t.bucketEndpoint){const s=n.endpointV2;if(s){const i=r.input.Bucket;if(typeof i=="string")try{const o=new URL(i);n.endpointV2={...s,url:o}}catch(o){const a=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${i} could not be parsed as URL.`;throw n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a),o}}}return e(r)}}const t0={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function n0({bucketEndpoint:t}){return e=>async n=>{const{input:{Bucket:r}}=n;if(!t&&typeof r=="string"&&!Jy(r)&&r.indexOf("/")>=0){const s=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw s.name="InvalidBucketName",s}return e({...n})}}const r0={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},s0=t=>({applyToStack:e=>{e.add(n0(t),r0),e.addRelativeTo(e0(t),t0)}}),i0=void 0;function o0(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function a0(t){const e=Nn(t.userAgentAppId??i0),{customUserAgent:n}=t;return Object.assign(t,{customUserAgent:typeof n=="string"?[[n]]:n,userAgentAppId:async()=>{const r=await e();if(!o0(r)){const s=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof r!="string"?s?.warn("userAgentAppId must be a string or undefined."):r.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return r}})}class c0{capacity;data=new Map;parameters=[];constructor({size:e,params:n}){this.capacity=e??50,n&&(this.parameters=n)}get(e,n){const r=this.hash(e);if(r===!1)return n();if(!this.data.has(r)){if(this.data.size>this.capacity+10){const s=this.data.keys();let i=0;for(;;){const{value:o,done:a}=s.next();if(this.data.delete(o),a||++i>10)break}}this.data.set(r,n())}return this.data.get(r)}size(){return this.data.size}hash(e){let n="";const{parameters:r}=this;if(r.length===0)return!1;for(const s of r){const i=String(e[s]??"");if(i.includes("|;"))return!1;n+=i+"|;"}return n}}const u0=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Sd=t=>u0.test(t)||t.startsWith("[")&&t.endsWith("]"),l0=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),ws=(t,e=!1)=>{if(!e)return l0.test(t);const n=t.split(".");for(const r of n)if(!ws(r))return!1;return!0},rs={},Sr="endpoints";function cn(t){return typeof t!="object"||t==null?t:"ref"in t?`$${cn(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(cn).join(", ")})`:JSON.stringify(t,null,2)}class Ct extends Error{constructor(e){super(e),this.name="EndpointError"}}const d0=(t,e)=>t===e,h0=t=>{const e=t.split("."),n=[];for(const r of e){const s=r.indexOf("[");if(s!==-1){if(r.indexOf("]")!==r.length-1)throw new Ct(`Path: '${t}' does not end with ']'`);const i=r.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new Ct(`Invalid array index: '${i}' in path: '${t}'`);s!==0&&n.push(r.slice(0,s)),n.push(i)}else n.push(r)}return n},vd=(t,e)=>h0(e).reduce((n,r)=>{if(typeof n!="object")throw new Ct(`Index '${r}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(n)?n[parseInt(r)]:n[r]},t),f0=t=>t!=null,p0=t=>!t,Zs={[wr.HTTP]:80,[wr.HTTPS]:443},m0=t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:f,port:h,protocol:g="",path:p="",query:b={}}=t,y=new URL(`${g}//${f}${h?`:${h}`:""}${p}`);return y.search=Object.entries(b).map(([x,S])=>`${x}=${S}`).join("&"),y}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const n=e.href,{host:r,hostname:s,pathname:i,protocol:o,search:a}=e;if(a)return null;const c=o.slice(0,-1);if(!Object.values(wr).includes(c))return null;const u=Sd(s),l=n.includes(`${r}:${Zs[c]}`)||typeof t=="string"&&t.includes(`${r}:${Zs[c]}`),d=`${r}${l?`:${Zs[c]}`:""}`;return{scheme:c,authority:d,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:u}},g0=(t,e)=>t===e,y0=(t,e,n,r)=>e>=n||t.length<n?null:r?t.substring(t.length-n,t.length-e):t.substring(e,n),b0=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),w0={booleanEquals:d0,getAttr:vd,isSet:f0,isValidHostLabel:ws,not:p0,parseURL:m0,stringEquals:g0,substring:y0,uriEncode:b0},Ed=(t,e)=>{const n=[],r={...e.endpointParams,...e.referenceRecord};let s=0;for(;s<t.length;){const i=t.indexOf("{",s);if(i===-1){n.push(t.slice(s));break}n.push(t.slice(s,i));const o=t.indexOf("}",i);if(o===-1){n.push(t.slice(i));break}t[i+1]==="{"&&t[o+1]==="}"&&(n.push(t.slice(i+1,o)),s=o+2);const a=t.substring(i+1,o);if(a.includes("#")){const[c,u]=a.split("#");n.push(vd(r[c],u))}else n.push(r[a]);s=o+1}return n.join("")},x0=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],xs=(t,e,n)=>{if(typeof t=="string")return Ed(t,n);if(t.fn)return Cd.callFunction(t,n);if(t.ref)return x0(t,n);throw new Ct(`'${e}': ${String(t)} is not a string, function or reference.`)},Ad=({fn:t,argv:e},n)=>{const r=e.map(i=>["boolean","number"].includes(typeof i)?i:Cd.evaluateExpression(i,"arg",n)),s=t.split(".");return s[0]in rs&&s[1]!=null?rs[s[0]][s[1]](...r):w0[t](...r)},Cd={evaluateExpression:xs,callFunction:Ad},S0=({assign:t,...e},n)=>{if(t&&t in n.referenceRecord)throw new Ct(`'${t}' is already defined in Reference Record.`);const r=Ad(e,n);return n.logger?.debug?.(`${Sr} evaluateCondition: ${cn(e)} = ${cn(r)}`),{result:r===""?!0:!!r,...t!=null&&{toAssign:{name:t,value:r}}}},Oo=(t=[],e)=>{const n={};for(const r of t){const{result:s,toAssign:i}=S0(r,{...e,referenceRecord:{...e.referenceRecord,...n}});if(!s)return{result:s};i&&(n[i.name]=i.value,e.logger?.debug?.(`${Sr} assign: ${i.name} := ${cn(i.value)}`))}return{result:!0,referenceRecord:n}},v0=(t,e)=>Object.entries(t).reduce((n,[r,s])=>({...n,[r]:s.map(i=>{const o=xs(i,"Header value entry",e);if(typeof o!="string")throw new Ct(`Header '${r}' value '${o}' is not a string`);return o})}),{}),_d=(t,e)=>Object.entries(t).reduce((n,[r,s])=>({...n,[r]:Td.getEndpointProperty(s,e)}),{}),kd=(t,e)=>{if(Array.isArray(t))return t.map(n=>kd(n,e));switch(typeof t){case"string":return Ed(t,e);case"object":if(t===null)throw new Ct(`Unexpected endpoint property: ${t}`);return Td.getEndpointProperties(t,e);case"boolean":return t;default:throw new Ct(`Unexpected endpoint property type: ${typeof t}`)}},Td={getEndpointProperty:kd,getEndpointProperties:_d},E0=(t,e)=>{const n=xs(t,"Endpoint URL",e);if(typeof n=="string")try{return new URL(n)}catch(r){throw console.error(`Failed to construct URL with ${n}`,r),r}throw new Ct(`Endpoint URL must be a string, got ${typeof n}`)},A0=(t,e)=>{const{conditions:n,endpoint:r}=t,{result:s,referenceRecord:i}=Oo(n,e);if(!s)return;const o={...e,referenceRecord:{...e.referenceRecord,...i}},{url:a,properties:c,headers:u}=r;return e.logger?.debug?.(`${Sr} Resolving endpoint from template: ${cn(r)}`),{...u!=null&&{headers:v0(u,o)},...c!=null&&{properties:_d(c,o)},url:E0(a,o)}},C0=(t,e)=>{const{conditions:n,error:r}=t,{result:s,referenceRecord:i}=Oo(n,e);if(s)throw new Ct(xs(r,"Error",{...e,referenceRecord:{...e.referenceRecord,...i}}))},Rd=(t,e)=>{for(const n of t)if(n.type==="endpoint"){const r=A0(n,e);if(r)return r}else if(n.type==="error")C0(n,e);else if(n.type==="tree"){const r=Dd.evaluateTreeRule(n,e);if(r)return r}else throw new Ct(`Unknown endpoint rule: ${n}`);throw new Ct("Rules evaluation failed")},_0=(t,e)=>{const{conditions:n,rules:r}=t,{result:s,referenceRecord:i}=Oo(n,e);if(s)return Dd.evaluateRules(r,{...e,referenceRecord:{...e.referenceRecord,...i}})},Dd={evaluateRules:Rd,evaluateTreeRule:_0},k0=(t,e)=>{const{endpointParams:n,logger:r}=e,{parameters:s,rules:i}=t;e.logger?.debug?.(`${Sr} Initial EndpointParams: ${cn(n)}`);const o=Object.entries(s).filter(([,u])=>u.default!=null).map(([u,l])=>[u,l.default]);if(o.length>0)for(const[u,l]of o)n[u]=n[u]??l;const a=Object.entries(s).filter(([,u])=>u.required).map(([u])=>u);for(const u of a)if(n[u]==null)throw new Ct(`Missing required parameter: '${u}'`);const c=Rd(i,{endpointParams:n,logger:r,referenceRecord:{}});return e.logger?.debug?.(`${Sr} Resolved endpoint: ${cn(c)}`),c},Pd=(t,e=!1)=>{if(e){for(const n of t.split("."))if(!Pd(n))return!1;return!0}return!(!ws(t)||t.length<3||t.length>63||t!==t.toLowerCase()||Sd(t))},Ya=":",T0="/",R0=t=>{const e=t.split(Ya);if(e.length<6)return null;const[n,r,s,i,o,...a]=e;if(n!=="arn"||r===""||s===""||a.join(Ya)==="")return null;const c=a.map(u=>u.split(T0)).flat();return{partition:r,service:s,region:i,accountId:o,resourceId:c}},D0=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],P0={partitions:D0};let B0=P0;const I0=t=>{const{partitions:e}=B0;for(const r of e){const{regions:s,outputs:i}=r;for(const[o,a]of Object.entries(s))if(o===t)return{...i,...a}}for(const r of e){const{regionRegex:s,outputs:i}=r;if(new RegExp(s).test(t))return{...i}}const n=e.find(r=>r.id==="aws");if(!n)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...n.outputs}},Bd={isVirtualHostableS3Bucket:Pd,parseArn:R0,partition:I0};rs.aws=Bd;function M0(t){const e={};if(t=t.replace(/^\?/,""),t)for(const n of t.split("&")){let[r,s=null]=n.split("=");r=decodeURIComponent(r),s&&(s=decodeURIComponent(s)),r in e?Array.isArray(e[r])?e[r].push(s):e[r]=[e[r],s]:e[r]=s}return e}const ss=t=>{if(typeof t=="string")return ss(new URL(t));const{hostname:e,pathname:n,port:r,protocol:s,search:i}=t;let o;return i&&(o=M0(i)),{hostname:e,port:r?parseInt(r):void 0,protocol:s,path:n,query:o}},O0=/\d{12}\.ddb/;async function F0(t,e,n){if(n.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&qe(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){const i=await e.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?qe(t,"RETRY_MODE_ADAPTIVE","F"):qe(t,"RETRY_MODE_STANDARD","E"):qe(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){const i=t.endpointV2;switch(String(i?.url?.hostname).match(O0)&&qe(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":qe(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":qe(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":qe(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const s=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){const i=s;i.accountId&&qe(t,"RESOLVED_ACCOUNT_ID","T");for(const[o,a]of Object.entries(i.$source??{}))qe(t,o,a)}}const Qa="user-agent",Xs="x-amz-user-agent",Ja=" ",Ys="/",N0=/[^!$%&'*+\-.^_`|~\w]/g,L0=/[^!$%&'*+\-.^_`|~\w#]/g,ec="-",U0=1024;function z0(t){let e="";for(const n in t){const r=t[n];if(e.length+r.length+1<=U0){e.length?e+=","+r:e+=r;continue}break}return e}const $0=t=>(e,n)=>async r=>{const{request:s}=r;if(!Qe.isInstance(s))return e(r);const{headers:i}=s,o=n?.userAgent?.map(Ur)||[],a=(await t.defaultUserAgentProvider()).map(Ur);await F0(n,t,r);const c=n;a.push(`m/${z0(Object.assign({},n.__smithy_context?.features,c.__aws_sdk_context?.features))}`);const u=t?.customUserAgent?.map(Ur)||[],l=await t.userAgentAppId();l&&a.push(Ur(["app",`${l}`]));const d=[].concat([...a,...o,...u]).join(Ja),f=[...a.filter(h=>h.startsWith("aws-sdk-")),...u].join(Ja);return t.runtime!=="browser"?(f&&(i[Xs]=i[Xs]?`${i[Qa]} ${f}`:f),i[Qa]=d):i[Xs]=d,e({...r,request:s})},Ur=t=>{const e=t[0].split(Ys).map(o=>o.replace(N0,ec)).join(Ys),n=t[1]?.replace(L0,ec),r=e.indexOf(Ys),s=e.substring(0,r);let i=e.substring(r+1);return s==="api"&&(i=i.toLowerCase()),[s,i,n].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},V0={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},j0=t=>({applyToStack:e=>{e.add($0(t),V0)}}),H0=!1,W0=!1,tc=new Set,K0=(t,e=ws)=>{if(!tc.has(t)&&!e(t))if(t==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);else tc.add(t)},Id=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),q0=t=>Id(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,G0=t=>{const{region:e,useFipsEndpoint:n}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{const r=typeof e=="function"?await e():e,s=q0(r);return K0(s),s},useFipsEndpoint:async()=>{const r=typeof e=="string"?e:await e();return Id(r)?!0:typeof n!="function"?Promise.resolve(!!n):n()}})},Z0=t=>Object.assign(t,{eventStreamMarshaller:t.eventStreamSerdeProvider(t)}),nc="content-length";function X0(t){return e=>async n=>{const r=n.request;if(Qe.isInstance(r)){const{body:s,headers:i}=r;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(nc)===-1)try{const o=t(s);r.headers={...r.headers,[nc]:String(o)}}catch{}}return e({...n,request:r})}}const Y0={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Q0=t=>({applyToStack:e=>{e.add(X0(t.bodyLengthChecker),Y0)}}),J0=async t=>{const e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),sb(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!rb(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},eb=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,tb=/(\d+\.){3}\d+/,nb=/\.\./,rb=t=>eb.test(t)&&!tb.test(t)&&!nb.test(t),sb=t=>{const[e,n,r,,,s]=t.split(":"),i=e==="arn"&&t.split(":").length>=6,o=!!(i&&n&&r&&s);if(i&&!o)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return o},ib=(t,e,n)=>{const r=async()=>{const s=n[t]??n[e];return typeof s=="function"?s():s};return t==="credentialScope"||e==="CredentialScope"?async()=>{const s=typeof n.credentials=="function"?await n.credentials():n.credentials;return s?.credentialScope??s?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{const s=typeof n.credentials=="function"?await n.credentials():n.credentials;return s?.accountId??s?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{if(n.isCustomEndpoint===!1)return;const s=await r();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){const{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:r},Md=async t=>{},Od=t=>typeof t=="object"?"url"in t?ss(t.url):t:ss(t),ob=async(t,e,n,r)=>{if(!n.isCustomEndpoint){let o;n.serviceConfiguredEndpoint?o=await n.serviceConfiguredEndpoint():o=await Md(n.serviceId),o&&(n.endpoint=()=>Promise.resolve(Od(o)),n.isCustomEndpoint=!0)}const s=await Fd(t,e,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(s,r)},Fd=async(t,e,n)=>{const r={},s=e?.getEndpointParameterInstructions?.()||{};for(const[i,o]of Object.entries(s))switch(o.type){case"staticContextParams":r[i]=o.value;break;case"contextParams":r[i]=t[o.name];break;case"clientContextParams":case"builtInParams":r[i]=await ib(o.name,i,n)();break;case"operationContextParams":r[i]=o.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(s).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&await J0(r),r},ab=({config:t,instructions:e})=>(n,r)=>async s=>{t.isCustomEndpoint&&Wm(r,"ENDPOINT_OVERRIDE","N");const i=await ob(s.input,{getEndpointParameterInstructions(){return e}},{...t},r);r.endpointV2=i,r.authSchemes=i.properties?.authSchemes;const o=r.authSchemes?.[0];if(o){r.signing_region=o.signingRegion,r.signing_service=o.signingName;const c=dn(r)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return n({...s})},cb={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Qp.name},Nd=(t,e)=>({applyToStack:n=>{n.addRelativeTo(ab({config:t,instructions:e}),cb)}}),ub=t=>{const e=t.tls??!0,{endpoint:n,useDualstackEndpoint:r,useFipsEndpoint:s}=t,i=n!=null?async()=>Od(await Nt(n)()):void 0,a=Object.assign(t,{endpoint:i,tls:e,isCustomEndpoint:!!n,useDualstackEndpoint:Nt(r??!1),useFipsEndpoint:Nt(s??!1)});let c;return a.serviceConfiguredEndpoint=async()=>(t.serviceId&&!c&&(c=Md(t.serviceId)),c),a};var jn;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(jn||(jn={}));const is=3,lb=jn.STANDARD,db=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],hb=["TimeoutError","RequestTimeout","RequestTimeoutException"],fb=[500,502,503,504],pb=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],mb=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],gb=t=>t?.$retryable!==void 0,yb=t=>t.$metadata?.clockSkewCorrected,bb=t=>{const e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},Ld=t=>t.$metadata?.httpStatusCode===429||db.includes(t.name)||t.$retryable?.throttling==!0,Fo=(t,e=0)=>gb(t)||yb(t)||hb.includes(t.name)||pb.includes(t?.code||"")||mb.includes(t?.code||"")||fb.includes(t.$metadata?.httpStatusCode||0)||bb(t)||t.cause!==void 0&&e<=10&&Fo(t.cause,e+1),wb=t=>{if(t.$metadata?.httpStatusCode!==void 0){const e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!Fo(t)}return!1};class No{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const n=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>No.setTimeoutFn(r,n))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const n=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=e}updateClientSendingRate(e){let n;if(this.updateMeasuredRate(),Ld(e)){const s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());const r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),n=Math.floor(e*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){const r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(e){return parseFloat(e.toFixed(8))}}const Gi=100,Ud=20*1e3,xb=500,rc=500,Sb=5,vb=10,Eb=1,Ab="amz-sdk-invocation-id",Cb="amz-sdk-request",_b=()=>{let t=Gi;return{computeNextBackoffDelay:r=>Math.floor(Math.min(Ud,Math.random()*2**r*t)),setDelayBase:r=>{t=r}}},sc=({retryDelay:t,retryCount:e,retryCost:n})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(Ud,t),getRetryCost:()=>n});class zd{maxAttempts;mode=jn.STANDARD;capacity=rc;retryBackoffStrategy=_b();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return sc({retryDelay:Gi,retryCount:0})}async refreshRetryTokenForRetry(e,n){const r=await this.getMaxAttempts();if(this.shouldRetry(e,n,r)){const s=n.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?xb:Gi);const i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(s);return this.capacity-=a,sc({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(rc,this.capacity+(e.getRetryCost()??Eb))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${is}`),is}}shouldRetry(e,n,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(e){return e==="TRANSIENT"?vb:Sb}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class kb{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=jn.ADAPTIVE;constructor(e,n){this.maxAttemptsProvider=e;const{rateLimiter:r}=n??{};this.rateLimiter=r??new No,this.standardRetryStrategy=new zd(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,n){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(e,n)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}const Tb=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),Rb=t=>{const{retryStrategy:e,retryMode:n,maxAttempts:r}=t,s=Nt(r??is);return Object.assign(t,{maxAttempts:s,retryStrategy:async()=>e||(await Nt(n)()===jn.ADAPTIVE?new kb(s):new zd(s))})},Db=t=>t?.body instanceof ReadableStream,Pb=t=>(e,n)=>async r=>{let s=await t.retryStrategy();const i=await t.maxAttempts();if(Bb(s)){s=s;let o=await s.acquireInitialRetryToken(n.partition_id),a=new Error,c=0,u=0;const{request:l}=r,d=Qe.isInstance(l);for(d&&(l.headers[Ab]=vo());;)try{d&&(l.headers[Cb]=`attempt=${c+1}; max=${i}`);const{response:f,output:h}=await e(r);return s.recordSuccess(o),h.$metadata.attempts=c+1,h.$metadata.totalRetryDelay=u,{response:f,output:h}}catch(f){const h=Ib(f);if(a=Tb(f),d&&Db(l))throw(n.logger instanceof To?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await s.refreshRetryTokenForRetry(o,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=o.getRetryCount();const g=o.getRetryDelay();u+=g,await new Promise(p=>setTimeout(p,g))}}else return s=s,s?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(e,r)},Bb=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",Ib=t=>{const e={error:t,errorType:Mb(t)},n=Nb(t.$response);return n&&(e.retryAfterHint=n),e},Mb=t=>Ld(t)?"THROTTLING":Fo(t)?"TRANSIENT":wb(t)?"SERVER_ERROR":"CLIENT_ERROR",Ob={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Fb=t=>({applyToStack:e=>{e.add(Pb(t),Ob)}}),Nb=t=>{if(!En.isInstance(t))return;const e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;const n=t.headers[e],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)};class $d{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return"none"}constructor(e){this.sigv4Signer=new Ly(e),this.signerOptions=e}async sign(e,n={}){return n.signingRegion==="*"?this.getSigv4aSigner().sign(e,n):this.sigv4Signer.sign(e,n)}async signWithCredentials(e,n,r={}){if(r.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.signWithCredentials(e,n,r)}async presign(e,n={}){if(n.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.presign(e,n)}async presignWithCredentials(e,n,r={}){if(r.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,n,r)}getSigv4aSigner(){if(!this.sigv4aSigner)throw this.signerOptions.runtime==="node"?new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt"):new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");return this.sigv4aSigner}}const Lo="required",v="type",z="rules",k="conditions",P="fn",B="argv",ae="ref",ye="assign",J="url",ee="properties",Gt="backend",st="authSchemes",Ze="disableDoubleEncoding",Xe="signingName",ot="signingRegion",te="headers",Uo="signingRegionSet",Lb=6,Ub=!1,zt=!0,At="isSet",We="booleanEquals",re="error",os="aws.partition",_e="stringEquals",Fe="getAttr",Le="name",Re="substring",ic="bucketSuffix",zo="parseURL",j="endpoint",$="tree",as="aws.isVirtualHostableS3Bucket",cs="{url#scheme}://{Bucket}.{url#authority}{url#path}",jt="not",oc="accessPointSuffix",Gr="{url#scheme}://{url#authority}{url#path}",Vd="hardwareType",jd="regionPrefix",ac="bucketAliasSuffix",Zi="outpostId",Cn="isValidHostLabel",$o="sigv4a",vr="s3-outposts",Hn="s3",Hd="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Wd="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",cc="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Kd="aws.parseArn",qd="bucketArn",Gd="arnType",us="",Vo="s3-object-lambda",Zd="accesspoint",jo="accessPointName",uc="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",lc="mrapPartition",dc="outpostType",hc="arnPrefix",Xd="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",fc="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",pc="https://s3.{partitionResult#dnsSuffix}",_n={[Lo]:!1,[v]:"string"},kn={[Lo]:!0,default:!1,[v]:"boolean"},nr={[Lo]:!1,[v]:"boolean"},Pt={[P]:We,[B]:[{[ae]:"Accelerate"},!0]},Be={[P]:We,[B]:[{[ae]:"UseFIPS"},!0]},Te={[P]:We,[B]:[{[ae]:"UseDualStack"},!0]},je={[P]:At,[B]:[{[ae]:"Endpoint"}]},Yd={[P]:os,[B]:[{[ae]:"Region"}],[ye]:"partitionResult"},mc={[P]:_e,[B]:[{[P]:Fe,[B]:[{[ae]:"partitionResult"},Le]},"aws-cn"]},ur={[P]:At,[B]:[{[ae]:"Bucket"}]},Ee={[ae]:"Bucket"},gc={[k]:[Pt],[re]:"S3Express does not support S3 Accelerate.",[v]:re},yc={[k]:[je,{[P]:zo,[B]:[{[ae]:"Endpoint"}],[ye]:"url"}],[z]:[{[k]:[{[P]:At,[B]:[{[ae]:"DisableS3ExpressSessionAuth"}]},{[P]:We,[B]:[{[ae]:"DisableS3ExpressSessionAuth"},!0]}],[z]:[{[k]:[{[P]:We,[B]:[{[P]:Fe,[B]:[{[ae]:"url"},"isIp"]},!0]}],[z]:[{[k]:[{[P]:"uriEncode",[B]:[Ee],[ye]:"uri_encoded_bucket"}],[z]:[{[j]:{[J]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[ee]:{[Gt]:"S3Express",[st]:[{[Ze]:!0,[Le]:"sigv4",[Xe]:"s3express",[ot]:"{Region}"}]},[te]:{}},[v]:j}],[v]:$}],[v]:$},{[k]:[{[P]:as,[B]:[Ee,!1]}],[z]:[{[j]:{[J]:cs,[ee]:{[Gt]:"S3Express",[st]:[{[Ze]:!0,[Le]:"sigv4",[Xe]:"s3express",[ot]:"{Region}"}]},[te]:{}},[v]:j}],[v]:$},{[re]:"S3Express bucket name is not a valid virtual hostable name.",[v]:re}],[v]:$},{[k]:[{[P]:We,[B]:[{[P]:Fe,[B]:[{[ae]:"url"},"isIp"]},!0]}],[z]:[{[k]:[{[P]:"uriEncode",[B]:[Ee],[ye]:"uri_encoded_bucket"}],[z]:[{[j]:{[J]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[ee]:{[Gt]:"S3Express",[st]:[{[Ze]:!0,[Le]:"sigv4-s3express",[Xe]:"s3express",[ot]:"{Region}"}]},[te]:{}},[v]:j}],[v]:$}],[v]:$},{[k]:[{[P]:as,[B]:[Ee,!1]}],[z]:[{[j]:{[J]:cs,[ee]:{[Gt]:"S3Express",[st]:[{[Ze]:!0,[Le]:"sigv4-s3express",[Xe]:"s3express",[ot]:"{Region}"}]},[te]:{}},[v]:j}],[v]:$},{[re]:"S3Express bucket name is not a valid virtual hostable name.",[v]:re}],[v]:$},pt={[P]:zo,[B]:[{[ae]:"Endpoint"}],[ye]:"url"},Qs={[P]:We,[B]:[{[P]:Fe,[B]:[{[ae]:"url"},"isIp"]},!0]},Qd={[ae]:"url"},Jd={[P]:"uriEncode",[B]:[Ee],[ye]:"uri_encoded_bucket"},Et={[Gt]:"S3Express",[st]:[{[Ze]:!0,[Le]:"sigv4",[Xe]:"s3express",[ot]:"{Region}"}]},fe={},eh={[P]:as,[B]:[Ee,!1]},bc={[re]:"S3Express bucket name is not a valid virtual hostable name.",[v]:re},wc={[P]:At,[B]:[{[ae]:"UseS3ExpressControlEndpoint"}]},xc={[P]:We,[B]:[{[ae]:"UseS3ExpressControlEndpoint"},!0]},ge={[P]:jt,[B]:[je]},Se={[P]:We,[B]:[{[ae]:"UseDualStack"},!1]},we={[P]:We,[B]:[{[ae]:"UseFIPS"},!1]},zr={[re]:"Unrecognized S3Express bucket name format.",[v]:re},Sc={[P]:jt,[B]:[ur]},vc={[ae]:Vd},Ec={[k]:[ge],[re]:"Expected a endpoint to be specified but no endpoint was found",[v]:re},$r={[st]:[{[Ze]:!0,[Le]:$o,[Xe]:vr,[Uo]:["*"]},{[Ze]:!0,[Le]:"sigv4",[Xe]:vr,[ot]:"{Region}"}]},Js={[P]:We,[B]:[{[ae]:"ForcePathStyle"},!1]},zb={[ae]:"ForcePathStyle"},Ke={[P]:We,[B]:[{[ae]:"Accelerate"},!1]},Je={[P]:_e,[B]:[{[ae]:"Region"},"aws-global"]},tt={[st]:[{[Ze]:!0,[Le]:"sigv4",[Xe]:Hn,[ot]:"us-east-1"}]},ve={[P]:jt,[B]:[Je]},nt={[P]:We,[B]:[{[ae]:"UseGlobalEndpoint"},!0]},Ac={[J]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:{[st]:[{[Ze]:!0,[Le]:"sigv4",[Xe]:Hn,[ot]:"{Region}"}]},[te]:{}},Ye={[st]:[{[Ze]:!0,[Le]:"sigv4",[Xe]:Hn,[ot]:"{Region}"}]},rt={[P]:We,[B]:[{[ae]:"UseGlobalEndpoint"},!1]},Cc={[J]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[ee]:Ye,[te]:{}},_c={[J]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[ee]:Ye,[te]:{}},kc={[J]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:Ye,[te]:{}},ei={[P]:We,[B]:[{[P]:Fe,[B]:[Qd,"isIp"]},!1]},ti={[J]:Hd,[ee]:Ye,[te]:{}},Xi={[J]:cs,[ee]:Ye,[te]:{}},Tc={[j]:Xi,[v]:j},ni={[J]:Wd,[ee]:Ye,[te]:{}},Rc={[J]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[ee]:Ye,[te]:{}},Vr={[re]:"Invalid region: region was not a valid DNS name.",[v]:re},bt={[ae]:qd},th={[ae]:Gd},ri={[P]:Fe,[B]:[bt,"service"]},Ho={[ae]:jo},Dc={[k]:[Te],[re]:"S3 Object Lambda does not support Dual-stack",[v]:re},Pc={[k]:[Pt],[re]:"S3 Object Lambda does not support S3 Accelerate",[v]:re},Bc={[k]:[{[P]:At,[B]:[{[ae]:"DisableAccessPoints"}]},{[P]:We,[B]:[{[ae]:"DisableAccessPoints"},!0]}],[re]:"Access points are not supported for this operation",[v]:re},si={[k]:[{[P]:At,[B]:[{[ae]:"UseArnRegion"}]},{[P]:We,[B]:[{[ae]:"UseArnRegion"},!1]},{[P]:jt,[B]:[{[P]:_e,[B]:[{[P]:Fe,[B]:[bt,"region"]},"{Region}"]}]}],[re]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[v]:re},nh={[P]:Fe,[B]:[{[ae]:"bucketPartition"},Le]},rh={[P]:Fe,[B]:[bt,"accountId"]},ii={[st]:[{[Ze]:!0,[Le]:"sigv4",[Xe]:Vo,[ot]:"{bucketArn#region}"}]},Ic={[re]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[v]:re},oi={[re]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[v]:re},ai={[re]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[v]:re},ci={[re]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[v]:re},Mc={[re]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[v]:re},Oc={[re]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[v]:re},rr={[st]:[{[Ze]:!0,[Le]:"sigv4",[Xe]:Hn,[ot]:"{bucketArn#region}"}]},Fc={[st]:[{[Ze]:!0,[Le]:$o,[Xe]:vr,[Uo]:["*"]},{[Ze]:!0,[Le]:"sigv4",[Xe]:vr,[ot]:"{bucketArn#region}"}]},Nc={[P]:Kd,[B]:[Ee]},Lc={[J]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:Ye,[te]:{}},Uc={[J]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:Ye,[te]:{}},zc={[J]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:Ye,[te]:{}},ui={[J]:Xd,[ee]:Ye,[te]:{}},$c={[J]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:Ye,[te]:{}},Vc={[ae]:"UseObjectLambdaEndpoint"},li={[st]:[{[Ze]:!0,[Le]:"sigv4",[Xe]:Vo,[ot]:"{Region}"}]},jc={[J]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:Ye,[te]:{}},Hc={[J]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[ee]:Ye,[te]:{}},Wc={[J]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:Ye,[te]:{}},di={[J]:Gr,[ee]:Ye,[te]:{}},Kc={[J]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[ee]:Ye,[te]:{}},hi=[{[ae]:"Region"}],$b=[{[ae]:"Endpoint"}],Vb=[Ee],fi=[Pt],Tn=[je,pt],qc=[{[P]:At,[B]:[{[ae]:"DisableS3ExpressSessionAuth"}]},{[P]:We,[B]:[{[ae]:"DisableS3ExpressSessionAuth"},!0]}],jb=[Jd],Gc=[eh],Tt=[Yd],pi=[Be,Te],lr=[Be,Se],dr=[we,Te],hr=[we,Se],Zc=[{[P]:Re,[B]:[Ee,6,14,!0],[ye]:"s3expressAvailabilityZoneId"},{[P]:Re,[B]:[Ee,14,16,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[P]:_e,[B]:[{[ae]:"s3expressAvailabilityZoneDelim"},"--"]}],$t=[{[k]:[Be,Te],[j]:{[J]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:Et,[te]:{}},[v]:j},{[k]:lr,[j]:{[J]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ee]:Et,[te]:{}},[v]:j},{[k]:dr,[j]:{[J]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:Et,[te]:{}},[v]:j},{[k]:hr,[j]:{[J]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ee]:Et,[te]:{}},[v]:j}],Xc=[{[P]:Re,[B]:[Ee,6,15,!0],[ye]:"s3expressAvailabilityZoneId"},{[P]:Re,[B]:[Ee,15,17,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[P]:_e,[B]:[{[ae]:"s3expressAvailabilityZoneDelim"},"--"]}],Yc=[{[P]:Re,[B]:[Ee,6,19,!0],[ye]:"s3expressAvailabilityZoneId"},{[P]:Re,[B]:[Ee,19,21,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[P]:_e,[B]:[{[ae]:"s3expressAvailabilityZoneDelim"},"--"]}],Qc=[{[P]:Re,[B]:[Ee,6,20,!0],[ye]:"s3expressAvailabilityZoneId"},{[P]:Re,[B]:[Ee,20,22,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[P]:_e,[B]:[{[ae]:"s3expressAvailabilityZoneDelim"},"--"]}],Jc=[{[P]:Re,[B]:[Ee,6,26,!0],[ye]:"s3expressAvailabilityZoneId"},{[P]:Re,[B]:[Ee,26,28,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[P]:_e,[B]:[{[ae]:"s3expressAvailabilityZoneDelim"},"--"]}],Vt=[{[k]:[Be,Te],[j]:{[J]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:{[Gt]:"S3Express",[st]:[{[Ze]:!0,[Le]:"sigv4-s3express",[Xe]:"s3express",[ot]:"{Region}"}]},[te]:{}},[v]:j},{[k]:lr,[j]:{[J]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ee]:{[Gt]:"S3Express",[st]:[{[Ze]:!0,[Le]:"sigv4-s3express",[Xe]:"s3express",[ot]:"{Region}"}]},[te]:{}},[v]:j},{[k]:dr,[j]:{[J]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:{[Gt]:"S3Express",[st]:[{[Ze]:!0,[Le]:"sigv4-s3express",[Xe]:"s3express",[ot]:"{Region}"}]},[te]:{}},[v]:j},{[k]:hr,[j]:{[J]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ee]:{[Gt]:"S3Express",[st]:[{[Ze]:!0,[Le]:"sigv4-s3express",[Xe]:"s3express",[ot]:"{Region}"}]},[te]:{}},[v]:j}],eu=[Ee,0,7,!0],tu=[{[P]:Re,[B]:[Ee,7,15,!0],[ye]:"s3expressAvailabilityZoneId"},{[P]:Re,[B]:[Ee,15,17,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[P]:_e,[B]:[{[ae]:"s3expressAvailabilityZoneDelim"},"--"]}],nu=[{[P]:Re,[B]:[Ee,7,16,!0],[ye]:"s3expressAvailabilityZoneId"},{[P]:Re,[B]:[Ee,16,18,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[P]:_e,[B]:[{[ae]:"s3expressAvailabilityZoneDelim"},"--"]}],ru=[{[P]:Re,[B]:[Ee,7,20,!0],[ye]:"s3expressAvailabilityZoneId"},{[P]:Re,[B]:[Ee,20,22,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[P]:_e,[B]:[{[ae]:"s3expressAvailabilityZoneDelim"},"--"]}],su=[{[P]:Re,[B]:[Ee,7,21,!0],[ye]:"s3expressAvailabilityZoneId"},{[P]:Re,[B]:[Ee,21,23,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[P]:_e,[B]:[{[ae]:"s3expressAvailabilityZoneDelim"},"--"]}],iu=[{[P]:Re,[B]:[Ee,7,27,!0],[ye]:"s3expressAvailabilityZoneId"},{[P]:Re,[B]:[Ee,27,29,!0],[ye]:"s3expressAvailabilityZoneDelim"},{[P]:_e,[B]:[{[ae]:"s3expressAvailabilityZoneDelim"},"--"]}],Hb=[ur],ou=[{[P]:Cn,[B]:[{[ae]:Zi},!1]}],au=[{[P]:_e,[B]:[{[ae]:jd},"beta"]}],Wb=["*"],cu=[{[P]:Cn,[B]:[{[ae]:"Region"},!1]}],Qt=[{[P]:_e,[B]:[{[ae]:"Region"},"us-east-1"]}],mi=[{[P]:_e,[B]:[th,Zd]}],uu=[{[P]:Fe,[B]:[bt,"resourceId[1]"],[ye]:jo},{[P]:jt,[B]:[{[P]:_e,[B]:[Ho,us]}]}],Kb=[bt,"resourceId[1]"],lu=[Te],gi=[{[P]:jt,[B]:[{[P]:_e,[B]:[{[P]:Fe,[B]:[bt,"region"]},us]}]}],du=[{[P]:jt,[B]:[{[P]:At,[B]:[{[P]:Fe,[B]:[bt,"resourceId[2]"]}]}]}],qb=[bt,"resourceId[2]"],yi=[{[P]:os,[B]:[{[P]:Fe,[B]:[bt,"region"]}],[ye]:"bucketPartition"}],hu=[{[P]:_e,[B]:[nh,{[P]:Fe,[B]:[{[ae]:"partitionResult"},Le]}]}],bi=[{[P]:Cn,[B]:[{[P]:Fe,[B]:[bt,"region"]},!0]}],wi=[{[P]:Cn,[B]:[rh,!1]}],fu=[{[P]:Cn,[B]:[Ho,!1]}],jr=[Be],pu=[{[P]:Cn,[B]:[{[ae]:"Region"},!0]}],Gb={parameters:{Bucket:_n,Region:_n,UseFIPS:kn,UseDualStack:kn,Endpoint:_n,ForcePathStyle:kn,Accelerate:kn,UseGlobalEndpoint:kn,UseObjectLambdaEndpoint:nr,Key:_n,Prefix:_n,CopySource:_n,DisableAccessPoints:nr,DisableMultiRegionAccessPoints:kn,UseArnRegion:nr,UseS3ExpressControlEndpoint:nr,DisableS3ExpressSessionAuth:nr},[z]:[{[k]:[{[P]:At,[B]:hi}],[z]:[{[k]:[Pt,Be],error:"Accelerate cannot be used with FIPS",[v]:re},{[k]:[Te,je],error:"Cannot set dual-stack in combination with a custom endpoint.",[v]:re},{[k]:[je,Be],error:"A custom endpoint cannot be combined with FIPS",[v]:re},{[k]:[je,Pt],error:"A custom endpoint cannot be combined with S3 Accelerate",[v]:re},{[k]:[Be,Yd,mc],error:"Partition does not support FIPS",[v]:re},{[k]:[ur,{[P]:Re,[B]:[Ee,0,Lb,zt],[ye]:ic},{[P]:_e,[B]:[{[ae]:ic},"--x-s3"]}],[z]:[gc,yc,{[k]:[wc,xc],[z]:[{[k]:Tt,[z]:[{[k]:[Jd,ge],[z]:[{[k]:pi,endpoint:{[J]:"https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:Et,[te]:fe},[v]:j},{[k]:lr,endpoint:{[J]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:Et,[te]:fe},[v]:j},{[k]:dr,endpoint:{[J]:"https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:Et,[te]:fe},[v]:j},{[k]:hr,endpoint:{[J]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:Et,[te]:fe},[v]:j}],[v]:$}],[v]:$}],[v]:$},{[k]:Gc,[z]:[{[k]:Tt,[z]:[{[k]:qc,[z]:[{[k]:Zc,[z]:$t,[v]:$},{[k]:Xc,[z]:$t,[v]:$},{[k]:Yc,[z]:$t,[v]:$},{[k]:Qc,[z]:$t,[v]:$},{[k]:Jc,[z]:$t,[v]:$},zr],[v]:$},{[k]:Zc,[z]:Vt,[v]:$},{[k]:Xc,[z]:Vt,[v]:$},{[k]:Yc,[z]:Vt,[v]:$},{[k]:Qc,[z]:Vt,[v]:$},{[k]:Jc,[z]:Vt,[v]:$},zr],[v]:$}],[v]:$},bc],[v]:$},{[k]:[ur,{[P]:Re,[B]:eu,[ye]:oc},{[P]:_e,[B]:[{[ae]:oc},"--xa-s3"]}],[z]:[gc,yc,{[k]:Gc,[z]:[{[k]:Tt,[z]:[{[k]:qc,[z]:[{[k]:tu,[z]:$t,[v]:$},{[k]:nu,[z]:$t,[v]:$},{[k]:ru,[z]:$t,[v]:$},{[k]:su,[z]:$t,[v]:$},{[k]:iu,[z]:$t,[v]:$},zr],[v]:$},{[k]:tu,[z]:Vt,[v]:$},{[k]:nu,[z]:Vt,[v]:$},{[k]:ru,[z]:Vt,[v]:$},{[k]:su,[z]:Vt,[v]:$},{[k]:iu,[z]:Vt,[v]:$},zr],[v]:$}],[v]:$},bc],[v]:$},{[k]:[Sc,wc,xc],[z]:[{[k]:Tt,[z]:[{[k]:Tn,endpoint:{[J]:Gr,[ee]:Et,[te]:fe},[v]:j},{[k]:pi,endpoint:{[J]:"https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:Et,[te]:fe},[v]:j},{[k]:lr,endpoint:{[J]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[ee]:Et,[te]:fe},[v]:j},{[k]:dr,endpoint:{[J]:"https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:Et,[te]:fe},[v]:j},{[k]:hr,endpoint:{[J]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[ee]:Et,[te]:fe},[v]:j}],[v]:$}],[v]:$},{[k]:[ur,{[P]:Re,[B]:[Ee,49,50,zt],[ye]:Vd},{[P]:Re,[B]:[Ee,8,12,zt],[ye]:jd},{[P]:Re,[B]:eu,[ye]:ac},{[P]:Re,[B]:[Ee,32,49,zt],[ye]:Zi},{[P]:os,[B]:hi,[ye]:"regionPartition"},{[P]:_e,[B]:[{[ae]:ac},"--op-s3"]}],[z]:[{[k]:ou,[z]:[{[k]:[{[P]:_e,[B]:[vc,"e"]}],[z]:[{[k]:au,[z]:[Ec,{[k]:Tn,endpoint:{[J]:"https://{Bucket}.ec2.{url#authority}",[ee]:$r,[te]:fe},[v]:j}],[v]:$},{endpoint:{[J]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ee]:$r,[te]:fe},[v]:j}],[v]:$},{[k]:[{[P]:_e,[B]:[vc,"o"]}],[z]:[{[k]:au,[z]:[Ec,{[k]:Tn,endpoint:{[J]:"https://{Bucket}.op-{outpostId}.{url#authority}",[ee]:$r,[te]:fe},[v]:j}],[v]:$},{endpoint:{[J]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ee]:$r,[te]:fe},[v]:j}],[v]:$},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[v]:re}],[v]:$},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[v]:re}],[v]:$},{[k]:Hb,[z]:[{[k]:[je,{[P]:jt,[B]:[{[P]:At,[B]:[{[P]:zo,[B]:$b}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[v]:re},{[k]:[Js,eh],[z]:[{[k]:Tt,[z]:[{[k]:cu,[z]:[{[k]:[Pt,mc],error:"S3 Accelerate cannot be used in this region",[v]:re},{[k]:[Te,Be,Ke,ge,Je],endpoint:{[J]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ee]:tt,[te]:fe},[v]:j},{[k]:[Te,Be,Ke,ge,ve,nt],[z]:[{endpoint:Ac,[v]:j}],[v]:$},{[k]:[Te,Be,Ke,ge,ve,rt],endpoint:Ac,[v]:j},{[k]:[Se,Be,Ke,ge,Je],endpoint:{[J]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ee]:tt,[te]:fe},[v]:j},{[k]:[Se,Be,Ke,ge,ve,nt],[z]:[{endpoint:Cc,[v]:j}],[v]:$},{[k]:[Se,Be,Ke,ge,ve,rt],endpoint:Cc,[v]:j},{[k]:[Te,we,Pt,ge,Je],endpoint:{[J]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ee]:tt,[te]:fe},[v]:j},{[k]:[Te,we,Pt,ge,ve,nt],[z]:[{endpoint:_c,[v]:j}],[v]:$},{[k]:[Te,we,Pt,ge,ve,rt],endpoint:_c,[v]:j},{[k]:[Te,we,Ke,ge,Je],endpoint:{[J]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ee]:tt,[te]:fe},[v]:j},{[k]:[Te,we,Ke,ge,ve,nt],[z]:[{endpoint:kc,[v]:j}],[v]:$},{[k]:[Te,we,Ke,ge,ve,rt],endpoint:kc,[v]:j},{[k]:[Se,we,Ke,je,pt,Qs,Je],endpoint:{[J]:Hd,[ee]:tt,[te]:fe},[v]:j},{[k]:[Se,we,Ke,je,pt,ei,Je],endpoint:{[J]:cs,[ee]:tt,[te]:fe},[v]:j},{[k]:[Se,we,Ke,je,pt,Qs,ve,nt],[z]:[{[k]:Qt,endpoint:ti,[v]:j},{endpoint:ti,[v]:j}],[v]:$},{[k]:[Se,we,Ke,je,pt,ei,ve,nt],[z]:[{[k]:Qt,endpoint:Xi,[v]:j},Tc],[v]:$},{[k]:[Se,we,Ke,je,pt,Qs,ve,rt],endpoint:ti,[v]:j},{[k]:[Se,we,Ke,je,pt,ei,ve,rt],endpoint:Xi,[v]:j},{[k]:[Se,we,Pt,ge,Je],endpoint:{[J]:Wd,[ee]:tt,[te]:fe},[v]:j},{[k]:[Se,we,Pt,ge,ve,nt],[z]:[{[k]:Qt,endpoint:ni,[v]:j},{endpoint:ni,[v]:j}],[v]:$},{[k]:[Se,we,Pt,ge,ve,rt],endpoint:ni,[v]:j},{[k]:[Se,we,Ke,ge,Je],endpoint:{[J]:cc,[ee]:tt,[te]:fe},[v]:j},{[k]:[Se,we,Ke,ge,ve,nt],[z]:[{[k]:Qt,endpoint:{[J]:cc,[ee]:Ye,[te]:fe},[v]:j},{endpoint:Rc,[v]:j}],[v]:$},{[k]:[Se,we,Ke,ge,ve,rt],endpoint:Rc,[v]:j}],[v]:$},Vr],[v]:$}],[v]:$},{[k]:[je,pt,{[P]:_e,[B]:[{[P]:Fe,[B]:[Qd,"scheme"]},"http"]},{[P]:as,[B]:[Ee,zt]},Js,we,Se,Ke],[z]:[{[k]:Tt,[z]:[{[k]:cu,[z]:[Tc],[v]:$},Vr],[v]:$}],[v]:$},{[k]:[Js,{[P]:Kd,[B]:Vb,[ye]:qd}],[z]:[{[k]:[{[P]:Fe,[B]:[bt,"resourceId[0]"],[ye]:Gd},{[P]:jt,[B]:[{[P]:_e,[B]:[th,us]}]}],[z]:[{[k]:[{[P]:_e,[B]:[ri,Vo]}],[z]:[{[k]:mi,[z]:[{[k]:uu,[z]:[Dc,Pc,{[k]:gi,[z]:[Bc,{[k]:du,[z]:[si,{[k]:yi,[z]:[{[k]:Tt,[z]:[{[k]:hu,[z]:[{[k]:bi,[z]:[{[k]:[{[P]:_e,[B]:[rh,us]}],error:"Invalid ARN: Missing account id",[v]:re},{[k]:wi,[z]:[{[k]:fu,[z]:[{[k]:Tn,endpoint:{[J]:uc,[ee]:ii,[te]:fe},[v]:j},{[k]:jr,endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:ii,[te]:fe},[v]:j},{endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:ii,[te]:fe},[v]:j}],[v]:$},Ic],[v]:$},oi],[v]:$},ai],[v]:$},ci],[v]:$}],[v]:$}],[v]:$},Mc],[v]:$},{error:"Invalid ARN: bucket ARN is missing a region",[v]:re}],[v]:$},Oc],[v]:$},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[v]:re}],[v]:$},{[k]:mi,[z]:[{[k]:uu,[z]:[{[k]:gi,[z]:[{[k]:mi,[z]:[{[k]:gi,[z]:[Bc,{[k]:du,[z]:[si,{[k]:yi,[z]:[{[k]:Tt,[z]:[{[k]:[{[P]:_e,[B]:[nh,"{partitionResult#name}"]}],[z]:[{[k]:bi,[z]:[{[k]:[{[P]:_e,[B]:[ri,Hn]}],[z]:[{[k]:wi,[z]:[{[k]:fu,[z]:[{[k]:fi,error:"Access Points do not support S3 Accelerate",[v]:re},{[k]:pi,endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:rr,[te]:fe},[v]:j},{[k]:lr,endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:rr,[te]:fe},[v]:j},{[k]:dr,endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:rr,[te]:fe},[v]:j},{[k]:[we,Se,je,pt],endpoint:{[J]:uc,[ee]:rr,[te]:fe},[v]:j},{[k]:hr,endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:rr,[te]:fe},[v]:j}],[v]:$},Ic],[v]:$},oi],[v]:$},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[v]:re}],[v]:$},ai],[v]:$},ci],[v]:$}],[v]:$}],[v]:$},Mc],[v]:$}],[v]:$}],[v]:$},{[k]:[{[P]:Cn,[B]:[Ho,zt]}],[z]:[{[k]:lu,error:"S3 MRAP does not support dual-stack",[v]:re},{[k]:jr,error:"S3 MRAP does not support FIPS",[v]:re},{[k]:fi,error:"S3 MRAP does not support S3 Accelerate",[v]:re},{[k]:[{[P]:We,[B]:[{[ae]:"DisableMultiRegionAccessPoints"},zt]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[v]:re},{[k]:[{[P]:os,[B]:hi,[ye]:lc}],[z]:[{[k]:[{[P]:_e,[B]:[{[P]:Fe,[B]:[{[ae]:lc},Le]},{[P]:Fe,[B]:[bt,"partition"]}]}],[z]:[{endpoint:{[J]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[ee]:{[st]:[{[Ze]:zt,name:$o,[Xe]:Hn,[Uo]:Wb}]},[te]:fe},[v]:j}],[v]:$},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[v]:re}],[v]:$}],[v]:$},{error:"Invalid Access Point Name",[v]:re}],[v]:$},Oc],[v]:$},{[k]:[{[P]:_e,[B]:[ri,vr]}],[z]:[{[k]:lu,error:"S3 Outposts does not support Dual-stack",[v]:re},{[k]:jr,error:"S3 Outposts does not support FIPS",[v]:re},{[k]:fi,error:"S3 Outposts does not support S3 Accelerate",[v]:re},{[k]:[{[P]:At,[B]:[{[P]:Fe,[B]:[bt,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[v]:re},{[k]:[{[P]:Fe,[B]:Kb,[ye]:Zi}],[z]:[{[k]:ou,[z]:[si,{[k]:yi,[z]:[{[k]:Tt,[z]:[{[k]:hu,[z]:[{[k]:bi,[z]:[{[k]:wi,[z]:[{[k]:[{[P]:Fe,[B]:qb,[ye]:dc}],[z]:[{[k]:[{[P]:Fe,[B]:[bt,"resourceId[3]"],[ye]:jo}],[z]:[{[k]:[{[P]:_e,[B]:[{[ae]:dc},Zd]}],[z]:[{[k]:Tn,endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[ee]:Fc,[te]:fe},[v]:j},{endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:Fc,[te]:fe},[v]:j}],[v]:$},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[v]:re}],[v]:$},{error:"Invalid ARN: expected an access point name",[v]:re}],[v]:$},{error:"Invalid ARN: Expected a 4-component resource",[v]:re}],[v]:$},oi],[v]:$},ai],[v]:$},ci],[v]:$}],[v]:$}],[v]:$},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[v]:re}],[v]:$},{error:"Invalid ARN: The Outpost Id was not set",[v]:re}],[v]:$},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[v]:re}],[v]:$},{error:"Invalid ARN: No ARN type specified",[v]:re}],[v]:$},{[k]:[{[P]:Re,[B]:[Ee,0,4,Ub],[ye]:hc},{[P]:_e,[B]:[{[ae]:hc},"arn:"]},{[P]:jt,[B]:[{[P]:At,[B]:[Nc]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[v]:re},{[k]:[{[P]:We,[B]:[zb,zt]},Nc],error:"Path-style addressing cannot be used with ARN buckets",[v]:re},{[k]:jb,[z]:[{[k]:Tt,[z]:[{[k]:[Ke],[z]:[{[k]:[Te,ge,Be,Je],endpoint:{[J]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:tt,[te]:fe},[v]:j},{[k]:[Te,ge,Be,ve,nt],[z]:[{endpoint:Lc,[v]:j}],[v]:$},{[k]:[Te,ge,Be,ve,rt],endpoint:Lc,[v]:j},{[k]:[Se,ge,Be,Je],endpoint:{[J]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:tt,[te]:fe},[v]:j},{[k]:[Se,ge,Be,ve,nt],[z]:[{endpoint:Uc,[v]:j}],[v]:$},{[k]:[Se,ge,Be,ve,rt],endpoint:Uc,[v]:j},{[k]:[Te,ge,we,Je],endpoint:{[J]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:tt,[te]:fe},[v]:j},{[k]:[Te,ge,we,ve,nt],[z]:[{endpoint:zc,[v]:j}],[v]:$},{[k]:[Te,ge,we,ve,rt],endpoint:zc,[v]:j},{[k]:[Se,je,pt,we,Je],endpoint:{[J]:Xd,[ee]:tt,[te]:fe},[v]:j},{[k]:[Se,je,pt,we,ve,nt],[z]:[{[k]:Qt,endpoint:ui,[v]:j},{endpoint:ui,[v]:j}],[v]:$},{[k]:[Se,je,pt,we,ve,rt],endpoint:ui,[v]:j},{[k]:[Se,ge,we,Je],endpoint:{[J]:fc,[ee]:tt,[te]:fe},[v]:j},{[k]:[Se,ge,we,ve,nt],[z]:[{[k]:Qt,endpoint:{[J]:fc,[ee]:Ye,[te]:fe},[v]:j},{endpoint:$c,[v]:j}],[v]:$},{[k]:[Se,ge,we,ve,rt],endpoint:$c,[v]:j}],[v]:$},{error:"Path-style addressing cannot be used with S3 Accelerate",[v]:re}],[v]:$}],[v]:$}],[v]:$},{[k]:[{[P]:At,[B]:[Vc]},{[P]:We,[B]:[Vc,zt]}],[z]:[{[k]:Tt,[z]:[{[k]:pu,[z]:[Dc,Pc,{[k]:Tn,endpoint:{[J]:Gr,[ee]:li,[te]:fe},[v]:j},{[k]:jr,endpoint:{[J]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[ee]:li,[te]:fe},[v]:j},{endpoint:{[J]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[ee]:li,[te]:fe},[v]:j}],[v]:$},Vr],[v]:$}],[v]:$},{[k]:[Sc],[z]:[{[k]:Tt,[z]:[{[k]:pu,[z]:[{[k]:[Be,Te,ge,Je],endpoint:{[J]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ee]:tt,[te]:fe},[v]:j},{[k]:[Be,Te,ge,ve,nt],[z]:[{endpoint:jc,[v]:j}],[v]:$},{[k]:[Be,Te,ge,ve,rt],endpoint:jc,[v]:j},{[k]:[Be,Se,ge,Je],endpoint:{[J]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ee]:tt,[te]:fe},[v]:j},{[k]:[Be,Se,ge,ve,nt],[z]:[{endpoint:Hc,[v]:j}],[v]:$},{[k]:[Be,Se,ge,ve,rt],endpoint:Hc,[v]:j},{[k]:[we,Te,ge,Je],endpoint:{[J]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ee]:tt,[te]:fe},[v]:j},{[k]:[we,Te,ge,ve,nt],[z]:[{endpoint:Wc,[v]:j}],[v]:$},{[k]:[we,Te,ge,ve,rt],endpoint:Wc,[v]:j},{[k]:[we,Se,je,pt,Je],endpoint:{[J]:Gr,[ee]:tt,[te]:fe},[v]:j},{[k]:[we,Se,je,pt,ve,nt],[z]:[{[k]:Qt,endpoint:di,[v]:j},{endpoint:di,[v]:j}],[v]:$},{[k]:[we,Se,je,pt,ve,rt],endpoint:di,[v]:j},{[k]:[we,Se,ge,Je],endpoint:{[J]:pc,[ee]:tt,[te]:fe},[v]:j},{[k]:[we,Se,ge,ve,nt],[z]:[{[k]:Qt,endpoint:{[J]:pc,[ee]:Ye,[te]:fe},[v]:j},{endpoint:Kc,[v]:j}],[v]:$},{[k]:[we,Se,ge,ve,rt],endpoint:Kc,[v]:j}],[v]:$},Vr],[v]:$}],[v]:$}],[v]:$},{error:"A region must be set when sending requests to S3.",[v]:re}]},Zb=Gb,Xb=new c0({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),sh=(t,e={})=>Xb.get(t,()=>k0(Zb,{endpointParams:t,logger:e.logger}));rs.aws=Bd;const Yb=t=>async(e,n,r)=>{if(!r)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const s=await t(e,n,r),i=dn(n)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!i)throw new Error(`getEndpointParameterInstructions() is not defined on \`${n.commandName}\``);const o=await Fd(r,{getEndpointParameterInstructions:i},e);return Object.assign(s,o)},Qb=async(t,e,n)=>({operation:dn(e).operation,region:await Nt(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),Jb=Yb(Qb);function ih(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}function oh(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,n)=>({signingProperties:{config:e,context:n}})}}const ew=(t,e,n)=>s=>{const o=t(s).properties?.authSchemes;if(!o)return e(s);const a=[];for(const c of o){const{name:u,properties:l={},...d}=c,f=u.toLowerCase();u!==f&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${u}\` to \`${f}\``);let h;if(f==="sigv4a"){h="aws.auth#sigv4a";const b=o.find(y=>{const x=y.name.toLowerCase();return x!=="sigv4a"&&x.startsWith("sigv4")});if($d.sigv4aDependency()==="none"&&b)continue}else if(f.startsWith("sigv4"))h="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${f}\``);const g=n[h];if(!g)throw new Error(`Could not find HttpAuthOption create function for \`${h}\``);const p=g(s);p.schemeId=h,p.signingProperties={...p.signingProperties||{},...d,...l},a.push(p)}return a},tw=t=>{const e=[];switch(t.operation){default:e.push(ih(t)),e.push(oh(t))}return e},nw=ew(sh,tw,{"aws.auth#sigv4":ih,"aws.auth#sigv4a":oh}),rw=t=>{const e=Ag(t),n=Qm(e);return Object.assign(n,{authSchemePreference:Nt(t.authSchemePreference??[])})},sw=t=>Object.assign(t,{useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),ah={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};let gt=class ch extends Dn{constructor(e){super(e),Object.setPrototypeOf(this,ch.prototype)}},iw=class uh extends gt{name="NoSuchUpload";$fault="client";constructor(e){super({name:"NoSuchUpload",$fault:"client",...e}),Object.setPrototypeOf(this,uh.prototype)}},ow=class lh extends gt{name="ObjectNotInActiveTierError";$fault="client";constructor(e){super({name:"ObjectNotInActiveTierError",$fault:"client",...e}),Object.setPrototypeOf(this,lh.prototype)}},aw=class dh extends gt{name="BucketAlreadyExists";$fault="client";constructor(e){super({name:"BucketAlreadyExists",$fault:"client",...e}),Object.setPrototypeOf(this,dh.prototype)}},cw=class hh extends gt{name="BucketAlreadyOwnedByYou";$fault="client";constructor(e){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...e}),Object.setPrototypeOf(this,hh.prototype)}},uw=class fh extends gt{name="NoSuchBucket";$fault="client";constructor(e){super({name:"NoSuchBucket",$fault:"client",...e}),Object.setPrototypeOf(this,fh.prototype)}},lw=class ph extends gt{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(e){super({name:"InvalidObjectState",$fault:"client",...e}),Object.setPrototypeOf(this,ph.prototype),this.StorageClass=e.StorageClass,this.AccessTier=e.AccessTier}},dw=class mh extends gt{name="NoSuchKey";$fault="client";constructor(e){super({name:"NoSuchKey",$fault:"client",...e}),Object.setPrototypeOf(this,mh.prototype)}},hw=class gh extends gt{name="NotFound";$fault="client";constructor(e){super({name:"NotFound",$fault:"client",...e}),Object.setPrototypeOf(this,gh.prototype)}},fw=class yh extends gt{name="EncryptionTypeMismatch";$fault="client";constructor(e){super({name:"EncryptionTypeMismatch",$fault:"client",...e}),Object.setPrototypeOf(this,yh.prototype)}},pw=class bh extends gt{name="InvalidRequest";$fault="client";constructor(e){super({name:"InvalidRequest",$fault:"client",...e}),Object.setPrototypeOf(this,bh.prototype)}},mw=class wh extends gt{name="InvalidWriteOffset";$fault="client";constructor(e){super({name:"InvalidWriteOffset",$fault:"client",...e}),Object.setPrototypeOf(this,wh.prototype)}},gw=class xh extends gt{name="TooManyParts";$fault="client";constructor(e){super({name:"TooManyParts",$fault:"client",...e}),Object.setPrototypeOf(this,xh.prototype)}},yw=class Sh extends gt{name="IdempotencyParameterMismatch";$fault="client";constructor(e){super({name:"IdempotencyParameterMismatch",$fault:"client",...e}),Object.setPrototypeOf(this,Sh.prototype)}},bw=class vh extends gt{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(e){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...e}),Object.setPrototypeOf(this,vh.prototype)}};const ww="ACL",mu="AccessKeyId",xw="AccessTier",Eh="Bucket",Sw="BucketAlreadyExists",vw="BucketAlreadyOwnedByYou",Ss="BucketKeyEnabled",Ew="Body",Aw="ChecksumAlgorithm",Cw="CacheControl",Ah="ChecksumCRC32",Ch="ChecksumCRC32C",_h="ChecksumCRC64NVME",_w="Cache-Control",kw="Content-Disposition",Tw="ContentDisposition",Rw="Content-Encoding",Dw="ContentEncoding",Pw="ContentLanguage",Bw="Content-Language",Iw="Content-Length",Mw="ContentLength",Ow="Content-MD5",Fw="ContentMD5",kh="ChecksumSHA1",Th="ChecksumSHA256",Nw="CreateSessionOutput",Lw="CreateSessionResult",Uw="CreateSessionRequest",zw="CreateSession",$w="ChecksumType",Vw="Content-Type",jw="ContentType",gu="Credentials",Yi="Expiration",Hw="ExpectedBucketOwner",yu="ETag",Ww="EncryptionTypeMismatch",bu="Expires",Kw="GrantFullControl",qw="GrantRead",Gw="GrantReadACP",Zw="GrantWriteACP",Xw="IfMatch",Yw="If-Match",Qw="IfNoneMatch",Jw="If-None-Match",ex="InvalidObjectState",tx="IdempotencyParameterMismatch",nx="InvalidRequest",rx="InvalidWriteOffset",sx="Key",ix="Metadata",ox="NotFound",ax="NoSuchBucket",cx="NoSuchKey",ux="NoSuchUpload",lx="ObjectAlreadyInActiveTierError",dx="ObjectLockLegalHoldStatus",hx="ObjectLockMode",fx="ObjectLockRetainUntilDate",px="ObjectNotInActiveTierError",mx="PutObject",gx="PutObjectOutput",yx="PutObjectRequest",bx="RequestCharged",wx="RequestPayer",wu="SecretAccessKey",xx="StreamingBlob",Rh="StorageClass",Sx="SessionCredentialValue",vx="SessionCredentials",Ex="SessionMode",vs="ServerSideEncryption",Dh="SSECustomerAlgorithm",Ph="SSECustomerKey",Bh="SSECustomerKeyMD5",Rr="SSEKMSEncryptionContext",Dr="SSEKMSKeyId",xu="SessionToken",Ax="Size",Cx="TooManyParts",_x="Tagging",kx="VersionId",Tx="WriteOffsetBytes",Rx="WebsiteRedirectLocation",xt="client",St="error",Ih="http",_t="httpError",oe="httpHeader",Dx="httpPrefixHeaders",Px="streaming",Mh="smithy.ts.sdk.synthetic.com.amazonaws.s3",Pn="xmlName",Bx="x-amz-acl",Oh="x-amz-checksum-crc32",Fh="x-amz-checksum-crc32c",Nh="x-amz-checksum-crc64nvme",Lh="x-amz-checksum-sha1",Uh="x-amz-checksum-sha256",Ix="x-amz-create-session-mode",Mx="x-amz-checksum-type",Ox="x-amz-expiration",Fx="x-amz-expected-bucket-owner",Nx="x-amz-grant-full-control",Lx="x-amz-grant-read",Ux="x-amz-grant-read-acp",zx="x-amz-grant-write-acp",$x="x-amz-meta-",Vx="x-amz-object-lock-legal-hold",jx="x-amz-object-lock-mode",Hx="x-amz-object-lock-retain-until-date",Wx="x-amz-object-size",Kx="x-amz-request-charged",qx="x-amz-request-payer",Gx="x-amz-storage-class",Zx="x-amz-sdk-checksum-algorithm",Es="x-amz-server-side-encryption",As="x-amz-server-side-encryption-aws-kms-key-id",Cs="x-amz-server-side-encryption-bucket-key-enabled",_s="x-amz-server-side-encryption-context",zh="x-amz-server-side-encryption-customer-algorithm",Xx="x-amz-server-side-encryption-customer-key",$h="x-amz-server-side-encryption-customer-key-MD5",Yx="x-amz-tagging",Qx="x-amz-version-id",Jx="x-amz-write-offset-bytes",eS="x-amz-website-redirect-location",xe="com.amazonaws.s3";var Su=[0,xe,Sx,8,0],tS=[0,xe,Ph,8,0],ks=[0,xe,Rr,8,0],Ts=[0,xe,Dr,8,0],nS=[0,xe,xx,{[Px]:1},42],rS=[-3,xe,Sw,{[St]:xt,[_t]:409},[],[]];Ie.for(xe).registerError(rS,aw);var sS=[-3,xe,vw,{[St]:xt,[_t]:409},[],[]];Ie.for(xe).registerError(sS,cw);var iS=[3,xe,Nw,{[Pn]:Lw},[vs,Dr,Rr,Ss,gu],[[0,{[oe]:Es}],[()=>Ts,{[oe]:As}],[()=>ks,{[oe]:_s}],[2,{[oe]:Cs}],[()=>xS,{[Pn]:gu}]]],oS=[3,xe,Uw,0,[Ex,Eh,vs,Dr,Rr,Ss],[[0,{[oe]:Ix}],[0,1],[0,{[oe]:Es}],[()=>Ts,{[oe]:As}],[()=>ks,{[oe]:_s}],[2,{[oe]:Cs}]]],aS=[-3,xe,Ww,{[St]:xt,[_t]:400},[],[]];Ie.for(xe).registerError(aS,fw);var cS=[-3,xe,tx,{[St]:xt,[_t]:400},[],[]];Ie.for(xe).registerError(cS,yw);var uS=[-3,xe,ex,{[St]:xt,[_t]:403},[Rh,xw],[0,0]];Ie.for(xe).registerError(uS,lw);var lS=[-3,xe,nx,{[St]:xt,[_t]:400},[],[]];Ie.for(xe).registerError(lS,pw);var dS=[-3,xe,rx,{[St]:xt,[_t]:400},[],[]];Ie.for(xe).registerError(dS,mw);var hS=[-3,xe,ax,{[St]:xt,[_t]:404},[],[]];Ie.for(xe).registerError(hS,uw);var fS=[-3,xe,cx,{[St]:xt,[_t]:404},[],[]];Ie.for(xe).registerError(fS,dw);var pS=[-3,xe,ux,{[St]:xt,[_t]:404},[],[]];Ie.for(xe).registerError(pS,iw);var mS=[-3,xe,ox,{[St]:xt},[],[]];Ie.for(xe).registerError(mS,hw);var gS=[-3,xe,lx,{[St]:xt,[_t]:403},[],[]];Ie.for(xe).registerError(gS,bw);var yS=[-3,xe,px,{[St]:xt,[_t]:403},[],[]];Ie.for(xe).registerError(yS,ow);var bS=[3,xe,gx,0,[Yi,yu,Ah,Ch,_h,kh,Th,$w,vs,kx,Dh,Bh,Dr,Rr,Ss,Ax,bx],[[0,{[oe]:Ox}],[0,{[oe]:yu}],[0,{[oe]:Oh}],[0,{[oe]:Fh}],[0,{[oe]:Nh}],[0,{[oe]:Lh}],[0,{[oe]:Uh}],[0,{[oe]:Mx}],[0,{[oe]:Es}],[0,{[oe]:Qx}],[0,{[oe]:zh}],[0,{[oe]:$h}],[()=>Ts,{[oe]:As}],[()=>ks,{[oe]:_s}],[2,{[oe]:Cs}],[1,{[oe]:Wx}],[0,{[oe]:Kx}]]],wS=[3,xe,yx,0,[ww,Ew,Eh,Cw,Tw,Dw,Pw,Mw,Fw,jw,Aw,Ah,Ch,_h,kh,Th,bu,Xw,Qw,Kw,qw,Gw,Zw,sx,Tx,ix,vs,Rh,Rx,Dh,Ph,Bh,Dr,Rr,Ss,wx,_x,hx,fx,dx,Hw],[[0,{[oe]:Bx}],[()=>nS,16],[0,1],[0,{[oe]:_w}],[0,{[oe]:kw}],[0,{[oe]:Rw}],[0,{[oe]:Bw}],[1,{[oe]:Iw}],[0,{[oe]:Ow}],[0,{[oe]:Vw}],[0,{[oe]:Zx}],[0,{[oe]:Oh}],[0,{[oe]:Fh}],[0,{[oe]:Nh}],[0,{[oe]:Lh}],[0,{[oe]:Uh}],[4,{[oe]:bu}],[0,{[oe]:Yw}],[0,{[oe]:Jw}],[0,{[oe]:Nx}],[0,{[oe]:Lx}],[0,{[oe]:Ux}],[0,{[oe]:zx}],[0,1],[1,{[oe]:Jx}],[128,{[Dx]:$x}],[0,{[oe]:Es}],[0,{[oe]:Gx}],[0,{[oe]:eS}],[0,{[oe]:zh}],[()=>tS,{[oe]:Xx}],[0,{[oe]:$h}],[()=>Ts,{[oe]:As}],[()=>ks,{[oe]:_s}],[2,{[oe]:Cs}],[0,{[oe]:qx}],[0,{[oe]:Yx}],[0,{[oe]:jx}],[5,{[oe]:Hx}],[0,{[oe]:Vx}],[0,{[oe]:Fx}]]],xS=[3,xe,vx,0,[mu,wu,xu,Yi],[[0,{[Pn]:mu}],[()=>Su,{[Pn]:wu}],[()=>Su,{[Pn]:xu}],[4,{[Pn]:Yi}]]],SS=[-3,xe,Cx,{[St]:xt,[_t]:400},[],[]];Ie.for(xe).registerError(SS,gw);var vS=[-3,Mh,"S3ServiceException",0,[],[]];Ie.for(Mh).registerError(vS,gt);var ES=[9,xe,zw,{[Ih]:["GET","/?session",200]},()=>oS,()=>iS],AS=[9,xe,mx,{[Ih]:["PUT","/{Key+}?x-id=PutObject",200]},()=>wS,()=>bS];class CS extends ko.classBuilder().ep({...ah,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,n,r,s){return[Nd(r,e.getEndpointParameterInstructions()),xd(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").sc(ES).build(){}const _S="3.932.0",kS={version:_S},TS=t=>new TextEncoder().encode(t);function vu(t){return typeof t=="string"?t.length===0:t.byteLength===0}var Vh={name:"SHA-1"},Eu={name:"HMAC",hash:Vh},RS=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const DS={};function sn(){return typeof window<"u"?window:typeof self<"u"?self:DS}var PS=(function(){function t(e){this.toHash=new Uint8Array(0),e!==void 0&&(this.key=new Promise(function(n,r){sn().crypto.subtle.importKey("raw",Au(e),Eu,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))}return t.prototype.update=function(e){if(!vu(e)){var n=Au(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return sn().crypto.subtle.sign(Eu,n,e.toHash).then(function(r){return new Uint8Array(r)})}):vu(this.toHash)?Promise.resolve(RS):Promise.resolve().then(function(){return sn().crypto.subtle.digest(Vh,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){this.toHash=new Uint8Array(0)},t})();function Au(t){return typeof t=="string"?TS(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var BS=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function jh(t){if(IS(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return MS(e)}return!1}function IS(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function MS(t){return t&&BS.every(function(e){return typeof t[e]=="function"})}var OS=(function(){function t(e){if(jh(sn()))this.hash=new PS(e);else throw new Error("SHA1 not supported")}return t.prototype.update=function(e,n){this.hash.update(an(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t})(),Hh={name:"SHA-256"},Cu={name:"HMAC",hash:Hh},FS=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),NS=(function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!xr(e)){var n=an(e),r=new Uint8Array(this.toHash.byteLength+n.byteLength);r.set(this.toHash,0),r.set(n,this.toHash.byteLength),this.toHash=r}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(n){return sn().crypto.subtle.sign(Cu,n,e.toHash).then(function(r){return new Uint8Array(r)})}):xr(this.toHash)?Promise.resolve(FS):Promise.resolve().then(function(){return sn().crypto.subtle.digest(Hh,e.toHash)}).then(function(n){return Promise.resolve(new Uint8Array(n))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(n,r){sn().crypto.subtle.importKey("raw",an(e.secret),Cu,!1,["sign"]).then(n,r)}),this.key.catch(function(){}))},t})(),Bt=64,LS=32,US=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zS=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],$S=Math.pow(2,53)-1,Zr=(function(){function t(){this.state=Int32Array.from(zS),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=e.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>$S)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[n++],r--,this.bufferLength===Bt&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%Bt>=Bt-8){for(var s=this.bufferLength;s<Bt;s++)n.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<Bt-8;s++)n.setUint8(s,0);n.setUint32(Bt-8,Math.floor(e/4294967296),!0),n.setUint32(Bt-4,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(LS),s=0;s<8;s++)i[s*4]=this.state[s]>>>24&255,i[s*4+1]=this.state[s]>>>16&255,i[s*4+2]=this.state[s]>>>8&255,i[s*4+3]=this.state[s]>>>0&255;return i},t.prototype.hashBuffer=function(){for(var e=this,n=e.buffer,r=e.state,s=r[0],i=r[1],o=r[2],a=r[3],c=r[4],u=r[5],l=r[6],d=r[7],f=0;f<Bt;f++){if(f<16)this.temp[f]=(n[f*4]&255)<<24|(n[f*4+1]&255)<<16|(n[f*4+2]&255)<<8|n[f*4+3]&255;else{var h=this.temp[f-2],g=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10;h=this.temp[f-15];var p=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[f]=(g+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var b=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&l)|0)+(d+(US[f]+this.temp[f]|0)|0)|0,y=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&o^i&o)|0;d=l,l=u,u=c,c=a+b|0,a=o,o=i,i=s,s=b+y|0}r[0]+=s,r[1]+=i,r[2]+=o,r[3]+=a,r[4]+=c,r[5]+=u,r[6]+=l,r[7]+=d},t})(),VS=(function(){function t(e){this.secret=e,this.hash=new Zr,this.reset()}return t.prototype.update=function(e){if(!(xr(e)||this.error))try{this.hash.update(an(e))}catch(n){this.error=n}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return Po(this,void 0,void 0,function(){return Bo(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new Zr,this.secret){this.outer=new Zr;var e=jS(this.secret),n=new Uint8Array(Bt);n.set(e);for(var r=0;r<Bt;r++)e[r]^=54,n[r]^=92;this.hash.update(e),this.outer.update(n);for(var r=0;r<e.byteLength;r++)e[r]=0}},t})();function jS(t){var e=an(t);if(e.byteLength>Bt){var n=new Zr;n.update(e),e=n.digest()}var r=new Uint8Array(Bt);return r.set(e),r}var HS=(function(){function t(e){jh(sn())?this.hash=new NS(e):this.hash=new VS(e)}return t.prototype.update=function(e,n){this.hash.update(an(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t})();const WS=({serviceId:t,clientVersion:e})=>async n=>{const r=typeof window<"u"?window.navigator:void 0,s=r?.userAgent??"",i=r?.userAgentData?.platform??_u.os(s)??"other",o=void 0,a=r?.userAgentData?.brands??[],c=a[a.length-1],u=c?.brand??_u.browser(s)??"unknown",l=c?.version??"unknown",d=[["aws-sdk-js",e],["ua","2.1"],[`os/${i}`,o],["lang/js"],["md/browser",`${u}_${l}`]];t&&d.push([`api/${t}`,e]);const f=await n?.userAgentAppId?.();return f&&d.push([`app/${f}`]),d},_u={os(t){if(/iPhone|iPad|iPod/.test(t))return"iOS";if(/Macintosh|Mac OS X/.test(t))return"macOS";if(/Windows NT/.test(t))return"Windows";if(/Android/.test(t))return"Android";if(/Linux/.test(t))return"Linux"},browser(t){if(/EdgiOS|EdgA|Edg\//.test(t))return"Microsoft Edge";if(/Firefox\//.test(t))return"Firefox";if(/Chrome\//.test(t))return"Chrome";if(/Safari\//.test(t))return"Safari"}};class fr{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const n=new Uint8Array(8);for(let r=7,s=Math.abs(Math.round(e));r>-1&&s>0;r--,s/=256)n[r]=s;return e<0&&ku(n),new fr(n)}valueOf(){const e=this.bytes.slice(0),n=e[0]&128;return n&&ku(e),parseInt(yt(e),16)*(n?-1:1)}toString(){return String(this.valueOf())}}function ku(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}class KS{toUtf8;fromUtf8;constructor(e,n){this.toUtf8=e,this.fromUtf8=n}format(e){const n=[];for(const i of Object.keys(e)){const o=this.fromUtf8(i);n.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[i]))}const r=new Uint8Array(n.reduce((i,o)=>i+o.byteLength,0));let s=0;for(const i of n)r.set(i,s),s+=i.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const n=new DataView(new ArrayBuffer(3));return n.setUint8(0,3),n.setInt16(1,e.value,!1),new Uint8Array(n.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":const a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);const u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(fr.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!tv.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const d=new Uint8Array(17);return d[0]=9,d.set(Zl(e.value.replace(/\-/g,"")),1),d}}parse(e){const n={};let r=0;for(;r<e.byteLength;){const s=e.getUint8(r++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,s));switch(r+=s,e.getUint8(r++)){case 0:n[i]={type:Ru,value:!0};break;case 1:n[i]={type:Ru,value:!1};break;case 2:n[i]={type:qS,value:e.getInt8(r++)};break;case 3:n[i]={type:GS,value:e.getInt16(r,!1)},r+=2;break;case 4:n[i]={type:ZS,value:e.getInt32(r,!1)},r+=4;break;case 5:n[i]={type:XS,value:new fr(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:const o=e.getUint16(r,!1);r+=2,n[i]={type:YS,value:new Uint8Array(e.buffer,e.byteOffset+r,o)},r+=o;break;case 7:const a=e.getUint16(r,!1);r+=2,n[i]={type:QS,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,a))},r+=a;break;case 8:n[i]={type:JS,value:new Date(new fr(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:const c=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,n[i]={type:ev,value:`${yt(c.subarray(0,4))}-${yt(c.subarray(4,6))}-${yt(c.subarray(6,8))}-${yt(c.subarray(8,10))}-${yt(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return n}}var Tu;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(Tu||(Tu={}));const Ru="boolean",qS="byte",GS="short",ZS="integer",XS="long",YS="binary",QS="string",JS="timestamp",ev="uuid",tv=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Wh=4,en=Wh*2,mn=4,nv=en+mn*2;function rv({byteLength:t,byteOffset:e,buffer:n}){if(t<nv)throw new Error("Provided message too short to accommodate event stream message overhead");const r=new DataView(n,e,t),s=r.getUint32(0,!1);if(t!==s)throw new Error("Reported message length does not match received message length");const i=r.getUint32(Wh,!1),o=r.getUint32(en,!1),a=r.getUint32(t-mn,!1),c=new ns().update(new Uint8Array(n,e,en));if(o!==c.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(n,e+en,t-(en+mn))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(n,e+en+mn,i),body:new Uint8Array(n,e+en+mn+i,s-i-(en+mn+mn))}}class sv{headerMarshaller;messageBuffer;isEndOfStream;constructor(e,n){this.headerMarshaller=new KS(e,n),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),n=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return n}}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const n=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return n}}}encode({headers:e,body:n}){const r=this.headerMarshaller.format(e),s=r.byteLength+n.byteLength+16,i=new Uint8Array(s),o=new DataView(i.buffer,i.byteOffset,i.byteLength),a=new ns;return o.setUint32(0,s,!1),o.setUint32(4,r.byteLength,!1),o.setUint32(8,a.update(i.subarray(0,8)).digest(),!1),i.set(r,12),i.set(n,r.byteLength+12),o.setUint32(s-4,a.update(i.subarray(8,s-4)).digest(),!1),i}decode(e){const{headers:n,body:r}=rv(e);return{headers:this.headerMarshaller.parse(n),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}}class iv{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.decoder.decode(e)}}class ov{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class av{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const n=await this.options.deserializer(e);n!==void 0&&(yield n)}}}class cv{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.serializer(e)}}function uv(t){let e=0,n=0,r=null,s=null;const i=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,n=4,r=new Uint8Array(a),new DataView(r.buffer).setUint32(0,a,!1)},o=async function*(){const a=t[Symbol.asyncIterator]();for(;;){const{value:c,done:u}=await a.next();if(u){if(e)if(e===n)yield r;else throw new Error("Truncated event message received.");else return;return}const l=c.length;let d=0;for(;d<l;){if(!r){const h=l-d;s||(s=new Uint8Array(4));const g=Math.min(4-n,h);if(s.set(c.slice(d,d+g),n),n+=g,d+=g,n<4)break;i(new DataView(s.buffer).getUint32(0,!1)),s=null}const f=Math.min(e-n,l-d);r.set(c.slice(d,d+f),n),n+=f,d+=f,e&&e===n&&(yield r,r=null,e=0,n=0)}}};return{[Symbol.asyncIterator]:o}}function lv(t,e){return async function(n){const{value:r}=n.headers[":message-type"];if(r==="error"){const s=new Error(n.headers[":error-message"].value||"UnknownError");throw s.name=n.headers[":error-code"].value,s}else if(r==="exception"){const s=n.headers[":exception-type"].value,i={[s]:n},o=await t(i);if(o.$unknown){const a=new Error(e(n.body));throw a.name=s,a}throw o[s]}else if(r==="event"){const s={[n.headers[":event-type"].value]:n},i=await t(s);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}let dv=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:e,utf8Decoder:n}){this.eventStreamCodec=new sv(e,n),this.utfEncoder=e}deserialize(e,n){const r=uv(e);return new av({messageStream:new iv({inputStream:r,decoder:this.eventStreamCodec}),deserializer:lv(n,this.utfEncoder)})}serialize(e,n){return new ov({messageStream:new cv({inputStream:e,serializer:n}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const hv=t=>({[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)return;yield r}}finally{e.releaseLock()}}}),fv=t=>{const e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(n){const{done:r,value:s}=await e.next();if(r)return n.close();n.enqueue(s)}})};class pv{universalMarshaller;constructor({utf8Encoder:e,utf8Decoder:n}){this.universalMarshaller=new dv({utf8Decoder:n,utf8Encoder:e})}deserialize(e,n){const r=mv(e)?hv(e):e;return this.universalMarshaller.deserialize(r,n)}serialize(e,n){const r=this.universalMarshaller.serialize(e,n);return typeof ReadableStream=="function"?fv(r):r}}const mv=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,gv=t=>new pv(t);async function yv(t,e,n=1024*1024){const r=t.size;let s=0;for(;s<r;){const i=t.slice(s,Math.min(r,s+n));e(new Uint8Array(await i.arrayBuffer())),s+=i.size}}const bv=async function(e,n){const r=new e;return await yv(n,s=>{r.update(s)}),r.digest()},wv=t=>()=>Promise.reject(t),Jt=64,xv=16,Sv=[1732584193,4023233417,2562383102,271733878];class vv{state;buffer;bufferLength;bytesHashed;finished;constructor(){this.reset()}update(e){if(Ev(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const n=Av(e);let r=0,{byteLength:s}=n;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,n[r++]),s--,this.bufferLength===Jt&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:n,bufferLength:r,bytesHashed:s}=this,i=s*8;if(n.setUint8(this.bufferLength++,128),r%Jt>=Jt-8){for(let o=this.bufferLength;o<Jt;o++)n.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<Jt-8;o++)n.setUint8(o,0);n.setUint32(Jt-8,i>>>0,!0),n.setUint32(Jt-4,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}const e=new DataView(new ArrayBuffer(xv));for(let n=0;n<4;n++)e.setUint32(n*4,this.state[n],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}hashBuffer(){const{buffer:e,state:n}=this;let r=n[0],s=n[1],i=n[2],o=n[3];r=ut(r,s,i,o,e.getUint32(0,!0),7,3614090360),o=ut(o,r,s,i,e.getUint32(4,!0),12,3905402710),i=ut(i,o,r,s,e.getUint32(8,!0),17,606105819),s=ut(s,i,o,r,e.getUint32(12,!0),22,3250441966),r=ut(r,s,i,o,e.getUint32(16,!0),7,4118548399),o=ut(o,r,s,i,e.getUint32(20,!0),12,1200080426),i=ut(i,o,r,s,e.getUint32(24,!0),17,2821735955),s=ut(s,i,o,r,e.getUint32(28,!0),22,4249261313),r=ut(r,s,i,o,e.getUint32(32,!0),7,1770035416),o=ut(o,r,s,i,e.getUint32(36,!0),12,2336552879),i=ut(i,o,r,s,e.getUint32(40,!0),17,4294925233),s=ut(s,i,o,r,e.getUint32(44,!0),22,2304563134),r=ut(r,s,i,o,e.getUint32(48,!0),7,1804603682),o=ut(o,r,s,i,e.getUint32(52,!0),12,4254626195),i=ut(i,o,r,s,e.getUint32(56,!0),17,2792965006),s=ut(s,i,o,r,e.getUint32(60,!0),22,1236535329),r=lt(r,s,i,o,e.getUint32(4,!0),5,4129170786),o=lt(o,r,s,i,e.getUint32(24,!0),9,3225465664),i=lt(i,o,r,s,e.getUint32(44,!0),14,643717713),s=lt(s,i,o,r,e.getUint32(0,!0),20,3921069994),r=lt(r,s,i,o,e.getUint32(20,!0),5,3593408605),o=lt(o,r,s,i,e.getUint32(40,!0),9,38016083),i=lt(i,o,r,s,e.getUint32(60,!0),14,3634488961),s=lt(s,i,o,r,e.getUint32(16,!0),20,3889429448),r=lt(r,s,i,o,e.getUint32(36,!0),5,568446438),o=lt(o,r,s,i,e.getUint32(56,!0),9,3275163606),i=lt(i,o,r,s,e.getUint32(12,!0),14,4107603335),s=lt(s,i,o,r,e.getUint32(32,!0),20,1163531501),r=lt(r,s,i,o,e.getUint32(52,!0),5,2850285829),o=lt(o,r,s,i,e.getUint32(8,!0),9,4243563512),i=lt(i,o,r,s,e.getUint32(28,!0),14,1735328473),s=lt(s,i,o,r,e.getUint32(48,!0),20,2368359562),r=dt(r,s,i,o,e.getUint32(20,!0),4,4294588738),o=dt(o,r,s,i,e.getUint32(32,!0),11,2272392833),i=dt(i,o,r,s,e.getUint32(44,!0),16,1839030562),s=dt(s,i,o,r,e.getUint32(56,!0),23,4259657740),r=dt(r,s,i,o,e.getUint32(4,!0),4,2763975236),o=dt(o,r,s,i,e.getUint32(16,!0),11,1272893353),i=dt(i,o,r,s,e.getUint32(28,!0),16,4139469664),s=dt(s,i,o,r,e.getUint32(40,!0),23,3200236656),r=dt(r,s,i,o,e.getUint32(52,!0),4,681279174),o=dt(o,r,s,i,e.getUint32(0,!0),11,3936430074),i=dt(i,o,r,s,e.getUint32(12,!0),16,3572445317),s=dt(s,i,o,r,e.getUint32(24,!0),23,76029189),r=dt(r,s,i,o,e.getUint32(36,!0),4,3654602809),o=dt(o,r,s,i,e.getUint32(48,!0),11,3873151461),i=dt(i,o,r,s,e.getUint32(60,!0),16,530742520),s=dt(s,i,o,r,e.getUint32(8,!0),23,3299628645),r=ht(r,s,i,o,e.getUint32(0,!0),6,4096336452),o=ht(o,r,s,i,e.getUint32(28,!0),10,1126891415),i=ht(i,o,r,s,e.getUint32(56,!0),15,2878612391),s=ht(s,i,o,r,e.getUint32(20,!0),21,4237533241),r=ht(r,s,i,o,e.getUint32(48,!0),6,1700485571),o=ht(o,r,s,i,e.getUint32(12,!0),10,2399980690),i=ht(i,o,r,s,e.getUint32(40,!0),15,4293915773),s=ht(s,i,o,r,e.getUint32(4,!0),21,2240044497),r=ht(r,s,i,o,e.getUint32(32,!0),6,1873313359),o=ht(o,r,s,i,e.getUint32(60,!0),10,4264355552),i=ht(i,o,r,s,e.getUint32(24,!0),15,2734768916),s=ht(s,i,o,r,e.getUint32(52,!0),21,1309151649),r=ht(r,s,i,o,e.getUint32(16,!0),6,4149444226),o=ht(o,r,s,i,e.getUint32(44,!0),10,3174756917),i=ht(i,o,r,s,e.getUint32(8,!0),15,718787259),s=ht(s,i,o,r,e.getUint32(36,!0),21,3951481745),n[0]=r+n[0]&4294967295,n[1]=s+n[1]&4294967295,n[2]=i+n[2]&4294967295,n[3]=o+n[3]&4294967295}reset(){this.state=Uint32Array.from(Sv),this.buffer=new DataView(new ArrayBuffer(Jt)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function Rs(t,e,n,r,s,i){return e=(e+t&4294967295)+(r+i&4294967295)&4294967295,(e<<s|e>>>32-s)+n&4294967295}function ut(t,e,n,r,s,i,o){return Rs(e&n|~e&r,t,e,s,i,o)}function lt(t,e,n,r,s,i,o){return Rs(e&r|n&~r,t,e,s,i,o)}function dt(t,e,n,r,s,i,o){return Rs(e^n^r,t,e,s,i,o)}function ht(t,e,n,r,s,i,o){return Rs(n^(e|~r),t,e,s,i,o)}function Ev(t){return typeof t=="string"?t.length===0:t.byteLength===0}function Av(t){return typeof t=="string"?on(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}const Cv=t=>({apiVersion:"2006-03-01",base64Decoder:t?.base64Decoder??$n,base64Encoder:t?.base64Encoder??An,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??sh,extensions:t?.extensions??[],getAwsChunkedEncodingStream:t?.getAwsChunkedEncodingStream??fm,httpAuthSchemeProvider:t?.httpAuthSchemeProvider??nw,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Hl},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new Kp}],logger:t?.logger??new To,protocol:t?.protocol??new Wg({defaultNamespace:"com.amazonaws.s3",xmlNamespace:"http://s3.amazonaws.com/doc/2006-03-01/"}),sdkStreamMixin:t?.sdkStreamMixin??Xl,serviceId:t?.serviceId??"S3",signerConstructor:t?.signerConstructor??$d,signingEscapePath:t?.signingEscapePath??!1,urlParser:t?.urlParser??ss,useArnRegion:t?.useArnRegion??void 0,utf8Decoder:t?.utf8Decoder??on,utf8Encoder:t?.utf8Encoder??Gn}),_v=["in-region","cross-region","mobile","standard","legacy"],kv=({defaultsMode:t}={})=>Ym(async()=>{const e=typeof t=="function"?await t():t;switch(e?.toLowerCase()){case"auto":return Promise.resolve(Tv()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${_v.join(", ")}, got ${e}`)}}),Tv=()=>{const t=window?.navigator;if(t?.connection){const{effectiveType:e,rtt:n,downlink:r}=t?.connection;if(typeof e=="string"&&e!=="4g"||Number(n)>100||Number(r)<10)return!0}return t?.userAgentData?.mobile||typeof t?.maxTouchPoints=="number"&&t?.maxTouchPoints>1},Rv=t=>{const e=kv(t),n=()=>e().then(Dg),r=Cv(t);return{...r,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??kg,credentialDefaultProvider:t?.credentialDefaultProvider??(s=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??WS({serviceId:r.serviceId,clientVersion:kS.version}),eventStreamSerdeProvider:t?.eventStreamSerdeProvider??gv,maxAttempts:t?.maxAttempts??is,md5:t?.md5??vv,region:t?.region??wv("Region is missing"),requestHandler:So.create(t?.requestHandler??n),retryMode:t?.retryMode??(async()=>(await n()).retryMode||lb),sha1:t?.sha1??OS,sha256:t?.sha256??HS,streamCollector:t?.streamCollector??ql,streamHasher:t?.streamHasher??bv,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve(H0)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(W0))}},Dv=t=>({setRegion(e){t.region=e},region(){return t.region}}),Pv=t=>({region:t.region()}),Bv=t=>{const e=t.httpAuthSchemes;let n=t.httpAuthSchemeProvider,r=t.credentials;return{setHttpAuthScheme(s){const i=e.findIndex(o=>o.schemeId===s.schemeId);i===-1?e.push(s):e.splice(i,1,s)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(s){n=s},httpAuthSchemeProvider(){return n},setCredentials(s){r=s},credentials(){return r}}},Iv=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),Mv=(t,e)=>{const n=Object.assign(Dv(t),Og(t),Fp(t),Bv(t));return e.forEach(r=>r.configure(n)),Object.assign(t,Pv(n),Fg(n),Np(n),Iv(n))};class Ov extends Tg{config;constructor(...[e]){const n=Rv(e||{});super(n),this.initConfig=n;const r=sw(n),s=a0(r),i=my(s),o=Rb(i),a=G0(o),c=a,u=ub(c),l=Z0(u),d=rw(l),f=qy(d,{session:[()=>this,CS]}),h=Mv(f,e?.extensions||[]);this.config=h,this.middlewareStack.use(_m(this.config)),this.middlewareStack.use(j0(this.config)),this.middlewareStack.use(Fb(this.config)),this.middlewareStack.use(Q0(this.config)),this.middlewareStack.use(by(this.config)),this.middlewareStack.use(Sy(this.config)),this.middlewareStack.use(Ay(this.config)),this.middlewareStack.use(Yp(this.config,{httpAuthSchemeParametersProvider:Jb,identityProviderConfigProvider:async g=>new Km({"aws.auth#sigv4":g.credentials,"aws.auth#sigv4a":g.credentials})})),this.middlewareStack.use(nm(this.config)),this.middlewareStack.use(s0(this.config)),this.middlewareStack.use($p(this.config)),this.middlewareStack.use(My(this.config)),this.middlewareStack.use($y(this.config)),this.middlewareStack.use(Ky(this.config))}destroy(){super.destroy()}}function Fv(t){return e=>async n=>{const r={...n.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const i of s){const o=r[i.target];if(o){let a;typeof o=="string"?Uv(o,t)?a=t.base64Decoder(o):(a=t.utf8Decoder(o),r[i.target]=t.base64Encoder(a)):(a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o),r[i.target]=t.base64Encoder(a));const c=new t.md5;c.update(a),r[i.hash]=t.base64Encoder(await c.digest())}}return e({...n,input:r})}}const Nv={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Lv=t=>({applyToStack:e=>{e.add(Fv(t),Nv)}});function Uv(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}class zv extends ko.classBuilder().ep({...ah,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,n,r,s){return[Nd(r,e.getEndpointParameterInstructions()),py(r,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),Ry(),xd(r),Lv(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").sc(AS).build(){}const Du="ap-southeast-1",$v="ngoc-tieu-cac-public",Pu="s3_credentials";async function Vv(){const t=localStorage.getItem(Pu);if(t){const r=JSON.parse(t);if(!(Date.now()>new Date(r.expiration).getTime()))return r}const n=(await qn.get("admin/token")).data;return localStorage.setItem(Pu,JSON.stringify(n)),n}async function jv(t,e,n){const r=await Vv(),s=new Ov({region:Du,credentials:{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken}}),i=new zv({Bucket:t,Key:e,Body:n});return await s.send(i),{bucket:t,key:e,url:`https://${t}.s3.${Du}.amazonaws.com/${e}`}}async function _2(t){return(await qn.post("/books",{...t})).data}async function k2(t,e,n){const r=await ms.get(gs(`books/${t}`));return e(r.data),r.data}async function T2(t,e){const n=["hoan-thanh","dang-ra"],s=Array.isArray(e)&&e.length===1&&n?.includes(e[0])?`?status=${e[0]}`:"",i=await ms.get(gs(`books/slugs${s}`));return t(i.data),i.data}async function R2(t,e){const n=await ms.post(gs("books/slugs"),{slugs:t});e(n.data)}async function D2(t,e,n){const s=(await qn.get(`/chapters/${t}/download?start=${e}&end=${n}`)).data,i=new Bp;for(const a of s){const u=await(await fetch(a.url)).arrayBuffer(),l={data:Array.from(new Uint8Array(u))},d=Rp(l);i.file(a.name,d)}const o=await i.generateAsync({type:"blob"});Op.saveAs(o,`${t}.zip`)}async function P2(t){return(await ms.get(gs(`books/check-slug/${t}`))).data.isValid}async function B2(t){return(await qn.get(`/books/banner/upload/${t}`)).data}async function I2(t,e,n){const r=await qn.patch(`/books/${t}`,{...e});return await jv($v,`books/${t}.json`,JSON.stringify(n)),r.data}async function M2(t){return qn.get(`/admin/books/${t}/sync`)}const Kh=be.createContext({});function Hv(t){const e=be.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wo=typeof window<"u",Wv=Wo?be.useLayoutEffect:be.useEffect,Ko=be.createContext(null);function qo(t,e){t.indexOf(e)===-1&&t.push(e)}function Go(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zt=(t,e,n)=>n>e?e:n<t?t:n;let Zo=()=>{};const Xt={},qh=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Gh(t){return typeof t=="object"&&t!==null}const Zh=t=>/^0[^.\s]+$/u.test(t);function Xo(t){let e;return()=>(e===void 0&&(e=t()),e)}const Mt=t=>t,Kv=(t,e)=>n=>e(t(n)),Pr=(...t)=>t.reduce(Kv),Er=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Yo{constructor(){this.subscriptions=[]}add(e){return qo(this.subscriptions,e),()=>Go(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ht=t=>t*1e3,It=t=>t/1e3;function Xh(t,e){return e?t*(1e3/e):0}const Yh=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qv=1e-7,Gv=12;function Zv(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=Yh(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>qv&&++a<Gv);return o}function Br(t,e,n,r){if(t===e&&n===r)return Mt;const s=i=>Zv(i,0,1,t,n);return i=>i===0||i===1?i:Yh(s(i),e,r)}const Qh=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Jh=t=>e=>1-t(1-e),ef=Br(.33,1.53,.69,.99),Qo=Jh(ef),tf=Qh(Qo),nf=t=>(t*=2)<1?.5*Qo(t):.5*(2-Math.pow(2,-10*(t-1))),Jo=t=>1-Math.sin(Math.acos(t)),rf=Jh(Jo),sf=Qh(Jo),Xv=Br(.42,0,1,1),Yv=Br(0,0,.58,1),of=Br(.42,0,.58,1),Qv=t=>Array.isArray(t)&&typeof t[0]!="number",af=t=>Array.isArray(t)&&typeof t[0]=="number",Jv={linear:Mt,easeIn:Xv,easeInOut:of,easeOut:Yv,circIn:Jo,circInOut:sf,circOut:rf,backIn:Qo,backInOut:tf,backOut:ef,anticipate:nf},e1=t=>typeof t=="string",Bu=t=>{if(af(t)){Zo(t.length===4);const[e,n,r,s]=t;return Br(e,n,r,s)}else if(e1(t))return Jv[t];return t},Hr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function t1(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(l){o.has(l)&&(u.schedule(l),t()),l(a)}const u={schedule:(l,d=!1,f=!1)=>{const g=f&&s?n:r;return d&&o.add(l),g.has(l)||g.add(l),l},cancel:l=>{r.delete(l),o.delete(l)},process:l=>{if(a=l,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,u.process(l))}};return u}const n1=40;function cf(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Hr.reduce((S,C)=>(S[C]=t1(i),S),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:l,update:d,preRender:f,render:h,postRender:g}=o,p=()=>{const S=Xt.useManualTiming?s.timestamp:performance.now();n=!1,Xt.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(S-s.timestamp,n1),1)),s.timestamp=S,s.isProcessing=!0,a.process(s),c.process(s),u.process(s),l.process(s),d.process(s),f.process(s),h.process(s),g.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},b=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:Hr.reduce((S,C)=>{const _=o[C];return S[C]=(I,O=!1,L=!1)=>(n||b(),_.schedule(I,O,L)),S},{}),cancel:S=>{for(let C=0;C<Hr.length;C++)o[Hr[C]].cancel(S)},state:s,steps:o}}const{schedule:Oe,cancel:un,state:it,steps:xi}=cf(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mt,!0);let Xr;function r1(){Xr=void 0}const wt={now:()=>(Xr===void 0&&wt.set(it.isProcessing||Xt.useManualTiming?it.timestamp:performance.now()),Xr),set:t=>{Xr=t,queueMicrotask(r1)}},uf=t=>e=>typeof e=="string"&&e.startsWith(t),ea=uf("--"),s1=uf("var(--"),ta=t=>s1(t)?i1.test(t.split("/*")[0].trim()):!1,i1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zn={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ar={...Zn,transform:t=>Zt(0,1,t)},Wr={...Zn,default:1},pr=t=>Math.round(t*1e5)/1e5,na=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function o1(t){return t==null}const a1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ra=(t,e)=>n=>!!(typeof n=="string"&&a1.test(n)&&n.startsWith(t)||e&&!o1(n)&&Object.prototype.hasOwnProperty.call(n,e)),lf=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(na);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},c1=t=>Zt(0,255,t),Si={...Zn,transform:t=>Math.round(c1(t))},yn={test:ra("rgb","red"),parse:lf("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Si.transform(t)+", "+Si.transform(e)+", "+Si.transform(n)+", "+pr(Ar.transform(r))+")"};function u1(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Qi={test:ra("#"),parse:u1,transform:yn.transform},Ir=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),tn=Ir("deg"),Wt=Ir("%"),pe=Ir("px"),l1=Ir("vh"),d1=Ir("vw"),Iu={...Wt,parse:t=>Wt.parse(t)/100,transform:t=>Wt.transform(t*100)},Bn={test:ra("hsl","hue"),parse:lf("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Wt.transform(pr(e))+", "+Wt.transform(pr(n))+", "+pr(Ar.transform(r))+")"},Ge={test:t=>yn.test(t)||Qi.test(t)||Bn.test(t),parse:t=>yn.test(t)?yn.parse(t):Bn.test(t)?Bn.parse(t):Qi.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?yn.transform(t):Bn.transform(t),getAnimatableNone:t=>{const e=Ge.parse(t);return e.alpha=0,Ge.transform(e)}},h1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f1(t){return isNaN(t)&&typeof t=="string"&&(t.match(na)?.length||0)+(t.match(h1)?.length||0)>0}const df="number",hf="color",p1="var",m1="var(",Mu="${}",g1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cr(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(g1,c=>(Ge.test(c)?(r.color.push(i),s.push(hf),n.push(Ge.parse(c))):c.startsWith(m1)?(r.var.push(i),s.push(p1),n.push(c)):(r.number.push(i),s.push(df),n.push(parseFloat(c))),++i,Mu)).split(Mu);return{values:n,split:a,indexes:r,types:s}}function ff(t){return Cr(t).values}function pf(t){const{split:e,types:n}=Cr(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===df?i+=pr(s[o]):a===hf?i+=Ge.transform(s[o]):i+=s[o]}return i}}const y1=t=>typeof t=="number"?0:Ge.test(t)?Ge.getAnimatableNone(t):t;function b1(t){const e=ff(t);return pf(t)(e.map(y1))}const ln={test:f1,parse:ff,createTransformer:pf,getAnimatableNone:b1};function vi(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function w1({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;s=vi(c,a,t+1/3),i=vi(c,a,t),o=vi(c,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ls(t,e){return n=>n>0?e:t}const Ne=(t,e,n)=>t+(e-t)*n,Ei=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},x1=[Qi,yn,Bn],S1=t=>x1.find(e=>e.test(t));function Ou(t){const e=S1(t);if(!e)return!1;let n=e.parse(t);return e===Bn&&(n=w1(n)),n}const Fu=(t,e)=>{const n=Ou(t),r=Ou(e);if(!n||!r)return ls(t,e);const s={...n};return i=>(s.red=Ei(n.red,r.red,i),s.green=Ei(n.green,r.green,i),s.blue=Ei(n.blue,r.blue,i),s.alpha=Ne(n.alpha,r.alpha,i),yn.transform(s))},Ji=new Set(["none","hidden"]);function v1(t,e){return Ji.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function E1(t,e){return n=>Ne(t,e,n)}function sa(t){return typeof t=="number"?E1:typeof t=="string"?ta(t)?ls:Ge.test(t)?Fu:_1:Array.isArray(t)?mf:typeof t=="object"?Ge.test(t)?Fu:A1:ls}function mf(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>sa(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function A1(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=sa(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function C1(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const _1=(t,e)=>{const n=ln.createTransformer(e),r=Cr(t),s=Cr(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ji.has(t)&&!s.values.length||Ji.has(e)&&!r.values.length?v1(t,e):Pr(mf(C1(r,s),s.values),n):ls(t,e)};function gf(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ne(t,e,n):sa(t)(t,e)}const k1=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Oe.update(e,n),stop:()=>un(e),now:()=>it.isProcessing?it.timestamp:wt.now()}},yf=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ds=2e4;function ia(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ds;)e+=n,r=t.next(e);return e>=ds?1/0:e}function T1(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(ia(r),ds);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:It(s)}}const R1=5;function bf(t,e,n){const r=Math.max(e-R1,0);return Xh(n-t(r),e-r)}const Ue={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ai=.001;function D1({duration:t=Ue.duration,bounce:e=Ue.bounce,velocity:n=Ue.velocity,mass:r=Ue.mass}){let s,i,o=1-e;o=Zt(Ue.minDamping,Ue.maxDamping,o),t=Zt(Ue.minDuration,Ue.maxDuration,It(t)),o<1?(s=u=>{const l=u*o,d=l*t,f=l-n,h=eo(u,o),g=Math.exp(-d);return Ai-f/h*g},i=u=>{const d=u*o*t,f=d*n+n,h=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-d),p=eo(Math.pow(u,2),o);return(-s(u)+Ai>0?-1:1)*((f-h)*g)/p}):(s=u=>{const l=Math.exp(-u*t),d=(u-n)*t+1;return-Ai+l*d},i=u=>{const l=Math.exp(-u*t),d=(n-u)*(t*t);return l*d});const a=5/t,c=B1(s,i,a);if(t=Ht(t),isNaN(c))return{stiffness:Ue.stiffness,damping:Ue.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const P1=12;function B1(t,e,n){let r=n;for(let s=1;s<P1;s++)r=r-t(r)/e(r);return r}function eo(t,e){return t*Math.sqrt(1-e*e)}const I1=["duration","bounce"],M1=["stiffness","damping","mass"];function Nu(t,e){return e.some(n=>t[n]!==void 0)}function O1(t){let e={velocity:Ue.velocity,stiffness:Ue.stiffness,damping:Ue.damping,mass:Ue.mass,isResolvedFromDuration:!1,...t};if(!Nu(t,M1)&&Nu(t,I1))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Zt(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ue.mass,stiffness:s,damping:i}}else{const n=D1(t);e={...e,...n,mass:Ue.mass},e.isResolvedFromDuration=!0}return e}function hs(t=Ue.visualDuration,e=Ue.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:c,damping:u,mass:l,duration:d,velocity:f,isResolvedFromDuration:h}=O1({...n,velocity:-It(n.velocity||0)}),g=f||0,p=u/(2*Math.sqrt(c*l)),b=o-i,y=It(Math.sqrt(c/l)),x=Math.abs(b)<5;r||(r=x?Ue.restSpeed.granular:Ue.restSpeed.default),s||(s=x?Ue.restDelta.granular:Ue.restDelta.default);let S;if(p<1){const _=eo(y,p);S=I=>{const O=Math.exp(-p*y*I);return o-O*((g+p*y*b)/_*Math.sin(_*I)+b*Math.cos(_*I))}}else if(p===1)S=_=>o-Math.exp(-y*_)*(b+(g+y*b)*_);else{const _=y*Math.sqrt(p*p-1);S=I=>{const O=Math.exp(-p*y*I),L=Math.min(_*I,300);return o-O*((g+p*y*b)*Math.sinh(L)+_*b*Math.cosh(L))/_}}const C={calculatedDuration:h&&d||null,next:_=>{const I=S(_);if(h)a.done=_>=d;else{let O=_===0?g:0;p<1&&(O=_===0?Ht(g):bf(S,_,I));const L=Math.abs(O)<=r,F=Math.abs(o-I)<=s;a.done=L&&F}return a.value=a.done?o:I,a},toString:()=>{const _=Math.min(ia(C),ds),I=yf(O=>C.next(_*O).value,_,30);return _+"ms "+I},toTransition:()=>{}};return C}hs.applyToOptions=t=>{const e=T1(t,100,hs);return t.ease=e.ease,t.duration=Ht(e.duration),t.type="keyframes",t};function to({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:l}){const d=t[0],f={done:!1,value:d},h=L=>a!==void 0&&L<a||c!==void 0&&L>c,g=L=>a===void 0?c:c===void 0||Math.abs(a-L)<Math.abs(c-L)?a:c;let p=n*e;const b=d+p,y=o===void 0?b:o(b);y!==b&&(p=y-d);const x=L=>-p*Math.exp(-L/r),S=L=>y+x(L),C=L=>{const F=x(L),Z=S(L);f.done=Math.abs(F)<=u,f.value=f.done?y:Z};let _,I;const O=L=>{h(f.value)&&(_=L,I=hs({keyframes:[f.value,g(f.value)],velocity:bf(S,L,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:l}))};return O(0),{calculatedDuration:null,next:L=>{let F=!1;return!I&&_===void 0&&(F=!0,C(L),O(L)),_!==void 0&&L>=_?I.next(L-_):(!F&&C(L),f)}}}function F1(t,e,n){const r=[],s=n||Xt.mix||gf,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Mt:e;a=Pr(c,a)}r.push(a)}return r}function N1(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Zo(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=F1(e,r,s),c=a.length,u=l=>{if(o&&l<t[0])return e[0];let d=0;if(c>1)for(;d<t.length-2&&!(l<t[d+1]);d++);const f=Er(t[d],t[d+1],l);return a[d](f)};return n?l=>u(Zt(t[0],t[i-1],l)):u}function L1(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Er(0,e,r);t.push(Ne(n,1,s))}}function U1(t){const e=[0];return L1(e,t.length-1),e}function z1(t,e){return t.map(n=>n*e)}function $1(t,e){return t.map(()=>e||of).splice(0,t.length-1)}function mr({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Qv(r)?r.map(Bu):Bu(r),i={done:!1,value:e[0]},o=z1(n&&n.length===e.length?n:U1(e),t),a=N1(o,e,{ease:Array.isArray(s)?s:$1(e,s)});return{calculatedDuration:t,next:c=>(i.value=a(c),i.done=c>=t,i)}}const V1=t=>t!==null;function oa(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(V1),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const j1={decay:to,inertia:to,tween:mr,keyframes:mr,spring:hs};function wf(t){typeof t.type=="string"&&(t.type=j1[t.type])}class aa{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const H1=t=>t/100;class ca extends aa{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wt.now()&&this.tick(wt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;wf(e);const{type:n=mr,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const c=n||mr;c!==mr&&typeof a[0]!="number"&&(this.mixKeyframes=Pr(H1,gf(a[0],a[1])),a=[0,100]);const u=c({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=ia(u));const{calculatedDuration:l}=u;this.calculatedDuration=l,this.resolvedDuration=l+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:l,repeat:d,repeatType:f,repeatDelay:h,type:g,onUpdate:p,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,C=r;if(d){const L=Math.min(this.currentTime,s)/a;let F=Math.floor(L),Z=L%1;!Z&&L>=1&&(Z=1),Z===1&&F--,F=Math.min(F,d+1),!!(F%2)&&(f==="reverse"?(Z=1-Z,h&&(Z-=h/a)):f==="mirror"&&(C=o)),S=Zt(0,1,Z)*a}const _=x?{done:!1,value:l[0]}:C.next(S);i&&(_.value=i(_.value));let{done:I}=_;!x&&c!==null&&(I=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return O&&g!==to&&(_.value=oa(l,this.options,b,this.speed)),p&&p(_.value),O&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return It(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+It(e)}get time(){return It(this.currentTime)}set time(e){e=Ht(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=It(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=k1,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function W1(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const bn=t=>t*180/Math.PI,no=t=>{const e=bn(Math.atan2(t[1],t[0]));return ro(e)},K1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:no,rotateZ:no,skewX:t=>bn(Math.atan(t[1])),skewY:t=>bn(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ro=t=>(t=t%360,t<0&&(t+=360),t),Lu=no,Uu=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),zu=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),q1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Uu,scaleY:zu,scale:t=>(Uu(t)+zu(t))/2,rotateX:t=>ro(bn(Math.atan2(t[6],t[5]))),rotateY:t=>ro(bn(Math.atan2(-t[2],t[0]))),rotateZ:Lu,rotate:Lu,skewX:t=>bn(Math.atan(t[4])),skewY:t=>bn(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function so(t){return t.includes("scale")?1:0}function io(t,e){if(!t||t==="none")return so(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=q1,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=K1,s=a}if(!s)return so(e);const i=r[e],o=s[1].split(",").map(Z1);return typeof i=="function"?i(o):o[i]}const G1=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return io(n,e)};function Z1(t){return parseFloat(t.trim())}const Xn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yn=new Set(Xn),$u=t=>t===Zn||t===pe,X1=new Set(["x","y","z"]),Y1=Xn.filter(t=>!X1.has(t));function Q1(t){const e=[];return Y1.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Sn={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>io(e,"x"),y:(t,{transform:e})=>io(e,"y")};Sn.translateX=Sn.x;Sn.translateY=Sn.y;const vn=new Set;let oo=!1,ao=!1,co=!1;function xf(){if(ao){const t=Array.from(vn).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Q1(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{r.getValue(i)?.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ao=!1,oo=!1,vn.forEach(t=>t.complete(co)),vn.clear()}function Sf(){vn.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ao=!0)})}function J1(){co=!0,Sf(),xf(),co=!1}class ua{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(vn.add(this),oo||(oo=!0,Oe.read(Sf),Oe.resolveKeyframes(xf))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}W1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),vn.delete(this)}cancel(){this.state==="scheduled"&&(vn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const eE=t=>t.startsWith("--");function tE(t,e,n){eE(e)?t.style.setProperty(e,n):t.style[e]=n}const nE=Xo(()=>window.ScrollTimeline!==void 0),rE={};function sE(t,e){const n=Xo(t);return()=>rE[e]??n()}const vf=sE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ir=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Vu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ir([0,.65,.55,1]),circOut:ir([.55,0,1,.45]),backIn:ir([.31,.01,.66,-.59]),backOut:ir([.33,1.53,.69,.99])};function Ef(t,e){if(t)return typeof t=="function"?vf()?yf(t,e):"ease-out":af(t)?ir(t):Array.isArray(t)?t.map(n=>Ef(n,e)||Vu.easeOut):Vu[t]}function iE(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:c}={},u=void 0){const l={[e]:n};c&&(l.offset=c);const d=Ef(a,s);Array.isArray(d)&&(l.easing=d);const f={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(l,f)}function Af(t){return typeof t=="function"&&"applyToOptions"in t}function oE({type:t,...e}){return Af(t)&&vf()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class aE extends aa{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Zo(typeof e.type!="string");const u=oE(e);this.animation=iE(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const l=oa(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(l):tE(n,r,l),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return It(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+It(e)}get time(){return It(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ht(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&nE()?(this.animation.timeline=e,Mt):n(this)}}const Cf={anticipate:nf,backInOut:tf,circInOut:sf};function cE(t){return t in Cf}function uE(t){typeof t.ease=="string"&&cE(t.ease)&&(t.ease=Cf[t.ease])}const ju=10;class lE extends aE{constructor(e){uE(e),wf(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new ca({...o,autoplay:!1}),c=Ht(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-ju).value,a.sample(c).value,ju),a.stop()}}const Hu=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ln.test(t)||t==="0")&&!t.startsWith("url("));function dE(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function hE(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Hu(s,e),a=Hu(i,e);return!o||!a?!1:dE(t)||(n==="spring"||Af(n))&&r}function uo(t){t.duration=0,t.type="keyframes"}const fE=new Set(["opacity","clipPath","filter","transform"]),pE=Xo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mE(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return pE()&&n&&fE.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const gE=40;class yE extends aa{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:c,motionValue:u,element:l,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wt.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:l,...d},h=l?.KeyframeResolver||ua;this.keyframeResolver=new h(a,(g,p,b)=>this.onKeyframesResolved(g,p,f,!b),c,u,l),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:c,isHandoff:u,onUpdate:l}=r;this.resolvedAt=wt.now(),hE(e,i,o,a)||((Xt.instantAnimations||!c)&&l?.(oa(e,r,n)),e[0]=e[e.length-1],uo(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>gE?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!u&&mE(f)?new lE({...f,element:f.motionValue.owner.current}):new ca(f);h.finished.then(()=>this.notifyFinished()).catch(Mt),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),J1()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const bE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wE(t){const e=bE.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function _f(t,e,n=1){const[r,s]=wE(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return qh(o)?parseFloat(o):o}return ta(s)?_f(s,e,n+1):s}function la(t,e){return t?.[e]??t?.default??t}const kf=new Set(["width","height","top","left","right","bottom",...Xn]),xE={test:t=>t==="auto",parse:t=>t},Tf=t=>e=>e.test(t),Rf=[Zn,pe,Wt,tn,d1,l1,xE],Wu=t=>Rf.find(Tf(t));function SE(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Zh(t):!0}const vE=new Set(["brightness","contrast","saturate","opacity"]);function EE(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(na)||[];if(!r)return t;const s=n.replace(r,"");let i=vE.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const AE=/\b([a-z-]*)\(.*?\)/gu,lo={...ln,getAnimatableNone:t=>{const e=t.match(AE);return e?e.map(EE).join(" "):t}},Ku={...Zn,transform:Math.round},CE={rotate:tn,rotateX:tn,rotateY:tn,rotateZ:tn,scale:Wr,scaleX:Wr,scaleY:Wr,scaleZ:Wr,skew:tn,skewX:tn,skewY:tn,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Ar,originX:Iu,originY:Iu,originZ:pe},da={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe,...CE,zIndex:Ku,fillOpacity:Ar,strokeOpacity:Ar,numOctaves:Ku},_E={...da,color:Ge,backgroundColor:Ge,outlineColor:Ge,fill:Ge,stroke:Ge,borderColor:Ge,borderTopColor:Ge,borderRightColor:Ge,borderBottomColor:Ge,borderLeftColor:Ge,filter:lo,WebkitFilter:lo},Df=t=>_E[t];function Pf(t,e){let n=Df(t);return n!==lo&&(n=ln),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kE=new Set(["auto","none","0"]);function TE(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!kE.has(i)&&Cr(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=Pf(n,s)}class RE extends ua{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),ta(u))){const l=_f(u,n.current);l!==void 0&&(e[c]=l),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!kf.has(r)||e.length!==2)return;const[s,i]=e,o=Wu(s),a=Wu(i);if(o!==a)if($u(o)&&$u(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else Sn[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||SE(e[s]))&&r.push(s);r.length&&TE(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sn[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Sn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,c])=>{e.getValue(a).set(c)}),this.resolveNoneKeyframes()}}function DE(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const Bf=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function PE(t){return Gh(t)&&"offsetHeight"in t}const qu=30,BE=t=>!isNaN(parseFloat(t));class IE{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=wt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BE(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Yo);const r=this.events[e].add(n);return e==="change"?()=>{r(),Oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qu)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,qu);return Xh(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wn(t,e){return new IE(t,e)}const{schedule:ha}=cf(queueMicrotask,!1),Ft={x:!1,y:!1};function If(){return Ft.x||Ft.y}function ME(t){return t==="x"||t==="y"?Ft[t]?null:(Ft[t]=!0,()=>{Ft[t]=!1}):Ft.x||Ft.y?null:(Ft.x=Ft.y=!0,()=>{Ft.x=Ft.y=!1})}function Mf(t,e){const n=DE(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Gu(t){return!(t.pointerType==="touch"||If())}function OE(t,e,n={}){const[r,s,i]=Mf(t,n),o=a=>{if(!Gu(a))return;const{target:c}=a,u=e(c,a);if(typeof u!="function"||!c)return;const l=d=>{Gu(d)&&(u(d),c.removeEventListener("pointerleave",l))};c.addEventListener("pointerleave",l,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Of=(t,e)=>e?t===e?!0:Of(t,e.parentElement):!1,fa=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,FE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NE(t){return FE.has(t.tagName)||t.tabIndex!==-1}const Yr=new WeakSet;function Zu(t){return e=>{e.key==="Enter"&&t(e)}}function Ci(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const LE=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Zu(()=>{if(Yr.has(n))return;Ci(n,"down");const s=Zu(()=>{Ci(n,"up")}),i=()=>Ci(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Xu(t){return fa(t)&&!If()}function UE(t,e,n={}){const[r,s,i]=Mf(t,n),o=a=>{const c=a.currentTarget;if(!Xu(a))return;Yr.add(c);const u=e(c,a),l=(h,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Yr.has(c)&&Yr.delete(c),Xu(h)&&typeof u=="function"&&u(h,{success:g})},d=h=>{l(h,c===window||c===document||n.useGlobalTarget||Of(c,h.target))},f=h=>{l(h,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),PE(a)&&(a.addEventListener("focus",u=>LE(u,s)),!NE(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Ff(t){return Gh(t)&&"ownerSVGElement"in t}function zE(t){return Ff(t)&&t.tagName==="svg"}const ft=t=>!!(t&&t.getVelocity),$E=[...Rf,Ge,ln],VE=t=>$E.find(Tf(t)),Nf=be.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jE(t=!0){const e=be.useContext(Ko);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=be.useId();be.useEffect(()=>{if(t)return s(i)},[t]);const o=be.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Lf=be.createContext({strict:!1}),Yu={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kn={};for(const t in Yu)Kn[t]={isEnabled:e=>Yu[t].some(n=>!!e[n])};function HE(t){for(const e in t)Kn[e]={...Kn[e],...t[e]}}const WE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fs(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||WE.has(t)}let Uf=t=>!fs(t);function KE(t){typeof t=="function"&&(Uf=e=>e.startsWith("on")?!fs(e):t(e))}try{KE(require("@emotion/is-prop-valid").default)}catch{}function qE(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Uf(s)||n===!0&&fs(s)||!e&&!fs(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Ds=be.createContext({});function Ps(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _r(t){return typeof t=="string"||Array.isArray(t)}const pa=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ma=["initial",...pa];function Bs(t){return Ps(t.animate)||ma.some(e=>_r(t[e]))}function zf(t){return!!(Bs(t)||t.variants)}function GE(t,e){if(Bs(t)){const{initial:n,animate:r}=t;return{initial:n===!1||_r(n)?n:void 0,animate:_r(r)?r:void 0}}return t.inherit!==!1?e:{}}function ZE(t){const{initial:e,animate:n}=GE(t,be.useContext(Ds));return be.useMemo(()=>({initial:e,animate:n}),[Qu(e),Qu(n)])}function Qu(t){return Array.isArray(t)?t.join(" "):t}const kr={};function XE(t){for(const e in t)kr[e]=t[e],ea(e)&&(kr[e].isCSSVariable=!0)}function $f(t,{layout:e,layoutId:n}){return Yn.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!kr[t]||t==="opacity")}const YE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QE=Xn.length;function JE(t,e,n){let r="",s=!0;for(let i=0;i<QE;i++){const o=Xn[i],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=Bf(a,da[o]);if(!c){s=!1;const l=YE[o]||o;r+=`${l}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function ga(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const c in e){const u=e[c];if(Yn.has(c)){o=!0;continue}else if(ea(c)){s[c]=u;continue}else{const l=Bf(u,da[c]);c.startsWith("origin")?(a=!0,i[c]=l):r[c]=l}}if(e.transform||(o||n?r.transform=JE(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:l=0}=i;r.transformOrigin=`${c} ${u} ${l}`}}const ya=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vf(t,e,n){for(const r in e)!ft(e[r])&&!$f(r,n)&&(t[r]=e[r])}function eA({transformTemplate:t},e){return be.useMemo(()=>{const n=ya();return ga(n,e,t),Object.assign({},n.vars,n.style)},[e])}function tA(t,e){const n=t.style||{},r={};return Vf(r,n,t),Object.assign(r,eA(t,e)),r}function nA(t,e){const n={},r=tA(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const rA={offset:"stroke-dashoffset",array:"stroke-dasharray"},sA={offset:"strokeDashoffset",array:"strokeDasharray"};function iA(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?rA:sA;t[i.offset]=pe.transform(-r);const o=pe.transform(e),a=pe.transform(n);t[i.array]=`${o} ${a}`}function jf(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},c,u,l){if(ga(t,a,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=l?.transformBox??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&iA(d,s,i,o,!1)}const Hf=()=>({...ya(),attrs:{}}),Wf=t=>typeof t=="string"&&t.toLowerCase()==="svg";function oA(t,e,n,r){const s=be.useMemo(()=>{const i=Hf();return jf(i,e,Wf(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Vf(i,t.style,t),s.style={...i,...s.style}}return s}const aA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ba(t){return typeof t!="string"||t.includes("-")?!1:!!(aA.indexOf(t)>-1||/[A-Z]/u.test(t))}function cA(t,e,n,{latestValues:r},s,i=!1){const a=(ba(t)?oA:nA)(e,r,s,t),c=qE(e,typeof t=="string",i),u=t!==be.Fragment?{...c,...a,ref:n}:{},{children:l}=e,d=be.useMemo(()=>ft(l)?l.get():l,[l]);return be.createElement(t,{...u,children:d})}function Ju(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function wa(t,e,n,r){if(typeof e=="function"){const[s,i]=Ju(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Ju(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Qr(t){return ft(t)?t.get():t}function uA({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:lA(n,r,s,t),renderState:e()}}function lA(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=Qr(i[f]);let{initial:o,animate:a}=t;const c=Bs(t),u=zf(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let l=n?n.initial===!1:!1;l=l||o===!1;const d=l?a:o;if(d&&typeof d!="boolean"&&!Ps(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const g=wa(t,f[h]);if(g){const{transitionEnd:p,transition:b,...y}=g;for(const x in y){let S=y[x];if(Array.isArray(S)){const C=l?S.length-1:0;S=S[C]}S!==null&&(s[x]=S)}for(const x in p)s[x]=p[x]}}}return s}const Kf=t=>(e,n)=>{const r=be.useContext(Ds),s=be.useContext(Ko),i=()=>uA(t,e,r,s);return n?i():Hv(i)};function xa(t,e,n){const{style:r}=t,s={};for(const i in r)(ft(r[i])||e.style&&ft(e.style[i])||$f(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const dA=Kf({scrapeMotionValuesFromProps:xa,createRenderState:ya});function qf(t,e,n){const r=xa(t,e,n);for(const s in t)if(ft(t[s])||ft(e[s])){const i=Xn.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const hA=Kf({scrapeMotionValuesFromProps:qf,createRenderState:Hf}),fA=Symbol.for("motionComponentSymbol");function In(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pA(t,e,n){return be.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):In(n)&&(n.current=r))},[e])}const Sa=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mA="framerAppearId",Gf="data-"+Sa(mA),Zf=be.createContext({});function gA(t,e,n,r,s){const{visualElement:i}=be.useContext(Ds),o=be.useContext(Lf),a=be.useContext(Ko),c=be.useContext(Nf).reducedMotion,u=be.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const l=u.current,d=be.useContext(Zf);l&&!l.projection&&s&&(l.type==="html"||l.type==="svg")&&yA(u.current,n,s,d);const f=be.useRef(!1);be.useInsertionEffect(()=>{l&&f.current&&l.update(n,a)});const h=n[Gf],g=be.useRef(!!h&&!window.MotionHandoffIsComplete?.(h)&&window.MotionHasOptimisedAnimation?.(h));return Wv(()=>{l&&(f.current=!0,window.MotionIsMounted=!0,l.updateFeatures(),l.scheduleRenderMicrotask(),g.current&&l.animationState&&l.animationState.animateChanges())}),be.useEffect(()=>{l&&(!g.current&&l.animationState&&l.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(h)}),g.current=!1),l.enteringChildren=void 0)}),l}function yA(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:l}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Xf(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&In(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:l,layoutScroll:c,layoutRoot:u})}function Xf(t){if(t)return t.options.allowProjection!==!1?t.projection:Xf(t.parent)}function _i(t,{forwardMotionProps:e=!1}={},n,r){n&&HE(n);const s=ba(t)?hA:dA;function i(a,c){let u;const l={...be.useContext(Nf),...a,layoutId:bA(a)},{isStatic:d}=l,f=ZE(a),h=s(a,d);if(!d&&Wo){wA();const g=xA(l);u=g.MeasureLayout,f.visualElement=gA(t,h,l,r,g.ProjectionNode)}return Oi.jsxs(Ds.Provider,{value:f,children:[u&&f.visualElement?Oi.jsx(u,{visualElement:f.visualElement,...l}):null,cA(t,a,pA(h,f.visualElement,c),h,d,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=be.forwardRef(i);return o[fA]=t,o}function bA({layoutId:t}){const e=be.useContext(Kh).id;return e&&t!==void 0?e+"-"+t:t}function wA(t,e){be.useContext(Lf).strict}function xA(t){const{drag:e,layout:n}=Kn;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function SA(t,e){if(typeof Proxy>"u")return _i;const n=new Map,r=(i,o)=>_i(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,_i(o,void 0,t,e)),n.get(o))})}function Yf({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function vA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function EA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ki(t){return t===void 0||t===1}function ho({scale:t,scaleX:e,scaleY:n}){return!ki(t)||!ki(e)||!ki(n)}function gn(t){return ho(t)||Qf(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Qf(t){return el(t.x)||el(t.y)}function el(t){return t&&t!=="0%"}function ps(t,e,n){const r=t-n,s=e*r;return n+s}function tl(t,e,n,r,s){return s!==void 0&&(t=ps(t,s,r)),ps(t,n,r)+e}function fo(t,e=0,n=1,r,s){t.min=tl(t.min,e,n,r,s),t.max=tl(t.max,e,n,r,s)}function Jf(t,{x:e,y:n}){fo(t.x,e.translate,e.scale,e.originPoint),fo(t.y,n.translate,n.scale,n.originPoint)}const nl=.999999999999,rl=1.0000000000001;function AA(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&On(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Jf(t,o)),r&&gn(i.latestValues)&&On(t,i.latestValues))}e.x<rl&&e.x>nl&&(e.x=1),e.y<rl&&e.y>nl&&(e.y=1)}function Mn(t,e){t.min=t.min+e,t.max=t.max+e}function sl(t,e,n,r,s=.5){const i=Ne(t.min,t.max,s);fo(t,e,n,i,r)}function On(t,e){sl(t.x,e.x,e.scaleX,e.scale,e.originX),sl(t.y,e.y,e.scaleY,e.scale,e.originY)}function ep(t,e){return Yf(EA(t.getBoundingClientRect(),e))}function CA(t,e,n){const r=ep(t,n),{scroll:s}=e;return s&&(Mn(r.x,s.offset.x),Mn(r.y,s.offset.y)),r}const il=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fn=()=>({x:il(),y:il()}),ol=()=>({min:0,max:0}),He=()=>({x:ol(),y:ol()}),po={current:null},tp={current:!1};function _A(){if(tp.current=!0,!!Wo)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>po.current=t.matches;t.addEventListener("change",e),e()}else po.current=!1}const kA=new WeakMap;function TA(t,e,n){for(const r in e){const s=e[r],i=n[r];if(ft(s))t.addValue(r,s);else if(ft(i))t.addValue(r,Wn(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Wn(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const al=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class RA{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ua,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=wt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Oe.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Bs(n),this.isVariantNode=zf(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:l,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];c[f]!==void 0&&ft(h)&&h.set(c[f])}}mount(e){this.current=e,kA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),tp.current||_A(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:po.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),un(this.notifyUpdate),un(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Yn.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Oe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kn){const n=Kn[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<al.length;r++){const s=al[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=TA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wn(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(qh(r)||Zh(r))?r=parseFloat(r):!VE(r)&&ln.test(n)&&(r=Pf(e,n)),this.setBaseTarget(e,ft(r)?r.get():r)),ft(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=wa(this.props,n,this.presenceContext?.custom);i&&(r=i[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ft(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Yo),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ha.render(this.render)}}class np extends RA{constructor(){super(...arguments),this.KeyframeResolver=RE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ft(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rp(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s?.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function DA(t){return window.getComputedStyle(t)}class PA extends np{constructor(){super(...arguments),this.type="html",this.renderInstance=rp}readValueFromInstance(e,n){if(Yn.has(n))return this.projection?.isProjecting?so(n):G1(e,n);{const r=DA(e),s=(ea(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ep(e,n)}build(e,n,r){ga(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return xa(e,n,r)}}const sp=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BA(t,e,n,r){rp(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(sp.has(s)?s:Sa(s),e.attrs[s])}class IA extends np{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=He}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yn.has(n)){const r=Df(n);return r&&r.default||0}return n=sp.has(n)?n:Sa(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return qf(e,n,r)}build(e,n,r){jf(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){BA(e,n,r,s)}mount(e){this.isSVGTag=Wf(e.tagName),super.mount(e)}}const MA=(t,e)=>ba(t)?new IA(e):new PA(e,{allowProjection:t!==be.Fragment});function Un(t,e,n){const r=t.getProps();return wa(r,e,n!==void 0?n:r.custom,t)}const mo=t=>Array.isArray(t);function OA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wn(n))}function FA(t){return mo(t)?t[t.length-1]||0:t}function NA(t,e){const n=Un(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=FA(i[o]);OA(t,o,a)}}function LA(t){return!!(ft(t)&&t.add)}function go(t,e){const n=t.getValue("willChange");if(LA(n))return n.add(e);if(!n&&Xt.WillChange){const r=new Xt.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function ip(t){return t.props[Gf]}const UA=t=>t!==null;function zA(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(UA),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const $A={type:"spring",stiffness:500,damping:25,restSpeed:10},VA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jA={type:"keyframes",duration:.8},HA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WA=(t,{keyframes:e})=>e.length>2?jA:Yn.has(t)?t.startsWith("scale")?VA(e[1]):$A:HA;function KA({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:u,...l}){return!!Object.keys(l).length}const va=(t,e,n,r={},s,i)=>o=>{const a=la(r,t)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ht(c);const l={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};KA(a)||Object.assign(l,WA(t,l)),l.duration&&(l.duration=Ht(l.duration)),l.repeatDelay&&(l.repeatDelay=Ht(l.repeatDelay)),l.from!==void 0&&(l.keyframes[0]=l.from);let d=!1;if((l.type===!1||l.duration===0&&!l.repeatDelay)&&(uo(l),l.delay===0&&(d=!0)),(Xt.instantAnimations||Xt.skipAnimations)&&(d=!0,uo(l),l.delay=0),l.allowFlatten=!a.type&&!a.ease,d&&!i&&e.get()!==void 0){const f=zA(l.keyframes,a);if(f!==void 0){Oe.update(()=>{l.onUpdate(f),l.onComplete()});return}}return a.isSync?new ca(l):new yE(l)};function qA({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function op(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const l in a){const d=t.getValue(l,t.latestValues[l]??null),f=a[l];if(f===void 0||u&&qA(u,l))continue;const h={delay:n,...la(i||{},l)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===g&&!h.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=ip(t);if(y){const x=window.MotionHandoffAnimation(y,l,Oe);x!==null&&(h.startTime=x,p=!0)}}go(t,l),d.start(va(l,d,f,t.shouldReduceMotion&&kf.has(l)?{type:!1}:h,t,p));const b=d.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{Oe.update(()=>{o&&NA(t,o)})}),c}function ap(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,l)=>u.sortNodePosition(l)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function yo(t,e,n={}){const r=Un(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(op(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:l,staggerDirection:d}=s;return GA(t,e,c,u,l,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function GA(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),a.push(yo(c,e,{...o,delay:n+(typeof r=="function"?0:r)+ap(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(a)}function ZA(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>yo(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=yo(t,e,n);else{const s=typeof e=="function"?Un(t,e,n.custom):e;r=Promise.all(op(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function cp(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const XA=ma.length;function up(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?up(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<XA;n++){const r=ma[n],s=t.props[r];(_r(s)||s===!1)&&(e[r]=s)}return e}const YA=[...pa].reverse(),QA=pa.length;function JA(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ZA(t,n,r)))}function eC(t){let e=JA(t),n=cl(),r=!0;const s=c=>(u,l)=>{const d=Un(t,l,c==="exit"?t.presenceContext?.custom:void 0);if(d){const{transition:f,transitionEnd:h,...g}=d;u={...u,...g,...h}}return u};function i(c){e=c(t)}function o(c){const{props:u}=t,l=up(t.parent)||{},d=[],f=new Set;let h={},g=1/0;for(let b=0;b<QA;b++){const y=YA[b],x=n[y],S=u[y]!==void 0?u[y]:l[y],C=_r(S),_=y===c?x.isActive:null;_===!1&&(g=b);let I=S===l[y]&&S!==u[y]&&C;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),x.protectedKeys={...h},!x.isActive&&_===null||!S&&!x.prevProp||Ps(S)||typeof S=="boolean")continue;const O=tC(x.prevProp,S);let L=O||y===c&&x.isActive&&!I&&C||b>g&&C,F=!1;const Z=Array.isArray(S)?S:[S];let ce=Z.reduce(s(y),{});_===!1&&(ce={});const{prevResolvedValues:T={}}=x,V={...T,...ce},w=K=>{L=!0,f.has(K)&&(F=!0,f.delete(K)),x.needsAnimating[K]=!0;const de=t.getValue(K);de&&(de.liveStyle=!1)};for(const K in V){const de=ce[K],X=T[K];if(h.hasOwnProperty(K))continue;let ue=!1;mo(de)&&mo(X)?ue=!cp(de,X):ue=de!==X,ue?de!=null?w(K):f.add(K):de!==void 0&&f.has(K)?w(K):x.protectedKeys[K]=!0}x.prevProp=S,x.prevResolvedValues=ce,x.isActive&&(h={...h,...ce}),r&&t.blockInitialAnimation&&(L=!1);const W=I&&O;L&&(!W||F)&&d.push(...Z.map(K=>{const de={type:y};if(typeof K=="string"&&r&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,ue=Un(X,K);if(X.enteringChildren&&ue){const{delayChildren:N}=ue.transition||{};de.delay=ap(X.enteringChildren,t,N)}}return{animation:K,options:de}}))}if(f.size){const b={};if(typeof u.initial!="boolean"){const y=Un(t,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(b.transition=y.transition)}f.forEach(y=>{const x=t.getBaseTarget(y),S=t.getValue(y);S&&(S.liveStyle=!0),b[y]=x??null}),d.push({animation:b})}let p=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(p=!1),r=!1,p?e(d):Promise.resolve()}function a(c,u){if(n[c].isActive===u)return Promise.resolve();t.variantChildren?.forEach(d=>d.animationState?.setActive(c,u)),n[c].isActive=u;const l=o(c);for(const d in n)n[d].protectedKeys={};return l}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=cl()}}}function tC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cp(e,t):!1}function pn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cl(){return{animate:pn(!0),whileInView:pn(),whileHover:pn(),whileTap:pn(),whileDrag:pn(),whileFocus:pn(),exit:pn()}}class hn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nC extends hn{constructor(e){super(e),e.animationState||(e.animationState=eC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ps(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let rC=0;class sC extends hn{constructor(){super(...arguments),this.id=rC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const iC={animation:{Feature:nC},exit:{Feature:sC}};function Tr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Mr(t){return{point:{x:t.pageX,y:t.pageY}}}const oC=t=>e=>fa(e)&&t(e,Mr(e));function gr(t,e,n,r){return Tr(t,e,oC(n),r)}const lp=1e-4,aC=1-lp,cC=1+lp,dp=.01,uC=0-dp,lC=0+dp;function mt(t){return t.max-t.min}function dC(t,e,n){return Math.abs(t-e)<=n}function ul(t,e,n,r=.5){t.origin=r,t.originPoint=Ne(e.min,e.max,t.origin),t.scale=mt(n)/mt(e),t.translate=Ne(n.min,n.max,t.origin)-t.originPoint,(t.scale>=aC&&t.scale<=cC||isNaN(t.scale))&&(t.scale=1),(t.translate>=uC&&t.translate<=lC||isNaN(t.translate))&&(t.translate=0)}function yr(t,e,n,r){ul(t.x,e.x,n.x,r?r.originX:void 0),ul(t.y,e.y,n.y,r?r.originY:void 0)}function ll(t,e,n){t.min=n.min+e.min,t.max=t.min+mt(e)}function hC(t,e,n){ll(t.x,e.x,n.x),ll(t.y,e.y,n.y)}function dl(t,e,n){t.min=e.min-n.min,t.max=t.min+mt(e)}function br(t,e,n){dl(t.x,e.x,n.x),dl(t.y,e.y,n.y)}function Dt(t){return[t("x"),t("y")]}const hp=({current:t})=>t?t.ownerDocument.defaultView:null,hl=(t,e)=>Math.abs(t-e);function fC(t,e){const n=hl(t.x,e.x),r=hl(t.y,e.y);return Math.sqrt(n**2+r**2)}class fp{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ri(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=fC(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!g)return;const{point:p}=f,{timestamp:b}=it;this.history.push({...p,timestamp:b});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ti(h,this.transformPagePoint),Oe.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:g,onSessionEnd:p,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Ri(f.type==="pointercancel"?this.lastMoveEventInfo:Ti(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,y),p&&p(f,y)},!fa(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Mr(e),c=Ti(a,this.transformPagePoint),{point:u}=c,{timestamp:l}=it;this.history=[{...u,timestamp:l}];const{onSessionStart:d}=n;d&&d(e,Ri(c,this.history)),this.removeListeners=Pr(gr(this.contextWindow,"pointermove",this.handlePointerMove),gr(this.contextWindow,"pointerup",this.handlePointerUp),gr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),un(this.updatePoint)}}function Ti(t,e){return e?{point:e(t.point)}:t}function fl(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ri({point:t},e){return{point:t,delta:fl(t,pp(e)),offset:fl(t,pC(e)),velocity:mC(e,.1)}}function pC(t){return t[0]}function pp(t){return t[t.length-1]}function mC(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=pp(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ht(e)));)n--;if(!r)return{x:0,y:0};const i=It(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gC(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ne(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ne(n,t,r.max):Math.min(t,n)),t}function pl(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function yC(t,{top:e,left:n,bottom:r,right:s}){return{x:pl(t.x,n,s),y:pl(t.y,e,r)}}function ml(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function bC(t,e){return{x:ml(t.x,e.x),y:ml(t.y,e.y)}}function wC(t,e){let n=.5;const r=mt(t),s=mt(e);return s>r?n=Er(e.min,e.max-r,t.min):r>s&&(n=Er(t.min,t.max-s,e.min)),Zt(0,1,n)}function xC(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const bo=.35;function SC(t=bo){return t===!1?t=0:t===!0&&(t=bo),{x:gl(t,"left","right"),y:gl(t,"top","bottom")}}function gl(t,e,n){return{min:yl(t,e),max:yl(t,n)}}function yl(t,e){return typeof t=="number"?t:t[e]||0}const vC=new WeakMap;class EC{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Mr(d).point)},o=(d,f)=>{const{drag:h,dragPropagation:g,onDragStart:p}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ME(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dt(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Wt.test(x)){const{projection:S}=this.visualElement;if(S&&S.layout){const C=S.layout.layoutBox[y];C&&(x=mt(C)*(parseFloat(x)/100))}}this.originPoint[y]=x}),p&&Oe.postRender(()=>p(d,f)),go(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:p,onDrag:b}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(g&&this.currentDirection===null){this.currentDirection=AC(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),b&&b(d,f)},c=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Dt(d=>this.getAnimationState(d)==="paused"&&this.getAxisMotionValue(d).animation?.play()),{dragSnapToOrigin:l}=this.getProps();this.panSession=new fp(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,distanceThreshold:r,contextWindow:hp(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Oe.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Kr(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=gC(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&In(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=yC(r.layoutBox,e):this.constraints=!1,this.elastic=SC(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Dt(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=xC(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!In(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=CA(r,s.root,this.visualElement.getTransformPagePoint());let o=bC(s.layout.layoutBox,i);if(n){const a=n(vA(o));this.hasMutatedConstraints=!!a,a&&(o=Yf(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Dt(l=>{if(!Kr(l,n,this.currentDirection))return;let d=c&&c[l]||{};o&&(d={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,g={type:"inertia",velocity:r?e[l]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(l,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return go(this.visualElement,e),r.start(va(e,r,0,n,this.visualElement,!1))}stopAnimation(){Dt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dt(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Dt(n=>{const{drag:r}=this.getProps();if(!Kr(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ne(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!In(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Dt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();s[o]=wC({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Dt(o=>{if(!Kr(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(Ne(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;vC.set(this.visualElement,this);const e=this.visualElement.current,n=gr(e,"pointerdown",c=>{const{drag:u,dragListener:l=!0}=this.getProps();u&&l&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();In(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Oe.read(r);const o=Tr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Dt(l=>{const d=this.getAxisMotionValue(l);d&&(this.originPoint[l]+=c[l].translate,d.set(d.get()+c[l].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=bo,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Kr(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function AC(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class CC extends hn{constructor(e){super(e),this.removeGroupControls=Mt,this.removeListeners=Mt,this.controls=new EC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mt}unmount(){this.removeGroupControls(),this.removeListeners()}}const bl=t=>(e,n)=>{t&&Oe.postRender(()=>t(e,n))};class _C extends hn{constructor(){super(...arguments),this.removePointerDownListener=Mt}onPointerDown(e){this.session=new fp(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hp(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:bl(e),onStart:bl(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Oe.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=gr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wl(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sr={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(pe.test(t))t=parseFloat(t);else return t;const n=wl(t,e.target.x),r=wl(t,e.target.y);return`${n}% ${r}%`}},kC={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ln.parse(t);if(s.length>5)return r;const i=ln.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=c;const u=Ne(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let Di=!1;class TC extends be.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;XE(RC),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Di&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Jr.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Di=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Oe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ha.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Di=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mp(t){const[e,n]=jE(),r=be.useContext(Kh);return Oi.jsx(TC,{...t,layoutGroup:r,switchLayoutGroup:be.useContext(Zf),isPresent:e,safeToRemove:n})}const RC={borderRadius:{...sr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sr,borderTopRightRadius:sr,borderBottomLeftRadius:sr,borderBottomRightRadius:sr,boxShadow:kC};function DC(t,e,n){const r=ft(t)?t:Wn(t);return r.start(va("",r,e,n)),r.animation}const PC=(t,e)=>t.depth-e.depth;class BC{constructor(){this.children=[],this.isDirty=!1}add(e){qo(this.children,e),this.isDirty=!0}remove(e){Go(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(PC),this.isDirty=!1,this.children.forEach(e)}}function IC(t,e){const n=wt.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(un(r),t(i-e))};return Oe.setup(r,!0),()=>un(r)}const gp=["TopLeft","TopRight","BottomLeft","BottomRight"],MC=gp.length,xl=t=>typeof t=="string"?parseFloat(t):t,Sl=t=>typeof t=="number"||pe.test(t);function OC(t,e,n,r,s,i){s?(t.opacity=Ne(0,n.opacity??1,FC(r)),t.opacityExit=Ne(e.opacity??1,0,NC(r))):i&&(t.opacity=Ne(e.opacity??1,n.opacity??1,r));for(let o=0;o<MC;o++){const a=`border${gp[o]}Radius`;let c=vl(e,a),u=vl(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Sl(c)===Sl(u)?(t[a]=Math.max(Ne(xl(c),xl(u),r),0),(Wt.test(u)||Wt.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ne(e.rotate||0,n.rotate||0,r))}function vl(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const FC=yp(0,.5,rf),NC=yp(.5,.95,Mt);function yp(t,e,n){return r=>r<t?0:r>e?1:n(Er(t,e,r))}function El(t,e){t.min=e.min,t.max=e.max}function Rt(t,e){El(t.x,e.x),El(t.y,e.y)}function Al(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Cl(t,e,n,r,s){return t-=e,t=ps(t,1/n,r),s!==void 0&&(t=ps(t,1/s,r)),t}function LC(t,e=0,n=1,r=.5,s,i=t,o=t){if(Wt.test(e)&&(e=parseFloat(e),e=Ne(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ne(i.min,i.max,r);t===i&&(a-=e),t.min=Cl(t.min,e,n,a,s),t.max=Cl(t.max,e,n,a,s)}function _l(t,e,[n,r,s],i,o){LC(t,e[n],e[r],e[s],e.scale,i,o)}const UC=["x","scaleX","originX"],zC=["y","scaleY","originY"];function kl(t,e,n,r){_l(t.x,e,UC,n?n.x:void 0,r?r.x:void 0),_l(t.y,e,zC,n?n.y:void 0,r?r.y:void 0)}function Tl(t){return t.translate===0&&t.scale===1}function bp(t){return Tl(t.x)&&Tl(t.y)}function Rl(t,e){return t.min===e.min&&t.max===e.max}function $C(t,e){return Rl(t.x,e.x)&&Rl(t.y,e.y)}function Dl(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function wp(t,e){return Dl(t.x,e.x)&&Dl(t.y,e.y)}function Pl(t){return mt(t.x)/mt(t.y)}function Bl(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class VC{constructor(){this.members=[]}add(e){qo(this.members,e),e.scheduleRender()}remove(e){if(Go(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jC(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=n?.z||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:l,rotateX:d,rotateY:f,skewX:h,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),l&&(r+=`rotate(${l}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const Pi=["","X","Y","Z"],HC=1e3;let WC=0;function Bi(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function xp(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ip(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Oe,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&xp(r)}function Sp({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e?.()){this.id=WC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GC),this.nodes.forEach(QC),this.nodes.forEach(JC),this.nodes.forEach(ZC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new BC)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Yo),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ff(o)&&!zE(o),this.instance=o;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let l,d=0;const f=()=>this.root.updateBlockedByResize=!1;Oe.read(()=>{d=window.innerWidth}),t(o,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,l&&l(),l=IC(f,250),Jr.hasAnimatedSinceResize&&(Jr.hasAnimatedSinceResize=!1,this.nodes.forEach(Ol)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||s2,{onLayoutAnimationStart:p,onLayoutAnimationComplete:b}=u.getProps(),y=!this.targetLayout||!wp(this.targetLayout,h),x=!d&&f;if(this.options.layoutRoot||this.resumeFrom||x||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...la(g,"layout"),onPlay:p,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(l,x)}else d||Ol(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),un(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(e2),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xp(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let l=0;l<this.path.length;l++){const d=this.path[l];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Il);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ml);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YC),this.nodes.forEach(KC),this.nodes.forEach(qC)):this.nodes.forEach(Ml),this.clearAllSnapshots();const a=wt.now();it.delta=Zt(0,1e3/60,a-it.timestamp),it.timestamp=a,it.isProcessing=!0,xi.update.process(it),xi.preRender.process(it),xi.render.process(it),it.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ha.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XC),this.sharedNodes.forEach(t2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mt(this.snapshot.measuredBox.x)&&!mt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!bp(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,l=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||gn(this.latestValues)||l)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),i2(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return He();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(o2))){const{scroll:u}=this.root;u&&(Mn(a.x,u.offset.x),Mn(a.y,u.offset.y))}return a}removeElementScroll(o){const a=He();if(Rt(a,o),this.scroll?.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:l,options:d}=u;u!==this.root&&l&&d.layoutScroll&&(l.wasRoot&&Rt(a,o),Mn(a.x,l.offset.x),Mn(a.y,l.offset.y))}return a}applyTransform(o,a=!1){const c=He();Rt(c,o);for(let u=0;u<this.path.length;u++){const l=this.path[u];!a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&On(c,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),gn(l.latestValues)&&On(c,l.latestValues)}return gn(this.latestValues)&&On(c,this.latestValues),c}removeTransform(o){const a=He();Rt(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!gn(u.latestValues))continue;ho(u.latestValues)&&u.updateSnapshot();const l=He(),d=u.measurePageBox();Rt(l,d),kl(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,l)}return gn(this.latestValues)&&kl(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==it.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:l,layoutId:d}=this.options;if(!(!this.layout||!(l||d))){if(this.resolvedRelativeTargetAt=it.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),br(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rt(this.target,this.layout.layoutBox),Jf(this.target,this.targetDelta)):Rt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),br(this.relativeTargetOrigin,this.target,f.target),Rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ho(this.parent.latestValues)||Qf(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===it.timestamp&&(c=!1),c)return;const{layout:u,layoutId:l}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||l))return;Rt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;AA(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=He());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Al(this.prevProjectionDelta.x,this.projectionDelta.x),Al(this.prevProjectionDelta.y,this.projectionDelta.y)),yr(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!Bl(this.projectionDelta.x,this.prevProjectionDelta.x)||!Bl(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fn(),this.projectionDelta=Fn(),this.projectionDeltaWithTransform=Fn()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},l={...this.latestValues},d=Fn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=He(),h=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=h!==g,b=this.getStack(),y=!b||b.members.length<=1,x=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(r2));this.animationProgress=0;let S;this.mixTargetDelta=C=>{const _=C/1e3;Fl(d.x,o.x,_),Fl(d.y,o.y,_),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(br(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n2(this.relativeTarget,this.relativeTargetOrigin,f,_),S&&$C(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=He()),Rt(S,this.relativeTarget)),p&&(this.animationValues=l,OC(l,u,this.latestValues,_,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(un(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oe.update(()=>{Jr.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wn(0)),this.currentAnimation=DC(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:l}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&vp(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||He();const d=mt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const f=mt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Rt(a,c),On(a,l),yr(this.projectionDeltaWithTransform,this.layoutCorrected,a,l)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new VC),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&Bi("z",o,u,this.animationValues);for(let l=0;l<Pi.length;l++)Bi(`rotate${Pi[l]}`,o,u,this.animationValues),Bi(`skew${Pi[l]}`,o,u,this.animationValues);o.render();for(const l in u)o.setStaticValue(l,u[l]),this.animationValues&&(this.animationValues[l]=u[l]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Qr(a?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Qr(a?.pointerEvents)||""),this.hasProjected&&!gn(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const l=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=jC(this.projectionDeltaWithTransform,this.treeScale,l);c&&(d=c(l,d)),o.transform=d;const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,u.animationValues?o.opacity=u===this?l.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:l.opacityExit:o.opacity=u===this?l.opacity!==void 0?l.opacity:"":l.opacityExit!==void 0?l.opacityExit:0;for(const g in kr){if(l[g]===void 0)continue;const{correct:p,applyTo:b,isCSSVariable:y}=kr[g],x=d==="none"?l[g]:p(l[g],u);if(b){const S=b.length;for(let C=0;C<S;C++)o[b[C]]=x}else y?this.options.visualElement.renderState.vars[g]=x:o[g]=x}this.options.layoutId&&(o.pointerEvents=u===this?Qr(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(Il),this.root.sharedNodes.clear()}}}function KC(t){t.updateLayout()}function qC(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?Dt(l=>{const d=i?e.measuredBox[l]:e.layoutBox[l],f=mt(d);d.min=n[l].min,d.max=d.min+f}):vp(s,e.layoutBox,n)&&Dt(l=>{const d=i?e.measuredBox[l]:e.layoutBox[l],f=mt(n[l]);d.max=d.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[l].max=t.relativeTarget[l].min+f)});const o=Fn();yr(o,n,e.layoutBox);const a=Fn();i?yr(a,t.applyTransform(r,!0),e.measuredBox):yr(a,n,e.layoutBox);const c=!bp(o);let u=!1;if(!t.resumeFrom){const l=t.getClosestProjectingParent();if(l&&!l.resumeFrom){const{snapshot:d,layout:f}=l;if(d&&f){const h=He();br(h,e.layoutBox,d.layoutBox);const g=He();br(g,n,f.layoutBox),wp(h,g)||(u=!0),l.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=h,t.relativeParent=l)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:a,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function GC(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ZC(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function XC(t){t.clearSnapshot()}function Il(t){t.clearMeasurements()}function Ml(t){t.isLayoutDirty=!1}function YC(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ol(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function QC(t){t.resolveTargetDelta()}function JC(t){t.calcProjection()}function e2(t){t.resetSkewAndRotation()}function t2(t){t.removeLeadSnapshot()}function Fl(t,e,n){t.translate=Ne(e.translate,0,n),t.scale=Ne(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Nl(t,e,n,r){t.min=Ne(e.min,n.min,r),t.max=Ne(e.max,n.max,r)}function n2(t,e,n,r){Nl(t.x,e.x,n.x,r),Nl(t.y,e.y,n.y,r)}function r2(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const s2={duration:.45,ease:[.4,0,.1,1]},Ll=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ul=Ll("applewebkit/")&&!Ll("chrome/")?Math.round:Mt;function zl(t){t.min=Ul(t.min),t.max=Ul(t.max)}function i2(t){zl(t.x),zl(t.y)}function vp(t,e,n){return t==="position"||t==="preserve-aspect"&&!dC(Pl(e),Pl(n),.2)}function o2(t){return t!==t.root&&t.scroll?.wasRoot}const a2=Sp({attachResizeListener:(t,e)=>Tr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ii={current:void 0},Ep=Sp({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ii.current){const t=new a2({});t.mount(window),t.setOptions({layoutScroll:!0}),Ii.current=t}return Ii.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),c2={pan:{Feature:_C},drag:{Feature:CC,ProjectionNode:Ep,MeasureLayout:mp}};function $l(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Oe.postRender(()=>i(e,Mr(e)))}class u2 extends hn{mount(){const{current:e}=this.node;e&&(this.unmount=OE(e,(n,r)=>($l(this.node,r,"Start"),s=>$l(this.node,s,"End"))))}unmount(){}}class l2 extends hn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pr(Tr(this.node.current,"focus",()=>this.onFocus()),Tr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Vl(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Oe.postRender(()=>i(e,Mr(e)))}class d2 extends hn{mount(){const{current:e}=this.node;e&&(this.unmount=UE(e,(n,r)=>(Vl(this.node,r,"Start"),(s,{success:i})=>Vl(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wo=new WeakMap,Mi=new WeakMap,h2=t=>{const e=wo.get(t.target);e&&e(t)},f2=t=>{t.forEach(h2)};function p2({root:t,...e}){const n=t||document;Mi.has(n)||Mi.set(n,{});const r=Mi.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(f2,{root:t,...e})),r[s]}function m2(t,e,n){const r=p2(e);return wo.set(t,n),r.observe(t),()=>{wo.delete(t),r.unobserve(t)}}const g2={some:0,all:1};class y2 extends hn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:g2[s]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:l,onViewportLeave:d}=this.node.getProps(),f=u?l:d;f&&f(c)};return m2(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(b2(e,n))&&this.startObserver()}unmount(){}}function b2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const w2={inView:{Feature:y2},tap:{Feature:d2},focus:{Feature:l2},hover:{Feature:u2}},x2={layout:{ProjectionNode:Ep,MeasureLayout:mp}},S2={...iC,...w2,...c2,...x2},F2=SA(S2,MA),Ea="https://ngoc-tieu-cac-public.s3.ap-southeast-1.amazonaws.com";function N2(t){return`${Ea}/${t}/banner.webp`}function L2(t){return`${Ea}/${t}/banner-small.webp`}function U2(t){return`${Ea}/user-avatar/${t}.webp`}export{Kh as L,Nf as M,Ko as P,A2 as _,P2 as a,R2 as b,_2 as c,D2 as d,qa as e,T2 as f,N2 as g,U2 as h,k2 as i,L2 as j,B2 as k,PE as l,F2 as m,Hv as n,jE as o,Wv as p,on as q,M2 as s,Gn as t,I2 as u};
