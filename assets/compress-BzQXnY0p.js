var A=Uint8Array,N=Uint16Array,Ar=Int32Array,or=new A([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tr=new A([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sr=new A([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Er=function(r,e){for(var n=new N(31),a=0;a<31;++a)n[a]=e+=1<<r[a-1];for(var f=new Ar(n[30]),a=1;a<30;++a)for(var v=n[a];v<n[a+1];++v)f[v]=v-n[a]<<5|a;return{b:n,r:f}},Ur=Er(or,2),Dr=Ur.b,xr=Ur.r;Dr[28]=258,xr[258]=28;var Br=Er(tr,0),$r=Br.b,Sr=Br.r,yr=new N(32768);for(var g=0;g<32768;++g){var j=(g&43690)>>1|(g&21845)<<1;j=(j&52428)>>2|(j&13107)<<2,j=(j&61680)>>4|(j&3855)<<4,yr[g]=((j&65280)>>8|(j&255)<<8)>>1}var W=(function(r,e,n){for(var a=r.length,f=0,v=new N(e);f<a;++f)r[f]&&++v[r[f]-1];var o=new N(e);for(f=1;f<e;++f)o[f]=o[f-1]+v[f-1]<<1;var h;if(n){h=new N(1<<e);var t=15-e;for(f=0;f<a;++f)if(r[f])for(var x=f<<4|r[f],i=e-r[f],l=o[r[f]-1]++<<i,c=l|(1<<i)-1;l<=c;++l)h[yr[l]>>t]=x}else for(h=new N(a),f=0;f<a;++f)r[f]&&(h[f]=yr[o[r[f]-1]++]>>15-r[f]);return h}),L=new A(288);for(var g=0;g<144;++g)L[g]=8;for(var g=144;g<256;++g)L[g]=9;for(var g=256;g<280;++g)L[g]=7;for(var g=280;g<288;++g)L[g]=8;var vr=new A(32);for(var g=0;g<32;++g)vr[g]=5;var Gr=W(L,9,0),Hr=W(L,9,1),Jr=W(vr,5,0),Nr=W(vr,5,1),hr=function(r){for(var e=r[0],n=1;n<r.length;++n)r[n]>e&&(e=r[n]);return e},R=function(r,e,n){var a=e/8|0;return(r[a]|r[a+1]<<8)>>(e&7)&n},wr=function(r,e){var n=e/8|0;return(r[n]|r[n+1]<<8|r[n+2]<<16)>>(e&7)},Tr=function(r){return(r+7)/8|0},ur=function(r,e,n){return(e==null||e<0)&&(e=0),(n==null||n>r.length)&&(n=r.length),new A(r.subarray(e,n))},Pr=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],O=function(r,e,n){var a=new Error(e||Pr[r]);if(a.code=r,Error.captureStackTrace&&Error.captureStackTrace(a,O),!n)throw a;return a},kr=function(r,e,n,a){var f=r.length,v=0;if(!f||e.f&&!e.l)return n||new A(0);var o=!n,h=o||e.i!=2,t=e.i;o&&(n=new A(f*3));var x=function(er){var nr=n.length;if(er>nr){var d=new A(Math.max(nr*2,er));d.set(n),n=d}},i=e.f||0,l=e.p||0,c=e.b||0,s=e.l,m=e.d,y=e.m,I=e.n,Q=f*8;do{if(!s){i=R(r,l,1);var $=R(r,l+1,3);if(l+=3,$)if($==1)s=Hr,m=Nr,y=9,I=5;else if($==2){var B=R(r,l,31)+257,k=R(r,l+10,15)+4,w=B+R(r,l+5,31)+1;l+=14;for(var u=new A(w),S=new A(19),z=0;z<k;++z)S[sr[z]]=R(r,l+z*3,7);l+=k*3;for(var U=hr(S),Z=(1<<U)-1,G=W(S,U,1),z=0;z<w;){var q=G[R(r,l,Z)];l+=q&15;var T=q>>4;if(T<16)u[z++]=T;else{var F=0,M=0;for(T==16?(M=3+R(r,l,3),l+=2,F=u[z-1]):T==17?(M=3+R(r,l,7),l+=3):T==18&&(M=11+R(r,l,127),l+=7);M--;)u[z++]=F}}var K=u.subarray(0,B),b=u.subarray(B);y=hr(K),I=hr(b),s=W(K,y,1),m=W(b,I,1)}else O(1);else{var T=Tr(l)+4,D=r[T-4]|r[T-3]<<8,E=T+D;if(E>f){t&&O(0);break}h&&x(c+D),n.set(r.subarray(T,E),c),e.b=c+=D,e.p=l=E*8,e.f=i;continue}if(l>Q){t&&O(0);break}}h&&x(c+131072);for(var rr=(1<<y)-1,P=(1<<I)-1,X=l;;X=l){var F=s[wr(r,l)&rr],H=F>>4;if(l+=F&15,l>Q){t&&O(0);break}if(F||O(2),H<256)n[c++]=H;else if(H==256){X=l,s=null;break}else{var J=H-254;if(H>264){var z=H-257,C=or[z];J=R(r,l,(1<<C)-1)+Dr[z],l+=C}var V=m[wr(r,l)&P],_=V>>4;V||O(3),l+=V&15;var b=$r[_];if(_>3){var C=tr[_];b+=wr(r,l)&(1<<C)-1,l+=C}if(l>Q){t&&O(0);break}h&&x(c+131072);var p=c+J;if(c<b){var ir=v-b,lr=Math.min(b,p);for(ir+c<0&&O(3);c<lr;++c)n[c]=a[ir+c]}for(;c<p;++c)n[c]=n[c-b]}}e.l=s,e.p=X,e.b=c,e.f=i,s&&(i=1,e.m=y,e.d=m,e.n=I)}while(!i);return c!=n.length&&o?ur(n,0,c):n.subarray(0,c)},Y=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8},ar=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8,r[a+2]|=n>>16},gr=function(r,e){for(var n=[],a=0;a<r.length;++a)r[a]&&n.push({s:a,f:r[a]});var f=n.length,v=n.slice();if(!f)return{t:qr,l:0};if(f==1){var o=new A(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(E,B){return E.f-B.f}),n.push({s:-1,f:25001});var h=n[0],t=n[1],x=0,i=1,l=2;for(n[0]={s:-1,f:h.f+t.f,l:h,r:t};i!=f-1;)h=n[n[x].f<n[l].f?x++:l++],t=n[x!=i&&n[x].f<n[l].f?x++:l++],n[i++]={s:-1,f:h.f+t.f,l:h,r:t};for(var c=v[0].s,a=1;a<f;++a)v[a].s>c&&(c=v[a].s);var s=new N(c+1),m=Mr(n[i-1],s,0);if(m>e){var a=0,y=0,I=m-e,Q=1<<I;for(v.sort(function(B,k){return s[k.s]-s[B.s]||B.f-k.f});a<f;++a){var $=v[a].s;if(s[$]>e)y+=Q-(1<<m-s[$]),s[$]=e;else break}for(y>>=I;y>0;){var T=v[a].s;s[T]<e?y-=1<<e-s[T]++-1:++a}for(;a>=0&&y;--a){var D=v[a].s;s[D]==e&&(--s[D],++y)}m=e}return{t:new A(s),l:m}},Mr=function(r,e,n){return r.s==-1?Math.max(Mr(r.l,e,n+1),Mr(r.r,e,n+1)):e[r.s]=n},Fr=function(r){for(var e=r.length;e&&!r[--e];);for(var n=new N(++e),a=0,f=r[0],v=1,o=function(t){n[a++]=t},h=1;h<=e;++h)if(r[h]==f&&h!=e)++v;else{if(!f&&v>2){for(;v>138;v-=138)o(32754);v>2&&(o(v>10?v-11<<5|28690:v-3<<5|12305),v=0)}else if(v>3){for(o(f),--v;v>6;v-=6)o(8304);v>2&&(o(v-3<<5|8208),v=0)}for(;v--;)o(f);v=1,f=r[h]}return{c:n.subarray(0,a),n:e}},fr=function(r,e){for(var n=0,a=0;a<e.length;++a)n+=r[a]*e[a];return n},Ir=function(r,e,n){var a=n.length,f=Tr(e+2);r[f]=a&255,r[f+1]=a>>8,r[f+2]=r[f]^255,r[f+3]=r[f+1]^255;for(var v=0;v<a;++v)r[f+v+4]=n[v];return(f+4+a)*8},br=function(r,e,n,a,f,v,o,h,t,x,i){Y(e,i++,n),++f[256];for(var l=gr(f,15),c=l.t,s=l.l,m=gr(v,15),y=m.t,I=m.l,Q=Fr(c),$=Q.c,T=Q.n,D=Fr(y),E=D.c,B=D.n,k=new N(19),w=0;w<$.length;++w)++k[$[w]&31];for(var w=0;w<E.length;++w)++k[E[w]&31];for(var u=gr(k,7),S=u.t,z=u.l,U=19;U>4&&!S[sr[U-1]];--U);var Z=x+5<<3,G=fr(f,L)+fr(v,vr)+o,q=fr(f,c)+fr(v,y)+o+14+3*U+fr(k,S)+2*k[16]+3*k[17]+7*k[18];if(t>=0&&Z<=G&&Z<=q)return Ir(e,i,r.subarray(t,t+x));var F,M,K,b;if(Y(e,i,1+(q<G)),i+=2,q<G){F=W(c,s,0),M=c,K=W(y,I,0),b=y;var rr=W(S,z,0);Y(e,i,T-257),Y(e,i+5,B-1),Y(e,i+10,U-4),i+=14;for(var w=0;w<U;++w)Y(e,i+3*w,S[sr[w]]);i+=3*U;for(var P=[$,E],X=0;X<2;++X)for(var H=P[X],w=0;w<H.length;++w){var J=H[w]&31;Y(e,i,rr[J]),i+=S[J],J>15&&(Y(e,i,H[w]>>5&127),i+=H[w]>>12)}}else F=Gr,M=L,K=Jr,b=vr;for(var w=0;w<h;++w){var C=a[w];if(C>255){var J=C>>18&31;ar(e,i,F[J+257]),i+=M[J+257],J>7&&(Y(e,i,C>>23&31),i+=or[J]);var V=C&31;ar(e,i,K[V]),i+=b[V],V>3&&(ar(e,i,C>>5&8191),i+=tr[V])}else ar(e,i,F[C]),i+=M[C]}return ar(e,i,F[256]),i+M[256]},Qr=new Ar([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qr=new A(0),Rr=function(r,e,n,a,f,v){var o=v.z||r.length,h=new A(a+o+5*(1+Math.ceil(o/7e3))+f),t=h.subarray(a,h.length-f),x=v.l,i=(v.r||0)&7;if(e){i&&(t[0]=v.r>>3);for(var l=Qr[e-1],c=l>>13,s=l&8191,m=(1<<n)-1,y=v.p||new N(32768),I=v.h||new N(m+1),Q=Math.ceil(n/3),$=2*Q,T=function(cr){return(r[cr]^r[cr+1]<<Q^r[cr+2]<<$)&m},D=new Ar(25e3),E=new N(288),B=new N(32),k=0,w=0,u=v.i||0,S=0,z=v.w||0,U=0;u+2<o;++u){var Z=T(u),G=u&32767,q=I[Z];if(y[G]=q,I[Z]=G,z<=u){var F=o-u;if((k>7e3||S>24576)&&(F>423||!x)){i=br(r,t,0,D,E,B,w,S,U,u-U,i),S=k=w=0,U=u;for(var M=0;M<286;++M)E[M]=0;for(var M=0;M<30;++M)B[M]=0}var K=2,b=0,rr=s,P=G-q&32767;if(F>2&&Z==T(u-P))for(var X=Math.min(c,F)-1,H=Math.min(32767,u),J=Math.min(258,F);P<=H&&--rr&&G!=q;){if(r[u+K]==r[u+K-P]){for(var C=0;C<J&&r[u+C]==r[u+C-P];++C);if(C>K){if(K=C,b=P,C>X)break;for(var V=Math.min(P,C-2),_=0,M=0;M<V;++M){var p=u-P+M&32767,ir=y[p],lr=p-ir&32767;lr>_&&(_=lr,q=p)}}}G=q,q=y[G],P+=G-q&32767}if(b){D[S++]=268435456|xr[K]<<18|Sr[b];var er=xr[K]&31,nr=Sr[b]&31;w+=or[er]+tr[nr],++E[257+er],++B[nr],z=u+K,++k}else D[S++]=r[u],++E[r[u]]}}for(u=Math.max(u,z);u<o;++u)D[S++]=r[u],++E[r[u]];i=br(r,t,x,D,E,B,w,S,U,u-U,i),x||(v.r=i&7|t[i/8|0]<<3,i-=7,v.h=I,v.p=y,v.i=u,v.w=z)}else{for(var u=v.w||0;u<o+x;u+=65535){var d=u+65535;d>=o&&(t[i/8|0]=x,d=o),i=Ir(t,i+1,r.subarray(u,d))}v.i=o}return ur(h,0,a+Tr(i)+f)},Vr=(function(){for(var r=new Int32Array(256),e=0;e<256;++e){for(var n=e,a=9;--a;)n=(n&1&&-306674912)^n>>>1;r[e]=n}return r})(),Wr=function(){var r=-1;return{p:function(e){for(var n=r,a=0;a<e.length;++a)n=Vr[n&255^e[a]]^n>>>8;r=n},d:function(){return~r}}},Xr=function(r,e,n,a,f){if(!f&&(f={l:1},e.dictionary)){var v=e.dictionary.subarray(-32768),o=new A(v.length+r.length);o.set(v),o.set(r,v.length),r=o,f.w=v.length}return Rr(r,e.level==null?6:e.level,e.mem==null?f.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,n,a,f)},Cr=function(r,e,n){for(;n;++e)r[e]=n,n>>>=8},Yr=function(r,e){var n=e.filename;if(r[0]=31,r[1]=139,r[2]=8,r[8]=e.level<2?4:e.level==9?2:0,r[9]=3,e.mtime!=0&&Cr(r,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){r[3]=8;for(var a=0;a<=n.length;++a)r[a+10]=n.charCodeAt(a)}},Zr=function(r){(r[0]!=31||r[1]!=139||r[2]!=8)&&O(6,"invalid gzip data");var e=r[3],n=10;e&4&&(n+=(r[10]|r[11]<<8)+2);for(var a=(e>>3&1)+(e>>4&1);a>0;a-=!r[n++]);return n+(e&2)},jr=function(r){var e=r.length;return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0},Lr=function(r){return 10+(r.filename?r.filename.length+1:0)},_r=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&O(6,"invalid zlib data"),(r[1]>>5&1)==1&&O(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function pr(r,e){return kr(r,{i:2},e,e)}function dr(r,e){e||(e={});var n=Wr(),a=r.length;n.p(r);var f=Xr(r,e,Lr(e),8),v=f.length;return Yr(f,e),Cr(f,v-8,n.d()),Cr(f,v-4,a),f}function re(r,e){var n=Zr(r);return n+8>r.length&&O(6,"invalid gzip data"),kr(r.subarray(n,-8),{i:2},new A(jr(r)),e)}function ee(r,e){return kr(r.subarray(_r(r),-4),{i:2},e,e)}function Kr(r,e){return r[0]==31&&r[1]==139&&r[2]==8?re(r,e):(r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31?pr(r,e):ee(r,e)}var mr=typeof TextEncoder<"u"&&new TextEncoder,zr=typeof TextDecoder<"u"&&new TextDecoder,ne=0;try{zr.decode(qr,{stream:!0}),ne=1}catch{}var ae=function(r){for(var e="",n=0;;){var a=r[n++],f=(a>127)+(a>223)+(a>239);if(n+f>r.length)return{s:e,r:ur(r,n-1)};f?f==3?(a=((a&15)<<18|(r[n++]&63)<<12|(r[n++]&63)<<6|r[n++]&63)-65536,e+=String.fromCharCode(55296|a>>10,56320|a&1023)):f&1?e+=String.fromCharCode((a&31)<<6|r[n++]&63):e+=String.fromCharCode((a&15)<<12|(r[n++]&63)<<6|r[n++]&63):e+=String.fromCharCode(a)}};function fe(r,e){var n;if(mr)return mr.encode(r);for(var a=r.length,f=new A(r.length+(r.length>>1)),v=0,o=function(x){f[v++]=x},n=0;n<a;++n){if(v+5>f.length){var h=new A(v+8+(a-n<<1));h.set(f),f=h}var t=r.charCodeAt(n);t<128||e?o(t):t<2048?(o(192|t>>6),o(128|t&63)):t>55295&&t<57344?(t=65536+(t&1047552)|r.charCodeAt(++n)&1023,o(240|t>>18),o(128|t>>12&63),o(128|t>>6&63),o(128|t&63)):(o(224|t>>12),o(128|t>>6&63),o(128|t&63))}return ur(f,0,v)}function Or(r,e){var n;if(zr)return zr.decode(r);var a=ae(r),f=a.s,n=a.r;return n.length&&O(8),f}const ve=r=>{const e=fe(r);return dr(e,{level:9})},ie=r=>{const e=new Uint8Array(r.data),n=Kr(e);return Or(n)},le=async r=>{const e=await fetch(r);if(!e.ok)throw new Error(`Không tải được file từ ${r}`);if((e.headers.get("content-type")||"").includes("text/plain"))return await e.text();const a=await e.arrayBuffer(),f=new Uint8Array(a);if(f[0]===31&&f[1]===139){const v=Kr(f);return Or(v)}return new TextDecoder().decode(f)};export{ve as c,ie as d,le as f};
