const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CbHwTmZy.js","assets/index-CahjfAcq.js","assets/index-CKvpCE0v.css","assets/compress-BzQXnY0p.js"])))=>i.map(i=>d[i]);
import{h as Nt,g as su,_ as iu,e as cr,i as Qr,k as Jr}from"./index-CahjfAcq.js";import{d as au}from"./compress-BzQXnY0p.js";function Ir(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mn={exports:{}};var qs;function ou(){return qs||(qs=1,(function(t,e){(function(r){t.exports=r()})(function(){return(function r(n,s,i){function a(u,h){if(!s[u]){if(!n[u]){var f=typeof Ir=="function"&&Ir;if(!h&&f)return f(u,!0);if(o)return o(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var l=s[u]={exports:{}};n[u][0].call(l.exports,function(y){var m=n[u][1][y];return a(m||y)},l,l.exports,r,n,s,i)}return s[u].exports}for(var o=typeof Ir=="function"&&Ir,c=0;c<i.length;c++)a(i[c]);return a})({1:[function(r,n,s){var i=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var u,h,f,p,l,y,m,b=[],w=0,S=c.length,A=S,k=i.getTypeOf(c)!=="string";w<c.length;)A=S-w,f=k?(u=c[w++],h=w<S?c[w++]:0,w<S?c[w++]:0):(u=c.charCodeAt(w++),h=w<S?c.charCodeAt(w++):0,w<S?c.charCodeAt(w++):0),p=u>>2,l=(3&u)<<4|h>>4,y=1<A?(15&h)<<2|f>>6:64,m=2<A?63&f:64,b.push(o.charAt(p)+o.charAt(l)+o.charAt(y)+o.charAt(m));return b.join("")},s.decode=function(c){var u,h,f,p,l,y,m=0,b=0,w="data:";if(c.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var S,A=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&A--,c.charAt(c.length-2)===o.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=a.uint8array?new Uint8Array(0|A):new Array(0|A);m<c.length;)u=o.indexOf(c.charAt(m++))<<2|(p=o.indexOf(c.charAt(m++)))>>4,h=(15&p)<<4|(l=o.indexOf(c.charAt(m++)))>>2,f=(3&l)<<6|(y=o.indexOf(c.charAt(m++))),S[b++]=u,l!==64&&(S[b++]=h),y!==64&&(S[b++]=f);return S}},{"./support":30,"./utils":32}],2:[function(r,n,s){var i=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function u(h,f,p,l,y){this.compressedSize=h,this.uncompressedSize=f,this.crc32=p,this.compression=l,this.compressedContent=y}u.prototype={getContentWorker:function(){var h=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),f=this;return h.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(h,f,p){return h.pipe(new o).pipe(new c("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new c("compressedSize")).withStreamInfo("compression",f)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,s){var i=r("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},s.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,s){var i=r("./utils"),a=(function(){for(var o,c=[],u=0;u<256;u++){o=u;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;c[u]=o}return c})();n.exports=function(o,c){return o!==void 0&&o.length?i.getTypeOf(o)!=="string"?(function(u,h,f,p){var l=a,y=p+f;u^=-1;for(var m=p;m<y;m++)u=u>>>8^l[255&(u^h[m])];return-1^u})(0|c,o,o.length,0):(function(u,h,f,p){var l=a,y=p+f;u^=-1;for(var m=p;m<y;m++)u=u>>>8^l[255&(u^h.charCodeAt(m))];return-1^u})(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(r,n,s){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),c=r("./stream/GenericWorker"),u=i?"uint8array":"array";function h(f,p){c.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}s.magic="\b\0",o.inherits(h,c),h.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,f.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},s.compressWorker=function(f){return new h("Deflate",f)},s.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,s){function i(l,y){var m,b="";for(m=0;m<y;m++)b+=String.fromCharCode(255&l),l>>>=8;return b}function a(l,y,m,b,w,S){var A,k,R=l.file,L=l.compression,F=S!==u.utf8encode,V=o.transformTo("string",S(R.name)),U=o.transformTo("string",u.utf8encode(R.name)),Y=R.comment,le=o.transformTo("string",S(Y)),C=o.transformTo("string",u.utf8encode(Y)),$=U.length!==R.name.length,g=C.length!==Y.length,W="",pe="",G="",be=R.dir,K=R.date,fe={crc32:0,compressedSize:0,uncompressedSize:0};y&&!m||(fe.crc32=l.crc32,fe.compressedSize=l.compressedSize,fe.uncompressedSize=l.uncompressedSize);var P=0;y&&(P|=8),F||!$&&!g||(P|=2048);var O=0,ue=0;be&&(O|=16),w==="UNIX"?(ue=798,O|=(function(re,Ne){var Je=re;return re||(Je=Ne?16893:33204),(65535&Je)<<16})(R.unixPermissions,be)):(ue=20,O|=(function(re){return 63&(re||0)})(R.dosPermissions)),A=K.getUTCHours(),A<<=6,A|=K.getUTCMinutes(),A<<=5,A|=K.getUTCSeconds()/2,k=K.getUTCFullYear()-1980,k<<=4,k|=K.getUTCMonth()+1,k<<=5,k|=K.getUTCDate(),$&&(pe=i(1,1)+i(h(V),4)+U,W+="up"+i(pe.length,2)+pe),g&&(G=i(1,1)+i(h(le),4)+C,W+="uc"+i(G.length,2)+G);var se="";return se+=`
\0`,se+=i(P,2),se+=L.magic,se+=i(A,2),se+=i(k,2),se+=i(fe.crc32,4),se+=i(fe.compressedSize,4),se+=i(fe.uncompressedSize,4),se+=i(V.length,2),se+=i(W.length,2),{fileRecord:f.LOCAL_FILE_HEADER+se+V+W,dirRecord:f.CENTRAL_FILE_HEADER+i(ue,2)+se+i(le.length,2)+"\0\0\0\0"+i(O,4)+i(b,4)+V+W+le}}var o=r("../utils"),c=r("../stream/GenericWorker"),u=r("../utf8"),h=r("../crc32"),f=r("../signature");function p(l,y,m,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=m,this.encodeFileName=b,this.streamFiles=l,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,c),p.prototype.push=function(l){var y=l.meta.percent||0,m=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(l):(this.bytesWritten+=l.data.length,c.prototype.push.call(this,{data:l.data,meta:{currentFile:this.currentFile,percent:m?(y+100*(m-b-1))/m:100}}))},p.prototype.openedSource=function(l){this.currentSourceOffset=this.bytesWritten,this.currentFile=l.file.name;var y=this.streamFiles&&!l.file.dir;if(y){var m=a(l,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(l){this.accumulate=!1;var y=this.streamFiles&&!l.file.dir,m=a(l,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),y)this.push({data:(function(b){return f.DATA_DESCRIPTOR+i(b.crc32,4)+i(b.compressedSize,4)+i(b.uncompressedSize,4)})(l),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var l=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var m=this.bytesWritten-l,b=(function(w,S,A,k,R){var L=o.transformTo("string",R(k));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(w,2)+i(w,2)+i(S,4)+i(A,4)+i(L.length,2)+L})(this.dirRecords.length,m,l,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(l){this._sources.push(l);var y=this;return l.on("data",function(m){y.processChunk(m)}),l.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),l.on("error",function(m){y.error(m)}),this},p.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(l){var y=this._sources;if(!c.prototype.error.call(this,l))return!1;for(var m=0;m<y.length;m++)try{y[m].error(l)}catch{}return!0},p.prototype.lock=function(){c.prototype.lock.call(this);for(var l=this._sources,y=0;y<l.length;y++)l[y].lock()},n.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,s){var i=r("../compressions"),a=r("./ZipFileWorker");s.generateWorker=function(o,c,u){var h=new a(c.streamFiles,u,c.platform,c.encodeFileName),f=0;try{o.forEach(function(p,l){f++;var y=(function(S,A){var k=S||A,R=i[k];if(!R)throw new Error(k+" is not a valid compression method !");return R})(l.options.compression,c.compression),m=l.options.compressionOptions||c.compressionOptions||{},b=l.dir,w=l.date;l._compressWorker(y,m).withStreamInfo("file",{name:p,dir:b,date:w,comment:l.comment||"",unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions}).pipe(h)}),h.entriesCount=f}catch(p){h.error(p)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,s){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(a,o){return new i().loadAsync(a,o)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,s){var i=r("./utils"),a=r("./external"),o=r("./utf8"),c=r("./zipEntries"),u=r("./stream/Crc32Probe"),h=r("./nodejsUtils");function f(p){return new a.Promise(function(l,y){var m=p.decompressed.getContentWorker().pipe(new u);m.on("error",function(b){y(b)}).on("end",function(){m.streamInfo.crc32!==p.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):l()}).resume()})}n.exports=function(p,l){var y=this;return l=i.extend(l||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),h.isNode&&h.isStream(p)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",p,!0,l.optimizedBinaryString,l.base64).then(function(m){var b=new c(l);return b.load(m),b}).then(function(m){var b=[a.Promise.resolve(m)],w=m.files;if(l.checkCRC32)for(var S=0;S<w.length;S++)b.push(f(w[S]));return a.Promise.all(b)}).then(function(m){for(var b=m.shift(),w=b.files,S=0;S<w.length;S++){var A=w[S],k=A.fileNameStr,R=i.resolve(A.fileNameStr);y.file(R,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:l.createFolders}),A.dir||(y.file(R).unsafeOriginalName=k)}return b.zipComment.length&&(y.comment=b.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,s){var i=r("../utils"),a=r("../stream/GenericWorker");function o(c,u){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}i.inherits(o,a),o.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(h){u.push({data:h,meta:{percent:0}})}).on("error",function(h){u.isPaused?this.generatedError=h:u.error(h)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,s){var i=r("readable-stream").Readable;function a(o,c,u){i.call(this,c),this._helper=o;var h=this;o.on("data",function(f,p){h.push(f)||h._helper.pause(),u&&u(p)}).on("error",function(f){h.emit("error",f)}).on("end",function(){h.push(null)})}r("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,s){function i(R,L,F){var V,U=o.getTypeOf(L),Y=o.extend(F||{},h);Y.date=Y.date||new Date,Y.compression!==null&&(Y.compression=Y.compression.toUpperCase()),typeof Y.unixPermissions=="string"&&(Y.unixPermissions=parseInt(Y.unixPermissions,8)),Y.unixPermissions&&16384&Y.unixPermissions&&(Y.dir=!0),Y.dosPermissions&&16&Y.dosPermissions&&(Y.dir=!0),Y.dir&&(R=w(R)),Y.createFolders&&(V=b(R))&&S.call(this,V,!0);var le=U==="string"&&Y.binary===!1&&Y.base64===!1;F&&F.binary!==void 0||(Y.binary=!le),(L instanceof f&&L.uncompressedSize===0||Y.dir||!L||L.length===0)&&(Y.base64=!1,Y.binary=!0,L="",Y.compression="STORE",U="string");var C=null;C=L instanceof f||L instanceof c?L:y.isNode&&y.isStream(L)?new m(R,L):o.prepareContent(R,L,Y.binary,Y.optimizedBinaryString,Y.base64);var $=new p(R,C,Y);this.files[R]=$}var a=r("./utf8"),o=r("./utils"),c=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),h=r("./defaults"),f=r("./compressedObject"),p=r("./zipObject"),l=r("./generate"),y=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),b=function(R){R.slice(-1)==="/"&&(R=R.substring(0,R.length-1));var L=R.lastIndexOf("/");return 0<L?R.substring(0,L):""},w=function(R){return R.slice(-1)!=="/"&&(R+="/"),R},S=function(R,L){return L=L!==void 0?L:h.createFolders,R=w(R),this.files[R]||i.call(this,R,null,{dir:!0,createFolders:L}),this.files[R]};function A(R){return Object.prototype.toString.call(R)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var L,F,V;for(L in this.files)V=this.files[L],(F=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&R(F,V)},filter:function(R){var L=[];return this.forEach(function(F,V){R(F,V)&&L.push(V)}),L},file:function(R,L,F){if(arguments.length!==1)return R=this.root+R,i.call(this,R,L,F),this;if(A(R)){var V=R;return this.filter(function(Y,le){return!le.dir&&V.test(Y)})}var U=this.files[this.root+R];return U&&!U.dir?U:null},folder:function(R){if(!R)return this;if(A(R))return this.filter(function(U,Y){return Y.dir&&R.test(U)});var L=this.root+R,F=S.call(this,L),V=this.clone();return V.root=F.name,V},remove:function(R){R=this.root+R;var L=this.files[R];if(L||(R.slice(-1)!=="/"&&(R+="/"),L=this.files[R]),L&&!L.dir)delete this.files[R];else for(var F=this.filter(function(U,Y){return Y.name.slice(0,R.length)===R}),V=0;V<F.length;V++)delete this.files[F[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var L,F={};try{if((F=o.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");o.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var V=F.comment||this.comment||"";L=l.generateWorker(this,F,V)}catch(U){(L=new c("error")).error(U)}return new u(L,F.type||"string",F.mimeType)},generateAsync:function(R,L){return this.generateInternalStream(R).accumulate(L)},generateNodeStream:function(R,L){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(L)}};n.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,s){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,s){var i=r("./DataReader");function a(o){i.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}r("../utils").inherits(a,i),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),u=o.charCodeAt(1),h=o.charCodeAt(2),f=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===c&&this.data[p+1]===u&&this.data[p+2]===h&&this.data[p+3]===f)return p-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),u=o.charCodeAt(1),h=o.charCodeAt(2),f=o.charCodeAt(3),p=this.readData(4);return c===p[0]&&u===p[1]&&h===p[2]&&f===p[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,s){var i=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,u=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=o,u},readString:function(o){return i.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,s){var i=r("./Uint8ArrayReader");function a(o){i.call(this,o)}r("../utils").inherits(a,i),a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,s){var i=r("./DataReader");function a(o){i.call(this,o)}r("../utils").inherits(a,i),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,s){var i=r("./ArrayReader");function a(o){i.call(this,o)}r("../utils").inherits(a,i),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,s){var i=r("../utils"),a=r("../support"),o=r("./ArrayReader"),c=r("./StringReader"),u=r("./NodeBufferReader"),h=r("./Uint8ArrayReader");n.exports=function(f){var p=i.getTypeOf(f);return i.checkSupport(p),p!=="string"||a.uint8array?p==="nodebuffer"?new u(f):a.uint8array?new h(i.transformTo("uint8array",f)):new o(i.transformTo("array",f)):new c(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,s){var i=r("./GenericWorker"),a=r("../utils");function o(c){i.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(o,i),o.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,s){var i=r("./GenericWorker"),a=r("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,i),o.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,s){var i=r("../utils"),a=r("./GenericWorker");function o(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(o,a),o.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}a.prototype.processChunk.call(this,c)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,s){var i=r("../utils"),a=r("./GenericWorker");function o(c){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){u.dataIsReady=!0,u.data=h,u.max=h&&h.length||0,u.type=i.getTypeOf(h),u.isPaused||u._tickAndRepeat()},function(h){u.error(h)})}i.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,s){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(c){o.processChunk(c)}),a.on("end",function(){o.end()}),a.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=i},{}],29:[function(r,n,s){var i=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),c=r("../base64"),u=r("../support"),h=r("../external"),f=null;if(u.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(y,m){return new h.Promise(function(b,w){var S=[],A=y._internalType,k=y._outputType,R=y._mimeType;y.on("data",function(L,F){S.push(L),m&&m(F)}).on("error",function(L){S=[],w(L)}).on("end",function(){try{var L=(function(F,V,U){switch(F){case"blob":return i.newBlob(i.transformTo("arraybuffer",V),U);case"base64":return c.encode(V);default:return i.transformTo(F,V)}})(k,(function(F,V){var U,Y=0,le=null,C=0;for(U=0;U<V.length;U++)C+=V[U].length;switch(F){case"string":return V.join("");case"array":return Array.prototype.concat.apply([],V);case"uint8array":for(le=new Uint8Array(C),U=0;U<V.length;U++)le.set(V[U],Y),Y+=V[U].length;return le;case"nodebuffer":return Buffer.concat(V);default:throw new Error("concat : unsupported type '"+F+"'")}})(A,S),R);b(L)}catch(F){w(F)}S=[]}).resume()})}function l(y,m,b){var w=m;switch(m){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=m,this._mimeType=b,i.checkSupport(w),this._worker=y.pipe(new a(w)),y.lock()}catch(S){this._worker=new o("error"),this._worker.error(S)}}l.prototype={accumulate:function(y){return p(this,y)},on:function(y,m){var b=this;return y==="data"?this._worker.on(y,function(w){m.call(b,w.data,w.meta)}):this._worker.on(y,function(){i.delay(m,arguments,b)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},y)}},n.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var i=new ArrayBuffer(0);try{s.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),s.blob=a.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!r("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,s){for(var i=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),c=r("./stream/GenericWorker"),u=new Array(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;u[254]=u[254]=1;function f(){c.call(this,"utf-8 decode"),this.leftOver=null}function p(){c.call(this,"utf-8 encode")}s.utf8encode=function(l){return a.nodebuffer?o.newBufferFrom(l,"utf-8"):(function(y){var m,b,w,S,A,k=y.length,R=0;for(S=0;S<k;S++)(64512&(b=y.charCodeAt(S)))==55296&&S+1<k&&(64512&(w=y.charCodeAt(S+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),S++),R+=b<128?1:b<2048?2:b<65536?3:4;for(m=a.uint8array?new Uint8Array(R):new Array(R),S=A=0;A<R;S++)(64512&(b=y.charCodeAt(S)))==55296&&S+1<k&&(64512&(w=y.charCodeAt(S+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),S++),b<128?m[A++]=b:(b<2048?m[A++]=192|b>>>6:(b<65536?m[A++]=224|b>>>12:(m[A++]=240|b>>>18,m[A++]=128|b>>>12&63),m[A++]=128|b>>>6&63),m[A++]=128|63&b);return m})(l)},s.utf8decode=function(l){return a.nodebuffer?i.transformTo("nodebuffer",l).toString("utf-8"):(function(y){var m,b,w,S,A=y.length,k=new Array(2*A);for(m=b=0;m<A;)if((w=y[m++])<128)k[b++]=w;else if(4<(S=u[w]))k[b++]=65533,m+=S-1;else{for(w&=S===2?31:S===3?15:7;1<S&&m<A;)w=w<<6|63&y[m++],S--;1<S?k[b++]=65533:w<65536?k[b++]=w:(w-=65536,k[b++]=55296|w>>10&1023,k[b++]=56320|1023&w)}return k.length!==b&&(k.subarray?k=k.subarray(0,b):k.length=b),i.applyFromCharCode(k)})(l=i.transformTo(a.uint8array?"uint8array":"array",l))},i.inherits(f,c),f.prototype.processChunk=function(l){var y=i.transformTo(a.uint8array?"uint8array":"array",l.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=y;(y=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),y.set(m,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var b=(function(S,A){var k;for((A=A||S.length)>S.length&&(A=S.length),k=A-1;0<=k&&(192&S[k])==128;)k--;return k<0||k===0?A:k+u[S[k]]>A?k:A})(y),w=y;b!==y.length&&(a.uint8array?(w=y.subarray(0,b),this.leftOver=y.subarray(b,y.length)):(w=y.slice(0,b),this.leftOver=y.slice(b,y.length))),this.push({data:s.utf8decode(w),meta:l.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=f,i.inherits(p,c),p.prototype.processChunk=function(l){this.push({data:s.utf8encode(l.data),meta:l.meta})},s.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,s){var i=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),c=r("./external");function u(m){return m}function h(m,b){for(var w=0;w<m.length;++w)b[w]=255&m.charCodeAt(w);return b}r("setimmediate"),s.newBlob=function(m,b){s.checkSupport("blob");try{return new Blob([m],{type:b})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(m),w.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,b,w){var S=[],A=0,k=m.length;if(k<=w)return String.fromCharCode.apply(null,m);for(;A<k;)b==="array"||b==="nodebuffer"?S.push(String.fromCharCode.apply(null,m.slice(A,Math.min(A+w,k)))):S.push(String.fromCharCode.apply(null,m.subarray(A,Math.min(A+w,k)))),A+=w;return S.join("")},stringifyByChar:function(m){for(var b="",w=0;w<m.length;w++)b+=String.fromCharCode(m[w]);return b},applyCanBeUsed:{uint8array:(function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function p(m){var b=65536,w=s.getTypeOf(m),S=!0;if(w==="uint8array"?S=f.applyCanBeUsed.uint8array:w==="nodebuffer"&&(S=f.applyCanBeUsed.nodebuffer),S)for(;1<b;)try{return f.stringifyByChunk(m,w,b)}catch{b=Math.floor(b/2)}return f.stringifyByChar(m)}function l(m,b){for(var w=0;w<m.length;w++)b[w]=m[w];return b}s.applyFromCharCode=p;var y={};y.string={string:u,array:function(m){return h(m,new Array(m.length))},arraybuffer:function(m){return y.string.uint8array(m).buffer},uint8array:function(m){return h(m,new Uint8Array(m.length))},nodebuffer:function(m){return h(m,o.allocBuffer(m.length))}},y.array={string:p,array:u,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(m)}},y.arraybuffer={string:function(m){return p(new Uint8Array(m))},array:function(m){return l(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:u,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(new Uint8Array(m))}},y.uint8array={string:p,array:function(m){return l(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:u,nodebuffer:function(m){return o.newBufferFrom(m)}},y.nodebuffer={string:p,array:function(m){return l(m,new Array(m.length))},arraybuffer:function(m){return y.nodebuffer.uint8array(m).buffer},uint8array:function(m){return l(m,new Uint8Array(m.length))},nodebuffer:u},s.transformTo=function(m,b){if(b=b||"",!m)return b;s.checkSupport(m);var w=s.getTypeOf(b);return y[w][m](b)},s.resolve=function(m){for(var b=m.split("/"),w=[],S=0;S<b.length;S++){var A=b[S];A==="."||A===""&&S!==0&&S!==b.length-1||(A===".."?w.pop():w.push(A))}return w.join("/")},s.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":i.nodebuffer&&o.isBuffer(m)?"nodebuffer":i.uint8array&&m instanceof Uint8Array?"uint8array":i.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(m){if(!i[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(m){var b,w,S="";for(w=0;w<(m||"").length;w++)S+="\\x"+((b=m.charCodeAt(w))<16?"0":"")+b.toString(16).toUpperCase();return S},s.delay=function(m,b,w){setImmediate(function(){m.apply(w||null,b||[])})},s.inherits=function(m,b){function w(){}w.prototype=b.prototype,m.prototype=new w},s.extend=function(){var m,b,w={};for(m=0;m<arguments.length;m++)for(b in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],b)&&w[b]===void 0&&(w[b]=arguments[m][b]);return w},s.prepareContent=function(m,b,w,S,A){return c.Promise.resolve(b).then(function(k){return i.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new c.Promise(function(R,L){var F=new FileReader;F.onload=function(V){R(V.target.result)},F.onerror=function(V){L(V.target.error)},F.readAsArrayBuffer(k)}):k}).then(function(k){var R=s.getTypeOf(k);return R?(R==="arraybuffer"?k=s.transformTo("uint8array",k):R==="string"&&(A?k=a.decode(k):w&&S!==!0&&(k=(function(L){return h(L,i.uint8array?new Uint8Array(L.length):new Array(L.length))})(k))),k):c.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,s){var i=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),c=r("./zipEntry"),u=r("./support");function h(f){this.files=[],this.loadOptions=f}h.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(p)+", expected "+a.pretty(f)+")")}},isSignature:function(f,p){var l=this.reader.index;this.reader.setIndex(f);var y=this.reader.readString(4)===p;return this.reader.setIndex(l),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=u.uint8array?"uint8array":"array",l=a.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,l,y=this.zip64EndOfCentralSize-44;0<y;)f=this.reader.readInt(2),p=this.reader.readInt(4),l=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var y=p-l;if(0<y)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,s){var i=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),c=r("./crc32"),u=r("./utf8"),h=r("./compressions"),f=r("./support");function p(l,y){this.options=l,this.loadOptions=y}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var y,m;if(l.skip(22),this.fileNameLength=l.readInt(2),m=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=(function(b){for(var w in h)if(Object.prototype.hasOwnProperty.call(h,w)&&h[w].magic===b)return h[w];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,y,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var y=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(y),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var l=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(l){var y,m,b,w=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<w;)y=l.readInt(2),m=l.readInt(2),b=l.readData(m),this.extraFields[y]={id:y,length:m,value:b};l.setIndex(w)},handleUTF8:function(){var l=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var m=a.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var w=a.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var y=i(l.value);return y.readInt(1)!==1||c(this.fileName)!==y.readInt(4)?null:u.utf8decode(y.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var y=i(l.value);return y.readInt(1)!==1||c(this.fileComment)!==y.readInt(4)?null:u.utf8decode(y.readData(l.length-5))}return null}},n.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,s){function i(y,m,b){this.name=y,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=m,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),c=r("./utf8"),u=r("./compressedObject"),h=r("./stream/GenericWorker");i.prototype={internalStream:function(y){var m=null,b="string";try{if(!y)throw new Error("No output type specified.");var w=(b=y.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),m=this._decompressWorker();var S=!this._dataBinary;S&&!w&&(m=m.pipe(new c.Utf8EncodeWorker)),!S&&w&&(m=m.pipe(new c.Utf8DecodeWorker))}catch(A){(m=new h("error")).error(A)}return new a(m,b,"")},async:function(y,m){return this.internalStream(y).accumulate(m)},nodeStream:function(y,m){return this.internalStream(y||"nodebuffer").toNodejsStream(m)},_compressWorker:function(y,m){if(this._data instanceof u&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(b,y,m)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<f.length;l++)i.prototype[f[l]]=p;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,s){(function(i){var a,o,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var u=0,h=new c(y),f=i.document.createTextNode("");h.observe(f,{characterData:!0}),a=function(){f.data=u=++u%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var m=i.document.createElement("script");m.onreadystatechange=function(){y(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},i.document.documentElement.appendChild(m)}:function(){setTimeout(y,0)};else{var p=new i.MessageChannel;p.port1.onmessage=y,a=function(){p.port2.postMessage(0)}}var l=[];function y(){var m,b;o=!0;for(var w=l.length;w;){for(b=l,l=[],m=-1;++m<w;)b[m]();w=l.length}o=!1}n.exports=function(m){l.push(m)!==1||o||a()}}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,s){var i=r("immediate");function a(){}var o={},c=["REJECTED"],u=["FULFILLED"],h=["PENDING"];function f(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,w!==a&&m(this,w)}function p(w,S,A){this.promise=w,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function l(w,S,A){i(function(){var k;try{k=S(A)}catch(R){return o.reject(w,R)}k===w?o.reject(w,new TypeError("Cannot resolve promise with itself")):o.resolve(w,k)})}function y(w){var S=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof S=="function")return function(){S.apply(w,arguments)}}function m(w,S){var A=!1;function k(F){A||(A=!0,o.reject(w,F))}function R(F){A||(A=!0,o.resolve(w,F))}var L=b(function(){S(R,k)});L.status==="error"&&k(L.value)}function b(w,S){var A={};try{A.value=w(S),A.status="success"}catch(k){A.status="error",A.value=k}return A}(n.exports=f).prototype.finally=function(w){if(typeof w!="function")return this;var S=this.constructor;return this.then(function(A){return S.resolve(w()).then(function(){return A})},function(A){return S.resolve(w()).then(function(){throw A})})},f.prototype.catch=function(w){return this.then(null,w)},f.prototype.then=function(w,S){if(typeof w!="function"&&this.state===u||typeof S!="function"&&this.state===c)return this;var A=new this.constructor(a);return this.state!==h?l(A,this.state===u?w:S,this.outcome):this.queue.push(new p(A,w,S)),A},p.prototype.callFulfilled=function(w){o.resolve(this.promise,w)},p.prototype.otherCallFulfilled=function(w){l(this.promise,this.onFulfilled,w)},p.prototype.callRejected=function(w){o.reject(this.promise,w)},p.prototype.otherCallRejected=function(w){l(this.promise,this.onRejected,w)},o.resolve=function(w,S){var A=b(y,S);if(A.status==="error")return o.reject(w,A.value);var k=A.value;if(k)m(w,k);else{w.state=u,w.outcome=S;for(var R=-1,L=w.queue.length;++R<L;)w.queue[R].callFulfilled(S)}return w},o.reject=function(w,S){w.state=c,w.outcome=S;for(var A=-1,k=w.queue.length;++A<k;)w.queue[A].callRejected(S);return w},f.resolve=function(w){return w instanceof this?w:o.resolve(new this(a),w)},f.reject=function(w){var S=new this(a);return o.reject(S,w)},f.all=function(w){var S=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=w.length,k=!1;if(!A)return this.resolve([]);for(var R=new Array(A),L=0,F=-1,V=new this(a);++F<A;)U(w[F],F);return V;function U(Y,le){S.resolve(Y).then(function(C){R[le]=C,++L!==A||k||(k=!0,o.resolve(V,R))},function(C){k||(k=!0,o.reject(V,C))})}},f.race=function(w){var S=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=w.length,k=!1;if(!A)return this.resolve([]);for(var R=-1,L=new this(a);++R<A;)F=w[R],S.resolve(F).then(function(V){k||(k=!0,o.resolve(L,V))},function(V){k||(k=!0,o.reject(L,V))});var F;return L}},{immediate:36}],38:[function(r,n,s){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,s){var i=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/messages"),u=r("./zlib/zstream"),h=Object.prototype.toString,f=0,p=-1,l=0,y=8;function m(w){if(!(this instanceof m))return new m(w);this.options=a.assign({level:p,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},w||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var A=i.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(A!==f)throw new Error(c[A]);if(S.header&&i.deflateSetHeader(this.strm,S.header),S.dictionary){var k;if(k=typeof S.dictionary=="string"?o.string2buf(S.dictionary):h.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(A=i.deflateSetDictionary(this.strm,k))!==f)throw new Error(c[A]);this._dict_set=!0}}function b(w,S){var A=new m(S);if(A.push(w,!0),A.err)throw A.msg||c[A.err];return A.result}m.prototype.push=function(w,S){var A,k,R=this.strm,L=this.options.chunkSize;if(this.ended)return!1;k=S===~~S?S:S===!0?4:0,typeof w=="string"?R.input=o.string2buf(w):h.call(w)==="[object ArrayBuffer]"?R.input=new Uint8Array(w):R.input=w,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new a.Buf8(L),R.next_out=0,R.avail_out=L),(A=i.deflate(R,k))!==1&&A!==f)return this.onEnd(A),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(R.output,R.next_out))):this.onData(a.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&A!==1);return k===4?(A=i.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===f):k!==2||(this.onEnd(f),!(R.avail_out=0))},m.prototype.onData=function(w){this.chunks.push(w)},m.prototype.onEnd=function(w){w===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},s.Deflate=m,s.deflate=b,s.deflateRaw=function(w,S){return(S=S||{}).raw=!0,b(w,S)},s.gzip=function(w,S){return(S=S||{}).gzip=!0,b(w,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,s){var i=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/constants"),u=r("./zlib/messages"),h=r("./zlib/zstream"),f=r("./zlib/gzheader"),p=Object.prototype.toString;function l(m){if(!(this instanceof l))return new l(m);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},m||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||m&&m.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var w=i.inflateInit2(this.strm,b.windowBits);if(w!==c.Z_OK)throw new Error(u[w]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function y(m,b){var w=new l(b);if(w.push(m,!0),w.err)throw w.msg||u[w.err];return w.result}l.prototype.push=function(m,b){var w,S,A,k,R,L,F=this.strm,V=this.options.chunkSize,U=this.options.dictionary,Y=!1;if(this.ended)return!1;S=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof m=="string"?F.input=o.binstring2buf(m):p.call(m)==="[object ArrayBuffer]"?F.input=new Uint8Array(m):F.input=m,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new a.Buf8(V),F.next_out=0,F.avail_out=V),(w=i.inflate(F,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&U&&(L=typeof U=="string"?o.string2buf(U):p.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,w=i.inflateSetDictionary(this.strm,L)),w===c.Z_BUF_ERROR&&Y===!0&&(w=c.Z_OK,Y=!1),w!==c.Z_STREAM_END&&w!==c.Z_OK)return this.onEnd(w),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&w!==c.Z_STREAM_END&&(F.avail_in!==0||S!==c.Z_FINISH&&S!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=o.utf8border(F.output,F.next_out),k=F.next_out-A,R=o.buf2string(F.output,A),F.next_out=k,F.avail_out=V-k,k&&a.arraySet(F.output,F.output,A,k,0),this.onData(R)):this.onData(a.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(Y=!0)}while((0<F.avail_in||F.avail_out===0)&&w!==c.Z_STREAM_END);return w===c.Z_STREAM_END&&(S=c.Z_FINISH),S===c.Z_FINISH?(w=i.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===c.Z_OK):S!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(F.avail_out=0))},l.prototype.onData=function(m){this.chunks.push(m)},l.prototype.onEnd=function(m){m===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},s.Inflate=l,s.inflate=y,s.inflateRaw=function(m,b){return(b=b||{}).raw=!0,y(m,b)},s.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,s){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var h=u.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])}}return c},s.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var a={arraySet:function(c,u,h,f,p){if(u.subarray&&c.subarray)c.set(u.subarray(h,h+f),p);else for(var l=0;l<f;l++)c[p+l]=u[h+l]},flattenChunks:function(c){var u,h,f,p,l,y;for(u=f=0,h=c.length;u<h;u++)f+=c[u].length;for(y=new Uint8Array(f),u=p=0,h=c.length;u<h;u++)l=c[u],y.set(l,p),p+=l.length;return y}},o={arraySet:function(c,u,h,f,p){for(var l=0;l<f;l++)c[p+l]=u[h+l]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,a)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,o))},s.setTyped(i)},{}],42:[function(r,n,s){var i=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new i.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function h(f,p){if(p<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(f,p));for(var l="",y=0;y<p;y++)l+=String.fromCharCode(f[y]);return l}c[254]=c[254]=1,s.string2buf=function(f){var p,l,y,m,b,w=f.length,S=0;for(m=0;m<w;m++)(64512&(l=f.charCodeAt(m)))==55296&&m+1<w&&(64512&(y=f.charCodeAt(m+1)))==56320&&(l=65536+(l-55296<<10)+(y-56320),m++),S+=l<128?1:l<2048?2:l<65536?3:4;for(p=new i.Buf8(S),m=b=0;b<S;m++)(64512&(l=f.charCodeAt(m)))==55296&&m+1<w&&(64512&(y=f.charCodeAt(m+1)))==56320&&(l=65536+(l-55296<<10)+(y-56320),m++),l<128?p[b++]=l:(l<2048?p[b++]=192|l>>>6:(l<65536?p[b++]=224|l>>>12:(p[b++]=240|l>>>18,p[b++]=128|l>>>12&63),p[b++]=128|l>>>6&63),p[b++]=128|63&l);return p},s.buf2binstring=function(f){return h(f,f.length)},s.binstring2buf=function(f){for(var p=new i.Buf8(f.length),l=0,y=p.length;l<y;l++)p[l]=f.charCodeAt(l);return p},s.buf2string=function(f,p){var l,y,m,b,w=p||f.length,S=new Array(2*w);for(l=y=0;l<w;)if((m=f[l++])<128)S[y++]=m;else if(4<(b=c[m]))S[y++]=65533,l+=b-1;else{for(m&=b===2?31:b===3?15:7;1<b&&l<w;)m=m<<6|63&f[l++],b--;1<b?S[y++]=65533:m<65536?S[y++]=m:(m-=65536,S[y++]=55296|m>>10&1023,S[y++]=56320|1023&m)}return h(S,y)},s.utf8border=function(f,p){var l;for((p=p||f.length)>f.length&&(p=f.length),l=p-1;0<=l&&(192&f[l])==128;)l--;return l<0||l===0?p:l+c[f[l]]>p?l:p}},{"./common":41}],43:[function(r,n,s){n.exports=function(i,a,o,c){for(var u=65535&i|0,h=i>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;h=h+(u=u+a[c++]|0)|0,--f;);u%=65521,h%=65521}return u|h<<16|0}},{}],44:[function(r,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,s){var i=(function(){for(var a,o=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;o[c]=a}return o})();n.exports=function(a,o,c,u){var h=i,f=u+c;a^=-1;for(var p=u;p<f;p++)a=a>>>8^h[255&(a^o[p])];return-1^a}},{}],46:[function(r,n,s){var i,a=r("../utils/common"),o=r("./trees"),c=r("./adler32"),u=r("./crc32"),h=r("./messages"),f=0,p=4,l=0,y=-2,m=-1,b=4,w=2,S=8,A=9,k=286,R=30,L=19,F=2*k+1,V=15,U=3,Y=258,le=Y+U+1,C=42,$=113,g=1,W=2,pe=3,G=4;function be(d,j){return d.msg=h[j],j}function K(d){return(d<<1)-(4<d?9:0)}function fe(d){for(var j=d.length;0<=--j;)d[j]=0}function P(d){var j=d.state,N=j.pending;N>d.avail_out&&(N=d.avail_out),N!==0&&(a.arraySet(d.output,j.pending_buf,j.pending_out,N,d.next_out),d.next_out+=N,j.pending_out+=N,d.total_out+=N,d.avail_out-=N,j.pending-=N,j.pending===0&&(j.pending_out=0))}function O(d,j){o._tr_flush_block(d,0<=d.block_start?d.block_start:-1,d.strstart-d.block_start,j),d.block_start=d.strstart,P(d.strm)}function ue(d,j){d.pending_buf[d.pending++]=j}function se(d,j){d.pending_buf[d.pending++]=j>>>8&255,d.pending_buf[d.pending++]=255&j}function re(d,j){var N,v,E=d.max_chain_length,T=d.strstart,q=d.prev_length,Z=d.nice_match,D=d.strstart>d.w_size-le?d.strstart-(d.w_size-le):0,X=d.window,ie=d.w_mask,Q=d.prev,ce=d.strstart+Y,Te=X[T+q-1],ve=X[T+q];d.prev_length>=d.good_match&&(E>>=2),Z>d.lookahead&&(Z=d.lookahead);do if(X[(N=j)+q]===ve&&X[N+q-1]===Te&&X[N]===X[T]&&X[++N]===X[T+1]){T+=2,N++;do;while(X[++T]===X[++N]&&X[++T]===X[++N]&&X[++T]===X[++N]&&X[++T]===X[++N]&&X[++T]===X[++N]&&X[++T]===X[++N]&&X[++T]===X[++N]&&X[++T]===X[++N]&&T<ce);if(v=Y-(ce-T),T=ce-Y,q<v){if(d.match_start=j,Z<=(q=v))break;Te=X[T+q-1],ve=X[T+q]}}while((j=Q[j&ie])>D&&--E!=0);return q<=d.lookahead?q:d.lookahead}function Ne(d){var j,N,v,E,T,q,Z,D,X,ie,Q=d.w_size;do{if(E=d.window_size-d.lookahead-d.strstart,d.strstart>=Q+(Q-le)){for(a.arraySet(d.window,d.window,Q,Q,0),d.match_start-=Q,d.strstart-=Q,d.block_start-=Q,j=N=d.hash_size;v=d.head[--j],d.head[j]=Q<=v?v-Q:0,--N;);for(j=N=Q;v=d.prev[--j],d.prev[j]=Q<=v?v-Q:0,--N;);E+=Q}if(d.strm.avail_in===0)break;if(q=d.strm,Z=d.window,D=d.strstart+d.lookahead,X=E,ie=void 0,ie=q.avail_in,X<ie&&(ie=X),N=ie===0?0:(q.avail_in-=ie,a.arraySet(Z,q.input,q.next_in,ie,D),q.state.wrap===1?q.adler=c(q.adler,Z,ie,D):q.state.wrap===2&&(q.adler=u(q.adler,Z,ie,D)),q.next_in+=ie,q.total_in+=ie,ie),d.lookahead+=N,d.lookahead+d.insert>=U)for(T=d.strstart-d.insert,d.ins_h=d.window[T],d.ins_h=(d.ins_h<<d.hash_shift^d.window[T+1])&d.hash_mask;d.insert&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[T+U-1])&d.hash_mask,d.prev[T&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=T,T++,d.insert--,!(d.lookahead+d.insert<U)););}while(d.lookahead<le&&d.strm.avail_in!==0)}function Je(d,j){for(var N,v;;){if(d.lookahead<le){if(Ne(d),d.lookahead<le&&j===f)return g;if(d.lookahead===0)break}if(N=0,d.lookahead>=U&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+U-1])&d.hash_mask,N=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),N!==0&&d.strstart-N<=d.w_size-le&&(d.match_length=re(d,N)),d.match_length>=U)if(v=o._tr_tally(d,d.strstart-d.match_start,d.match_length-U),d.lookahead-=d.match_length,d.match_length<=d.max_lazy_match&&d.lookahead>=U){for(d.match_length--;d.strstart++,d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+U-1])&d.hash_mask,N=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart,--d.match_length!=0;);d.strstart++}else d.strstart+=d.match_length,d.match_length=0,d.ins_h=d.window[d.strstart],d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+1])&d.hash_mask;else v=o._tr_tally(d,0,d.window[d.strstart]),d.lookahead--,d.strstart++;if(v&&(O(d,!1),d.strm.avail_out===0))return g}return d.insert=d.strstart<U-1?d.strstart:U-1,j===p?(O(d,!0),d.strm.avail_out===0?pe:G):d.last_lit&&(O(d,!1),d.strm.avail_out===0)?g:W}function Ee(d,j){for(var N,v,E;;){if(d.lookahead<le){if(Ne(d),d.lookahead<le&&j===f)return g;if(d.lookahead===0)break}if(N=0,d.lookahead>=U&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+U-1])&d.hash_mask,N=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),d.prev_length=d.match_length,d.prev_match=d.match_start,d.match_length=U-1,N!==0&&d.prev_length<d.max_lazy_match&&d.strstart-N<=d.w_size-le&&(d.match_length=re(d,N),d.match_length<=5&&(d.strategy===1||d.match_length===U&&4096<d.strstart-d.match_start)&&(d.match_length=U-1)),d.prev_length>=U&&d.match_length<=d.prev_length){for(E=d.strstart+d.lookahead-U,v=o._tr_tally(d,d.strstart-1-d.prev_match,d.prev_length-U),d.lookahead-=d.prev_length-1,d.prev_length-=2;++d.strstart<=E&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+U-1])&d.hash_mask,N=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),--d.prev_length!=0;);if(d.match_available=0,d.match_length=U-1,d.strstart++,v&&(O(d,!1),d.strm.avail_out===0))return g}else if(d.match_available){if((v=o._tr_tally(d,0,d.window[d.strstart-1]))&&O(d,!1),d.strstart++,d.lookahead--,d.strm.avail_out===0)return g}else d.match_available=1,d.strstart++,d.lookahead--}return d.match_available&&(v=o._tr_tally(d,0,d.window[d.strstart-1]),d.match_available=0),d.insert=d.strstart<U-1?d.strstart:U-1,j===p?(O(d,!0),d.strm.avail_out===0?pe:G):d.last_lit&&(O(d,!1),d.strm.avail_out===0)?g:W}function Ae(d,j,N,v,E){this.good_length=d,this.max_lazy=j,this.nice_length=N,this.max_chain=v,this.func=E}function Ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*F),this.dyn_dtree=new a.Buf16(2*(2*R+1)),this.bl_tree=new a.Buf16(2*(2*L+1)),fe(this.dyn_ltree),fe(this.dyn_dtree),fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(V+1),this.heap=new a.Buf16(2*k+1),fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*k+1),fe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Me(d){var j;return d&&d.state?(d.total_in=d.total_out=0,d.data_type=w,(j=d.state).pending=0,j.pending_out=0,j.wrap<0&&(j.wrap=-j.wrap),j.status=j.wrap?C:$,d.adler=j.wrap===2?0:1,j.last_flush=f,o._tr_init(j),l):be(d,y)}function Et(d){var j=Me(d);return j===l&&(function(N){N.window_size=2*N.w_size,fe(N.head),N.max_lazy_match=i[N.level].max_lazy,N.good_match=i[N.level].good_length,N.nice_match=i[N.level].nice_length,N.max_chain_length=i[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=U-1,N.match_available=0,N.ins_h=0})(d.state),j}function St(d,j,N,v,E,T){if(!d)return y;var q=1;if(j===m&&(j=6),v<0?(q=0,v=-v):15<v&&(q=2,v-=16),E<1||A<E||N!==S||v<8||15<v||j<0||9<j||T<0||b<T)return be(d,y);v===8&&(v=9);var Z=new Ve;return(d.state=Z).strm=d,Z.wrap=q,Z.gzhead=null,Z.w_bits=v,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=E+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+U-1)/U),Z.window=new a.Buf8(2*Z.w_size),Z.head=new a.Buf16(Z.hash_size),Z.prev=new a.Buf16(Z.w_size),Z.lit_bufsize=1<<E+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new a.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=j,Z.strategy=T,Z.method=N,Et(d)}i=[new Ae(0,0,0,0,function(d,j){var N=65535;for(N>d.pending_buf_size-5&&(N=d.pending_buf_size-5);;){if(d.lookahead<=1){if(Ne(d),d.lookahead===0&&j===f)return g;if(d.lookahead===0)break}d.strstart+=d.lookahead,d.lookahead=0;var v=d.block_start+N;if((d.strstart===0||d.strstart>=v)&&(d.lookahead=d.strstart-v,d.strstart=v,O(d,!1),d.strm.avail_out===0)||d.strstart-d.block_start>=d.w_size-le&&(O(d,!1),d.strm.avail_out===0))return g}return d.insert=0,j===p?(O(d,!0),d.strm.avail_out===0?pe:G):(d.strstart>d.block_start&&(O(d,!1),d.strm.avail_out),g)}),new Ae(4,4,8,4,Je),new Ae(4,5,16,8,Je),new Ae(4,6,32,32,Je),new Ae(4,4,16,16,Ee),new Ae(8,16,32,32,Ee),new Ae(8,16,128,128,Ee),new Ae(8,32,128,256,Ee),new Ae(32,128,258,1024,Ee),new Ae(32,258,258,4096,Ee)],s.deflateInit=function(d,j){return St(d,j,S,15,8,0)},s.deflateInit2=St,s.deflateReset=Et,s.deflateResetKeep=Me,s.deflateSetHeader=function(d,j){return d&&d.state?d.state.wrap!==2?y:(d.state.gzhead=j,l):y},s.deflate=function(d,j){var N,v,E,T;if(!d||!d.state||5<j||j<0)return d?be(d,y):y;if(v=d.state,!d.output||!d.input&&d.avail_in!==0||v.status===666&&j!==p)return be(d,d.avail_out===0?-5:y);if(v.strm=d,N=v.last_flush,v.last_flush=j,v.status===C)if(v.wrap===2)d.adler=0,ue(v,31),ue(v,139),ue(v,8),v.gzhead?(ue(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),ue(v,255&v.gzhead.time),ue(v,v.gzhead.time>>8&255),ue(v,v.gzhead.time>>16&255),ue(v,v.gzhead.time>>24&255),ue(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),ue(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(ue(v,255&v.gzhead.extra.length),ue(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(d.adler=u(d.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(ue(v,0),ue(v,0),ue(v,0),ue(v,0),ue(v,0),ue(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),ue(v,3),v.status=$);else{var q=S+(v.w_bits-8<<4)<<8;q|=(2<=v.strategy||v.level<2?0:v.level<6?1:v.level===6?2:3)<<6,v.strstart!==0&&(q|=32),q+=31-q%31,v.status=$,se(v,q),v.strstart!==0&&(se(v,d.adler>>>16),se(v,65535&d.adler)),d.adler=1}if(v.status===69)if(v.gzhead.extra){for(E=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>E&&(d.adler=u(d.adler,v.pending_buf,v.pending-E,E)),P(d),E=v.pending,v.pending!==v.pending_buf_size));)ue(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>E&&(d.adler=u(d.adler,v.pending_buf,v.pending-E,E)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(v.status===73)if(v.gzhead.name){E=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>E&&(d.adler=u(d.adler,v.pending_buf,v.pending-E,E)),P(d),E=v.pending,v.pending===v.pending_buf_size)){T=1;break}T=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,ue(v,T)}while(T!==0);v.gzhead.hcrc&&v.pending>E&&(d.adler=u(d.adler,v.pending_buf,v.pending-E,E)),T===0&&(v.gzindex=0,v.status=91)}else v.status=91;if(v.status===91)if(v.gzhead.comment){E=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>E&&(d.adler=u(d.adler,v.pending_buf,v.pending-E,E)),P(d),E=v.pending,v.pending===v.pending_buf_size)){T=1;break}T=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,ue(v,T)}while(T!==0);v.gzhead.hcrc&&v.pending>E&&(d.adler=u(d.adler,v.pending_buf,v.pending-E,E)),T===0&&(v.status=103)}else v.status=103;if(v.status===103&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&P(d),v.pending+2<=v.pending_buf_size&&(ue(v,255&d.adler),ue(v,d.adler>>8&255),d.adler=0,v.status=$)):v.status=$),v.pending!==0){if(P(d),d.avail_out===0)return v.last_flush=-1,l}else if(d.avail_in===0&&K(j)<=K(N)&&j!==p)return be(d,-5);if(v.status===666&&d.avail_in!==0)return be(d,-5);if(d.avail_in!==0||v.lookahead!==0||j!==f&&v.status!==666){var Z=v.strategy===2?(function(D,X){for(var ie;;){if(D.lookahead===0&&(Ne(D),D.lookahead===0)){if(X===f)return g;break}if(D.match_length=0,ie=o._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++,ie&&(O(D,!1),D.strm.avail_out===0))return g}return D.insert=0,X===p?(O(D,!0),D.strm.avail_out===0?pe:G):D.last_lit&&(O(D,!1),D.strm.avail_out===0)?g:W})(v,j):v.strategy===3?(function(D,X){for(var ie,Q,ce,Te,ve=D.window;;){if(D.lookahead<=Y){if(Ne(D),D.lookahead<=Y&&X===f)return g;if(D.lookahead===0)break}if(D.match_length=0,D.lookahead>=U&&0<D.strstart&&(Q=ve[ce=D.strstart-1])===ve[++ce]&&Q===ve[++ce]&&Q===ve[++ce]){Te=D.strstart+Y;do;while(Q===ve[++ce]&&Q===ve[++ce]&&Q===ve[++ce]&&Q===ve[++ce]&&Q===ve[++ce]&&Q===ve[++ce]&&Q===ve[++ce]&&Q===ve[++ce]&&ce<Te);D.match_length=Y-(Te-ce),D.match_length>D.lookahead&&(D.match_length=D.lookahead)}if(D.match_length>=U?(ie=o._tr_tally(D,1,D.match_length-U),D.lookahead-=D.match_length,D.strstart+=D.match_length,D.match_length=0):(ie=o._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++),ie&&(O(D,!1),D.strm.avail_out===0))return g}return D.insert=0,X===p?(O(D,!0),D.strm.avail_out===0?pe:G):D.last_lit&&(O(D,!1),D.strm.avail_out===0)?g:W})(v,j):i[v.level].func(v,j);if(Z!==pe&&Z!==G||(v.status=666),Z===g||Z===pe)return d.avail_out===0&&(v.last_flush=-1),l;if(Z===W&&(j===1?o._tr_align(v):j!==5&&(o._tr_stored_block(v,0,0,!1),j===3&&(fe(v.head),v.lookahead===0&&(v.strstart=0,v.block_start=0,v.insert=0))),P(d),d.avail_out===0))return v.last_flush=-1,l}return j!==p?l:v.wrap<=0?1:(v.wrap===2?(ue(v,255&d.adler),ue(v,d.adler>>8&255),ue(v,d.adler>>16&255),ue(v,d.adler>>24&255),ue(v,255&d.total_in),ue(v,d.total_in>>8&255),ue(v,d.total_in>>16&255),ue(v,d.total_in>>24&255)):(se(v,d.adler>>>16),se(v,65535&d.adler)),P(d),0<v.wrap&&(v.wrap=-v.wrap),v.pending!==0?l:1)},s.deflateEnd=function(d){var j;return d&&d.state?(j=d.state.status)!==C&&j!==69&&j!==73&&j!==91&&j!==103&&j!==$&&j!==666?be(d,y):(d.state=null,j===$?be(d,-3):l):y},s.deflateSetDictionary=function(d,j){var N,v,E,T,q,Z,D,X,ie=j.length;if(!d||!d.state||(T=(N=d.state).wrap)===2||T===1&&N.status!==C||N.lookahead)return y;for(T===1&&(d.adler=c(d.adler,j,ie,0)),N.wrap=0,ie>=N.w_size&&(T===0&&(fe(N.head),N.strstart=0,N.block_start=0,N.insert=0),X=new a.Buf8(N.w_size),a.arraySet(X,j,ie-N.w_size,N.w_size,0),j=X,ie=N.w_size),q=d.avail_in,Z=d.next_in,D=d.input,d.avail_in=ie,d.next_in=0,d.input=j,Ne(N);N.lookahead>=U;){for(v=N.strstart,E=N.lookahead-(U-1);N.ins_h=(N.ins_h<<N.hash_shift^N.window[v+U-1])&N.hash_mask,N.prev[v&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=v,v++,--E;);N.strstart=v,N.lookahead=U-1,Ne(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=U-1,N.match_available=0,d.next_in=Z,d.input=D,d.avail_in=q,N.wrap=T,l},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,s){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,s){n.exports=function(i,a){var o,c,u,h,f,p,l,y,m,b,w,S,A,k,R,L,F,V,U,Y,le,C,$,g,W;o=i.state,c=i.next_in,g=i.input,u=c+(i.avail_in-5),h=i.next_out,W=i.output,f=h-(a-i.avail_out),p=h+(i.avail_out-257),l=o.dmax,y=o.wsize,m=o.whave,b=o.wnext,w=o.window,S=o.hold,A=o.bits,k=o.lencode,R=o.distcode,L=(1<<o.lenbits)-1,F=(1<<o.distbits)-1;e:do{A<15&&(S+=g[c++]<<A,A+=8,S+=g[c++]<<A,A+=8),V=k[S&L];t:for(;;){if(S>>>=U=V>>>24,A-=U,(U=V>>>16&255)===0)W[h++]=65535&V;else{if(!(16&U)){if((64&U)==0){V=k[(65535&V)+(S&(1<<U)-1)];continue t}if(32&U){o.mode=12;break e}i.msg="invalid literal/length code",o.mode=30;break e}Y=65535&V,(U&=15)&&(A<U&&(S+=g[c++]<<A,A+=8),Y+=S&(1<<U)-1,S>>>=U,A-=U),A<15&&(S+=g[c++]<<A,A+=8,S+=g[c++]<<A,A+=8),V=R[S&F];r:for(;;){if(S>>>=U=V>>>24,A-=U,!(16&(U=V>>>16&255))){if((64&U)==0){V=R[(65535&V)+(S&(1<<U)-1)];continue r}i.msg="invalid distance code",o.mode=30;break e}if(le=65535&V,A<(U&=15)&&(S+=g[c++]<<A,(A+=8)<U&&(S+=g[c++]<<A,A+=8)),l<(le+=S&(1<<U)-1)){i.msg="invalid distance too far back",o.mode=30;break e}if(S>>>=U,A-=U,(U=h-f)<le){if(m<(U=le-U)&&o.sane){i.msg="invalid distance too far back",o.mode=30;break e}if($=w,(C=0)===b){if(C+=y-U,U<Y){for(Y-=U;W[h++]=w[C++],--U;);C=h-le,$=W}}else if(b<U){if(C+=y+b-U,(U-=b)<Y){for(Y-=U;W[h++]=w[C++],--U;);if(C=0,b<Y){for(Y-=U=b;W[h++]=w[C++],--U;);C=h-le,$=W}}}else if(C+=b-U,U<Y){for(Y-=U;W[h++]=w[C++],--U;);C=h-le,$=W}for(;2<Y;)W[h++]=$[C++],W[h++]=$[C++],W[h++]=$[C++],Y-=3;Y&&(W[h++]=$[C++],1<Y&&(W[h++]=$[C++]))}else{for(C=h-le;W[h++]=W[C++],W[h++]=W[C++],W[h++]=W[C++],2<(Y-=3););Y&&(W[h++]=W[C++],1<Y&&(W[h++]=W[C++]))}break}}break}}while(c<u&&h<p);c-=Y=A>>3,S&=(1<<(A-=Y<<3))-1,i.next_in=c,i.next_out=h,i.avail_in=c<u?u-c+5:5-(c-u),i.avail_out=h<p?p-h+257:257-(h-p),o.hold=S,o.bits=A}},{}],49:[function(r,n,s){var i=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),c=r("./inffast"),u=r("./inftrees"),h=1,f=2,p=0,l=-2,y=1,m=852,b=592;function w(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(C){var $;return C&&C.state?($=C.state,C.total_in=C.total_out=$.total=0,C.msg="",$.wrap&&(C.adler=1&$.wrap),$.mode=y,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new i.Buf32(m),$.distcode=$.distdyn=new i.Buf32(b),$.sane=1,$.back=-1,p):l}function k(C){var $;return C&&C.state?(($=C.state).wsize=0,$.whave=0,$.wnext=0,A(C)):l}function R(C,$){var g,W;return C&&C.state?(W=C.state,$<0?(g=0,$=-$):(g=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?l:(W.window!==null&&W.wbits!==$&&(W.window=null),W.wrap=g,W.wbits=$,k(C))):l}function L(C,$){var g,W;return C?(W=new S,(C.state=W).window=null,(g=R(C,$))!==p&&(C.state=null),g):l}var F,V,U=!0;function Y(C){if(U){var $;for(F=new i.Buf32(512),V=new i.Buf32(32),$=0;$<144;)C.lens[$++]=8;for(;$<256;)C.lens[$++]=9;for(;$<280;)C.lens[$++]=7;for(;$<288;)C.lens[$++]=8;for(u(h,C.lens,0,288,F,0,C.work,{bits:9}),$=0;$<32;)C.lens[$++]=5;u(f,C.lens,0,32,V,0,C.work,{bits:5}),U=!1}C.lencode=F,C.lenbits=9,C.distcode=V,C.distbits=5}function le(C,$,g,W){var pe,G=C.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new i.Buf8(G.wsize)),W>=G.wsize?(i.arraySet(G.window,$,g-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(W<(pe=G.wsize-G.wnext)&&(pe=W),i.arraySet(G.window,$,g-W,pe,G.wnext),(W-=pe)?(i.arraySet(G.window,$,g-W,W,0),G.wnext=W,G.whave=G.wsize):(G.wnext+=pe,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=pe))),0}s.inflateReset=k,s.inflateReset2=R,s.inflateResetKeep=A,s.inflateInit=function(C){return L(C,15)},s.inflateInit2=L,s.inflate=function(C,$){var g,W,pe,G,be,K,fe,P,O,ue,se,re,Ne,Je,Ee,Ae,Ve,Me,Et,St,d,j,N,v,E=0,T=new i.Buf8(4),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return l;(g=C.state).mode===12&&(g.mode=13),be=C.next_out,pe=C.output,fe=C.avail_out,G=C.next_in,W=C.input,K=C.avail_in,P=g.hold,O=g.bits,ue=K,se=fe,j=p;e:for(;;)switch(g.mode){case y:if(g.wrap===0){g.mode=13;break}for(;O<16;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}if(2&g.wrap&&P===35615){T[g.check=0]=255&P,T[1]=P>>>8&255,g.check=o(g.check,T,2,0),O=P=0,g.mode=2;break}if(g.flags=0,g.head&&(g.head.done=!1),!(1&g.wrap)||(((255&P)<<8)+(P>>8))%31){C.msg="incorrect header check",g.mode=30;break}if((15&P)!=8){C.msg="unknown compression method",g.mode=30;break}if(O-=4,d=8+(15&(P>>>=4)),g.wbits===0)g.wbits=d;else if(d>g.wbits){C.msg="invalid window size",g.mode=30;break}g.dmax=1<<d,C.adler=g.check=1,g.mode=512&P?10:12,O=P=0;break;case 2:for(;O<16;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}if(g.flags=P,(255&g.flags)!=8){C.msg="unknown compression method",g.mode=30;break}if(57344&g.flags){C.msg="unknown header flags set",g.mode=30;break}g.head&&(g.head.text=P>>8&1),512&g.flags&&(T[0]=255&P,T[1]=P>>>8&255,g.check=o(g.check,T,2,0)),O=P=0,g.mode=3;case 3:for(;O<32;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}g.head&&(g.head.time=P),512&g.flags&&(T[0]=255&P,T[1]=P>>>8&255,T[2]=P>>>16&255,T[3]=P>>>24&255,g.check=o(g.check,T,4,0)),O=P=0,g.mode=4;case 4:for(;O<16;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}g.head&&(g.head.xflags=255&P,g.head.os=P>>8),512&g.flags&&(T[0]=255&P,T[1]=P>>>8&255,g.check=o(g.check,T,2,0)),O=P=0,g.mode=5;case 5:if(1024&g.flags){for(;O<16;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}g.length=P,g.head&&(g.head.extra_len=P),512&g.flags&&(T[0]=255&P,T[1]=P>>>8&255,g.check=o(g.check,T,2,0)),O=P=0}else g.head&&(g.head.extra=null);g.mode=6;case 6:if(1024&g.flags&&(K<(re=g.length)&&(re=K),re&&(g.head&&(d=g.head.extra_len-g.length,g.head.extra||(g.head.extra=new Array(g.head.extra_len)),i.arraySet(g.head.extra,W,G,re,d)),512&g.flags&&(g.check=o(g.check,W,re,G)),K-=re,G+=re,g.length-=re),g.length))break e;g.length=0,g.mode=7;case 7:if(2048&g.flags){if(K===0)break e;for(re=0;d=W[G+re++],g.head&&d&&g.length<65536&&(g.head.name+=String.fromCharCode(d)),d&&re<K;);if(512&g.flags&&(g.check=o(g.check,W,re,G)),K-=re,G+=re,d)break e}else g.head&&(g.head.name=null);g.length=0,g.mode=8;case 8:if(4096&g.flags){if(K===0)break e;for(re=0;d=W[G+re++],g.head&&d&&g.length<65536&&(g.head.comment+=String.fromCharCode(d)),d&&re<K;);if(512&g.flags&&(g.check=o(g.check,W,re,G)),K-=re,G+=re,d)break e}else g.head&&(g.head.comment=null);g.mode=9;case 9:if(512&g.flags){for(;O<16;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}if(P!==(65535&g.check)){C.msg="header crc mismatch",g.mode=30;break}O=P=0}g.head&&(g.head.hcrc=g.flags>>9&1,g.head.done=!0),C.adler=g.check=0,g.mode=12;break;case 10:for(;O<32;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}C.adler=g.check=w(P),O=P=0,g.mode=11;case 11:if(g.havedict===0)return C.next_out=be,C.avail_out=fe,C.next_in=G,C.avail_in=K,g.hold=P,g.bits=O,2;C.adler=g.check=1,g.mode=12;case 12:if($===5||$===6)break e;case 13:if(g.last){P>>>=7&O,O-=7&O,g.mode=27;break}for(;O<3;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}switch(g.last=1&P,O-=1,3&(P>>>=1)){case 0:g.mode=14;break;case 1:if(Y(g),g.mode=20,$!==6)break;P>>>=2,O-=2;break e;case 2:g.mode=17;break;case 3:C.msg="invalid block type",g.mode=30}P>>>=2,O-=2;break;case 14:for(P>>>=7&O,O-=7&O;O<32;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}if((65535&P)!=(P>>>16^65535)){C.msg="invalid stored block lengths",g.mode=30;break}if(g.length=65535&P,O=P=0,g.mode=15,$===6)break e;case 15:g.mode=16;case 16:if(re=g.length){if(K<re&&(re=K),fe<re&&(re=fe),re===0)break e;i.arraySet(pe,W,G,re,be),K-=re,G+=re,fe-=re,be+=re,g.length-=re;break}g.mode=12;break;case 17:for(;O<14;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}if(g.nlen=257+(31&P),P>>>=5,O-=5,g.ndist=1+(31&P),P>>>=5,O-=5,g.ncode=4+(15&P),P>>>=4,O-=4,286<g.nlen||30<g.ndist){C.msg="too many length or distance symbols",g.mode=30;break}g.have=0,g.mode=18;case 18:for(;g.have<g.ncode;){for(;O<3;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}g.lens[q[g.have++]]=7&P,P>>>=3,O-=3}for(;g.have<19;)g.lens[q[g.have++]]=0;if(g.lencode=g.lendyn,g.lenbits=7,N={bits:g.lenbits},j=u(0,g.lens,0,19,g.lencode,0,g.work,N),g.lenbits=N.bits,j){C.msg="invalid code lengths set",g.mode=30;break}g.have=0,g.mode=19;case 19:for(;g.have<g.nlen+g.ndist;){for(;Ae=(E=g.lencode[P&(1<<g.lenbits)-1])>>>16&255,Ve=65535&E,!((Ee=E>>>24)<=O);){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}if(Ve<16)P>>>=Ee,O-=Ee,g.lens[g.have++]=Ve;else{if(Ve===16){for(v=Ee+2;O<v;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}if(P>>>=Ee,O-=Ee,g.have===0){C.msg="invalid bit length repeat",g.mode=30;break}d=g.lens[g.have-1],re=3+(3&P),P>>>=2,O-=2}else if(Ve===17){for(v=Ee+3;O<v;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}O-=Ee,d=0,re=3+(7&(P>>>=Ee)),P>>>=3,O-=3}else{for(v=Ee+7;O<v;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}O-=Ee,d=0,re=11+(127&(P>>>=Ee)),P>>>=7,O-=7}if(g.have+re>g.nlen+g.ndist){C.msg="invalid bit length repeat",g.mode=30;break}for(;re--;)g.lens[g.have++]=d}}if(g.mode===30)break;if(g.lens[256]===0){C.msg="invalid code -- missing end-of-block",g.mode=30;break}if(g.lenbits=9,N={bits:g.lenbits},j=u(h,g.lens,0,g.nlen,g.lencode,0,g.work,N),g.lenbits=N.bits,j){C.msg="invalid literal/lengths set",g.mode=30;break}if(g.distbits=6,g.distcode=g.distdyn,N={bits:g.distbits},j=u(f,g.lens,g.nlen,g.ndist,g.distcode,0,g.work,N),g.distbits=N.bits,j){C.msg="invalid distances set",g.mode=30;break}if(g.mode=20,$===6)break e;case 20:g.mode=21;case 21:if(6<=K&&258<=fe){C.next_out=be,C.avail_out=fe,C.next_in=G,C.avail_in=K,g.hold=P,g.bits=O,c(C,se),be=C.next_out,pe=C.output,fe=C.avail_out,G=C.next_in,W=C.input,K=C.avail_in,P=g.hold,O=g.bits,g.mode===12&&(g.back=-1);break}for(g.back=0;Ae=(E=g.lencode[P&(1<<g.lenbits)-1])>>>16&255,Ve=65535&E,!((Ee=E>>>24)<=O);){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}if(Ae&&(240&Ae)==0){for(Me=Ee,Et=Ae,St=Ve;Ae=(E=g.lencode[St+((P&(1<<Me+Et)-1)>>Me)])>>>16&255,Ve=65535&E,!(Me+(Ee=E>>>24)<=O);){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}P>>>=Me,O-=Me,g.back+=Me}if(P>>>=Ee,O-=Ee,g.back+=Ee,g.length=Ve,Ae===0){g.mode=26;break}if(32&Ae){g.back=-1,g.mode=12;break}if(64&Ae){C.msg="invalid literal/length code",g.mode=30;break}g.extra=15&Ae,g.mode=22;case 22:if(g.extra){for(v=g.extra;O<v;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}g.length+=P&(1<<g.extra)-1,P>>>=g.extra,O-=g.extra,g.back+=g.extra}g.was=g.length,g.mode=23;case 23:for(;Ae=(E=g.distcode[P&(1<<g.distbits)-1])>>>16&255,Ve=65535&E,!((Ee=E>>>24)<=O);){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}if((240&Ae)==0){for(Me=Ee,Et=Ae,St=Ve;Ae=(E=g.distcode[St+((P&(1<<Me+Et)-1)>>Me)])>>>16&255,Ve=65535&E,!(Me+(Ee=E>>>24)<=O);){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}P>>>=Me,O-=Me,g.back+=Me}if(P>>>=Ee,O-=Ee,g.back+=Ee,64&Ae){C.msg="invalid distance code",g.mode=30;break}g.offset=Ve,g.extra=15&Ae,g.mode=24;case 24:if(g.extra){for(v=g.extra;O<v;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}g.offset+=P&(1<<g.extra)-1,P>>>=g.extra,O-=g.extra,g.back+=g.extra}if(g.offset>g.dmax){C.msg="invalid distance too far back",g.mode=30;break}g.mode=25;case 25:if(fe===0)break e;if(re=se-fe,g.offset>re){if((re=g.offset-re)>g.whave&&g.sane){C.msg="invalid distance too far back",g.mode=30;break}Ne=re>g.wnext?(re-=g.wnext,g.wsize-re):g.wnext-re,re>g.length&&(re=g.length),Je=g.window}else Je=pe,Ne=be-g.offset,re=g.length;for(fe<re&&(re=fe),fe-=re,g.length-=re;pe[be++]=Je[Ne++],--re;);g.length===0&&(g.mode=21);break;case 26:if(fe===0)break e;pe[be++]=g.length,fe--,g.mode=21;break;case 27:if(g.wrap){for(;O<32;){if(K===0)break e;K--,P|=W[G++]<<O,O+=8}if(se-=fe,C.total_out+=se,g.total+=se,se&&(C.adler=g.check=g.flags?o(g.check,pe,se,be-se):a(g.check,pe,se,be-se)),se=fe,(g.flags?P:w(P))!==g.check){C.msg="incorrect data check",g.mode=30;break}O=P=0}g.mode=28;case 28:if(g.wrap&&g.flags){for(;O<32;){if(K===0)break e;K--,P+=W[G++]<<O,O+=8}if(P!==(4294967295&g.total)){C.msg="incorrect length check",g.mode=30;break}O=P=0}g.mode=29;case 29:j=1;break e;case 30:j=-3;break e;case 31:return-4;case 32:default:return l}return C.next_out=be,C.avail_out=fe,C.next_in=G,C.avail_in=K,g.hold=P,g.bits=O,(g.wsize||se!==C.avail_out&&g.mode<30&&(g.mode<27||$!==4))&&le(C,C.output,C.next_out,se-C.avail_out)?(g.mode=31,-4):(ue-=C.avail_in,se-=C.avail_out,C.total_in+=ue,C.total_out+=se,g.total+=se,g.wrap&&se&&(C.adler=g.check=g.flags?o(g.check,pe,se,C.next_out-se):a(g.check,pe,se,C.next_out-se)),C.data_type=g.bits+(g.last?64:0)+(g.mode===12?128:0)+(g.mode===20||g.mode===15?256:0),(ue==0&&se===0||$===4)&&j===p&&(j=-5),j)},s.inflateEnd=function(C){if(!C||!C.state)return l;var $=C.state;return $.window&&($.window=null),C.state=null,p},s.inflateGetHeader=function(C,$){var g;return C&&C.state?(2&(g=C.state).wrap)==0?l:((g.head=$).done=!1,p):l},s.inflateSetDictionary=function(C,$){var g,W=$.length;return C&&C.state?(g=C.state).wrap!==0&&g.mode!==11?l:g.mode===11&&a(1,$,W,0)!==g.check?-3:le(C,$,W,W)?(g.mode=31,-4):(g.havedict=1,p):l},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,s){var i=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(h,f,p,l,y,m,b,w){var S,A,k,R,L,F,V,U,Y,le=w.bits,C=0,$=0,g=0,W=0,pe=0,G=0,be=0,K=0,fe=0,P=0,O=null,ue=0,se=new i.Buf16(16),re=new i.Buf16(16),Ne=null,Je=0;for(C=0;C<=15;C++)se[C]=0;for($=0;$<l;$++)se[f[p+$]]++;for(pe=le,W=15;1<=W&&se[W]===0;W--);if(W<pe&&(pe=W),W===0)return y[m++]=20971520,y[m++]=20971520,w.bits=1,0;for(g=1;g<W&&se[g]===0;g++);for(pe<g&&(pe=g),C=K=1;C<=15;C++)if(K<<=1,(K-=se[C])<0)return-1;if(0<K&&(h===0||W!==1))return-1;for(re[1]=0,C=1;C<15;C++)re[C+1]=re[C]+se[C];for($=0;$<l;$++)f[p+$]!==0&&(b[re[f[p+$]]++]=$);if(F=h===0?(O=Ne=b,19):h===1?(O=a,ue-=257,Ne=o,Je-=257,256):(O=c,Ne=u,-1),C=g,L=m,be=$=P=0,k=-1,R=(fe=1<<(G=pe))-1,h===1&&852<fe||h===2&&592<fe)return 1;for(;;){for(V=C-be,Y=b[$]<F?(U=0,b[$]):b[$]>F?(U=Ne[Je+b[$]],O[ue+b[$]]):(U=96,0),S=1<<C-be,g=A=1<<G;y[L+(P>>be)+(A-=S)]=V<<24|U<<16|Y|0,A!==0;);for(S=1<<C-1;P&S;)S>>=1;if(S!==0?(P&=S-1,P+=S):P=0,$++,--se[C]==0){if(C===W)break;C=f[p+b[$]]}if(pe<C&&(P&R)!==k){for(be===0&&(be=pe),L+=g,K=1<<(G=C-be);G+be<W&&!((K-=se[G+be])<=0);)G++,K<<=1;if(fe+=1<<G,h===1&&852<fe||h===2&&592<fe)return 1;y[k=P&R]=pe<<24|G<<16|L-m|0}}return P!==0&&(y[L+P]=C-be<<24|64<<16|0),w.bits=pe,0}},{"../utils/common":41}],51:[function(r,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,s){var i=r("../utils/common"),a=0,o=1;function c(E){for(var T=E.length;0<=--T;)E[T]=0}var u=0,h=29,f=256,p=f+1+h,l=30,y=19,m=2*p+1,b=15,w=16,S=7,A=256,k=16,R=17,L=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=new Array(2*(p+2));c(le);var C=new Array(2*l);c(C);var $=new Array(512);c($);var g=new Array(256);c(g);var W=new Array(h);c(W);var pe,G,be,K=new Array(l);function fe(E,T,q,Z,D){this.static_tree=E,this.extra_bits=T,this.extra_base=q,this.elems=Z,this.max_length=D,this.has_stree=E&&E.length}function P(E,T){this.dyn_tree=E,this.max_code=0,this.stat_desc=T}function O(E){return E<256?$[E]:$[256+(E>>>7)]}function ue(E,T){E.pending_buf[E.pending++]=255&T,E.pending_buf[E.pending++]=T>>>8&255}function se(E,T,q){E.bi_valid>w-q?(E.bi_buf|=T<<E.bi_valid&65535,ue(E,E.bi_buf),E.bi_buf=T>>w-E.bi_valid,E.bi_valid+=q-w):(E.bi_buf|=T<<E.bi_valid&65535,E.bi_valid+=q)}function re(E,T,q){se(E,q[2*T],q[2*T+1])}function Ne(E,T){for(var q=0;q|=1&E,E>>>=1,q<<=1,0<--T;);return q>>>1}function Je(E,T,q){var Z,D,X=new Array(b+1),ie=0;for(Z=1;Z<=b;Z++)X[Z]=ie=ie+q[Z-1]<<1;for(D=0;D<=T;D++){var Q=E[2*D+1];Q!==0&&(E[2*D]=Ne(X[Q]++,Q))}}function Ee(E){var T;for(T=0;T<p;T++)E.dyn_ltree[2*T]=0;for(T=0;T<l;T++)E.dyn_dtree[2*T]=0;for(T=0;T<y;T++)E.bl_tree[2*T]=0;E.dyn_ltree[2*A]=1,E.opt_len=E.static_len=0,E.last_lit=E.matches=0}function Ae(E){8<E.bi_valid?ue(E,E.bi_buf):0<E.bi_valid&&(E.pending_buf[E.pending++]=E.bi_buf),E.bi_buf=0,E.bi_valid=0}function Ve(E,T,q,Z){var D=2*T,X=2*q;return E[D]<E[X]||E[D]===E[X]&&Z[T]<=Z[q]}function Me(E,T,q){for(var Z=E.heap[q],D=q<<1;D<=E.heap_len&&(D<E.heap_len&&Ve(T,E.heap[D+1],E.heap[D],E.depth)&&D++,!Ve(T,Z,E.heap[D],E.depth));)E.heap[q]=E.heap[D],q=D,D<<=1;E.heap[q]=Z}function Et(E,T,q){var Z,D,X,ie,Q=0;if(E.last_lit!==0)for(;Z=E.pending_buf[E.d_buf+2*Q]<<8|E.pending_buf[E.d_buf+2*Q+1],D=E.pending_buf[E.l_buf+Q],Q++,Z===0?re(E,D,T):(re(E,(X=g[D])+f+1,T),(ie=F[X])!==0&&se(E,D-=W[X],ie),re(E,X=O(--Z),q),(ie=V[X])!==0&&se(E,Z-=K[X],ie)),Q<E.last_lit;);re(E,A,T)}function St(E,T){var q,Z,D,X=T.dyn_tree,ie=T.stat_desc.static_tree,Q=T.stat_desc.has_stree,ce=T.stat_desc.elems,Te=-1;for(E.heap_len=0,E.heap_max=m,q=0;q<ce;q++)X[2*q]!==0?(E.heap[++E.heap_len]=Te=q,E.depth[q]=0):X[2*q+1]=0;for(;E.heap_len<2;)X[2*(D=E.heap[++E.heap_len]=Te<2?++Te:0)]=1,E.depth[D]=0,E.opt_len--,Q&&(E.static_len-=ie[2*D+1]);for(T.max_code=Te,q=E.heap_len>>1;1<=q;q--)Me(E,X,q);for(D=ce;q=E.heap[1],E.heap[1]=E.heap[E.heap_len--],Me(E,X,1),Z=E.heap[1],E.heap[--E.heap_max]=q,E.heap[--E.heap_max]=Z,X[2*D]=X[2*q]+X[2*Z],E.depth[D]=(E.depth[q]>=E.depth[Z]?E.depth[q]:E.depth[Z])+1,X[2*q+1]=X[2*Z+1]=D,E.heap[1]=D++,Me(E,X,1),2<=E.heap_len;);E.heap[--E.heap_max]=E.heap[1],(function(ve,gt){var lr,vt,dr,Fe,Dr,pn,Rt=gt.dyn_tree,js=gt.max_code,tu=gt.stat_desc.static_tree,ru=gt.stat_desc.has_stree,nu=gt.stat_desc.extra_bits,Ws=gt.stat_desc.extra_base,fr=gt.stat_desc.max_length,Br=0;for(Fe=0;Fe<=b;Fe++)ve.bl_count[Fe]=0;for(Rt[2*ve.heap[ve.heap_max]+1]=0,lr=ve.heap_max+1;lr<m;lr++)fr<(Fe=Rt[2*Rt[2*(vt=ve.heap[lr])+1]+1]+1)&&(Fe=fr,Br++),Rt[2*vt+1]=Fe,js<vt||(ve.bl_count[Fe]++,Dr=0,Ws<=vt&&(Dr=nu[vt-Ws]),pn=Rt[2*vt],ve.opt_len+=pn*(Fe+Dr),ru&&(ve.static_len+=pn*(tu[2*vt+1]+Dr)));if(Br!==0){do{for(Fe=fr-1;ve.bl_count[Fe]===0;)Fe--;ve.bl_count[Fe]--,ve.bl_count[Fe+1]+=2,ve.bl_count[fr]--,Br-=2}while(0<Br);for(Fe=fr;Fe!==0;Fe--)for(vt=ve.bl_count[Fe];vt!==0;)js<(dr=ve.heap[--lr])||(Rt[2*dr+1]!==Fe&&(ve.opt_len+=(Fe-Rt[2*dr+1])*Rt[2*dr],Rt[2*dr+1]=Fe),vt--)}})(E,T),Je(X,Te,E.bl_count)}function d(E,T,q){var Z,D,X=-1,ie=T[1],Q=0,ce=7,Te=4;for(ie===0&&(ce=138,Te=3),T[2*(q+1)+1]=65535,Z=0;Z<=q;Z++)D=ie,ie=T[2*(Z+1)+1],++Q<ce&&D===ie||(Q<Te?E.bl_tree[2*D]+=Q:D!==0?(D!==X&&E.bl_tree[2*D]++,E.bl_tree[2*k]++):Q<=10?E.bl_tree[2*R]++:E.bl_tree[2*L]++,X=D,Te=(Q=0)===ie?(ce=138,3):D===ie?(ce=6,3):(ce=7,4))}function j(E,T,q){var Z,D,X=-1,ie=T[1],Q=0,ce=7,Te=4;for(ie===0&&(ce=138,Te=3),Z=0;Z<=q;Z++)if(D=ie,ie=T[2*(Z+1)+1],!(++Q<ce&&D===ie)){if(Q<Te)for(;re(E,D,E.bl_tree),--Q!=0;);else D!==0?(D!==X&&(re(E,D,E.bl_tree),Q--),re(E,k,E.bl_tree),se(E,Q-3,2)):Q<=10?(re(E,R,E.bl_tree),se(E,Q-3,3)):(re(E,L,E.bl_tree),se(E,Q-11,7));X=D,Te=(Q=0)===ie?(ce=138,3):D===ie?(ce=6,3):(ce=7,4)}}c(K);var N=!1;function v(E,T,q,Z){se(E,(u<<1)+(Z?1:0),3),(function(D,X,ie,Q){Ae(D),ue(D,ie),ue(D,~ie),i.arraySet(D.pending_buf,D.window,X,ie,D.pending),D.pending+=ie})(E,T,q)}s._tr_init=function(E){N||((function(){var T,q,Z,D,X,ie=new Array(b+1);for(D=Z=0;D<h-1;D++)for(W[D]=Z,T=0;T<1<<F[D];T++)g[Z++]=D;for(g[Z-1]=D,D=X=0;D<16;D++)for(K[D]=X,T=0;T<1<<V[D];T++)$[X++]=D;for(X>>=7;D<l;D++)for(K[D]=X<<7,T=0;T<1<<V[D]-7;T++)$[256+X++]=D;for(q=0;q<=b;q++)ie[q]=0;for(T=0;T<=143;)le[2*T+1]=8,T++,ie[8]++;for(;T<=255;)le[2*T+1]=9,T++,ie[9]++;for(;T<=279;)le[2*T+1]=7,T++,ie[7]++;for(;T<=287;)le[2*T+1]=8,T++,ie[8]++;for(Je(le,p+1,ie),T=0;T<l;T++)C[2*T+1]=5,C[2*T]=Ne(T,5);pe=new fe(le,F,f+1,p,b),G=new fe(C,V,0,l,b),be=new fe(new Array(0),U,0,y,S)})(),N=!0),E.l_desc=new P(E.dyn_ltree,pe),E.d_desc=new P(E.dyn_dtree,G),E.bl_desc=new P(E.bl_tree,be),E.bi_buf=0,E.bi_valid=0,Ee(E)},s._tr_stored_block=v,s._tr_flush_block=function(E,T,q,Z){var D,X,ie=0;0<E.level?(E.strm.data_type===2&&(E.strm.data_type=(function(Q){var ce,Te=4093624447;for(ce=0;ce<=31;ce++,Te>>>=1)if(1&Te&&Q.dyn_ltree[2*ce]!==0)return a;if(Q.dyn_ltree[18]!==0||Q.dyn_ltree[20]!==0||Q.dyn_ltree[26]!==0)return o;for(ce=32;ce<f;ce++)if(Q.dyn_ltree[2*ce]!==0)return o;return a})(E)),St(E,E.l_desc),St(E,E.d_desc),ie=(function(Q){var ce;for(d(Q,Q.dyn_ltree,Q.l_desc.max_code),d(Q,Q.dyn_dtree,Q.d_desc.max_code),St(Q,Q.bl_desc),ce=y-1;3<=ce&&Q.bl_tree[2*Y[ce]+1]===0;ce--);return Q.opt_len+=3*(ce+1)+5+5+4,ce})(E),D=E.opt_len+3+7>>>3,(X=E.static_len+3+7>>>3)<=D&&(D=X)):D=X=q+5,q+4<=D&&T!==-1?v(E,T,q,Z):E.strategy===4||X===D?(se(E,2+(Z?1:0),3),Et(E,le,C)):(se(E,4+(Z?1:0),3),(function(Q,ce,Te,ve){var gt;for(se(Q,ce-257,5),se(Q,Te-1,5),se(Q,ve-4,4),gt=0;gt<ve;gt++)se(Q,Q.bl_tree[2*Y[gt]+1],3);j(Q,Q.dyn_ltree,ce-1),j(Q,Q.dyn_dtree,Te-1)})(E,E.l_desc.max_code+1,E.d_desc.max_code+1,ie+1),Et(E,E.dyn_ltree,E.dyn_dtree)),Ee(E),Z&&Ae(E)},s._tr_tally=function(E,T,q){return E.pending_buf[E.d_buf+2*E.last_lit]=T>>>8&255,E.pending_buf[E.d_buf+2*E.last_lit+1]=255&T,E.pending_buf[E.l_buf+E.last_lit]=255&q,E.last_lit++,T===0?E.dyn_ltree[2*q]++:(E.matches++,T--,E.dyn_ltree[2*(g[q]+f+1)]++,E.dyn_dtree[2*O(T)]++),E.last_lit===E.lit_bufsize-1},s._tr_align=function(E){se(E,2,3),re(E,A,le),(function(T){T.bi_valid===16?(ue(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):8<=T.bi_valid&&(T.pending_buf[T.pending++]=255&T.bi_buf,T.bi_buf>>=8,T.bi_valid-=8)})(E)}},{"../utils/common":41}],53:[function(r,n,s){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,s){(function(i){(function(a,o){if(!a.setImmediate){var c,u,h,f,p=1,l={},y=!1,m=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,c={}.toString.call(a.process)==="[object process]"?function(k){process.nextTick(function(){S(k)})}:(function(){if(a.postMessage&&!a.importScripts){var k=!0,R=a.onmessage;return a.onmessage=function(){k=!1},a.postMessage("","*"),a.onmessage=R,k}})()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",A,!1):a.attachEvent("onmessage",A),function(k){a.postMessage(f+k,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(k){S(k.data)},function(k){h.port2.postMessage(k)}):m&&"onreadystatechange"in m.createElement("script")?(u=m.documentElement,function(k){var R=m.createElement("script");R.onreadystatechange=function(){S(k),R.onreadystatechange=null,u.removeChild(R),R=null},u.appendChild(R)}):function(k){setTimeout(S,0,k)},b.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var R=new Array(arguments.length-1),L=0;L<R.length;L++)R[L]=arguments[L+1];var F={callback:k,args:R};return l[p]=F,c(p),p++},b.clearImmediate=w}function w(k){delete l[k]}function S(k){if(y)setTimeout(S,0,k);else{var R=l[k];if(R){y=!0;try{(function(L){var F=L.callback,V=L.args;switch(V.length){case 0:F();break;case 1:F(V[0]);break;case 2:F(V[0],V[1]);break;case 3:F(V[0],V[1],V[2]);break;default:F.apply(o,V)}})(R)}finally{w(k),y=!1}}}}function A(k){k.source===a&&typeof k.data=="string"&&k.data.indexOf(f)===0&&S(+k.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Nt<"u"?Nt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(mn)),mn.exports}var cu=ou();const uu=su(cu);var zr={exports:{}},lu=zr.exports,Zs;function du(){return Zs||(Zs=1,(function(t,e){(function(r,n){n()})(lu,function(){function r(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,h,f){var p=new XMLHttpRequest;p.open("GET",u),p.responseType="blob",p.onload=function(){c(p.response,h,f)},p.onerror=function(){console.error("could not download file")},p.send()}function s(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Nt=="object"&&Nt.global===Nt?Nt:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,h,f){var p=a.URL||a.webkitURL,l=document.createElement("a");h=h||u.name||"download",l.download=h,l.rel="noopener",typeof u=="string"?(l.href=u,l.origin===location.origin?i(l):s(l.href)?n(u,h,f):i(l,l.target="_blank")):(l.href=p.createObjectURL(u),setTimeout(function(){p.revokeObjectURL(l.href)},4e4),setTimeout(function(){i(l)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,f){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,f),h);else if(s(u))n(u,h,f);else{var p=document.createElement("a");p.href=u,p.target="_blank",setTimeout(function(){i(p)})}}:function(u,h,f,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof u=="string")return n(u,h,f);var l=u.type==="application/octet-stream",y=/constructor/i.test(a.HTMLElement)||a.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||l&&y||o)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var A=b.result;A=m?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=A:location=A,p=null},b.readAsDataURL(u)}else{var w=a.URL||a.webkitURL,S=w.createObjectURL(u);p?p.location=S:location.href=S,p=null,setTimeout(function(){w.revokeObjectURL(S)},4e4)}});a.saveAs=c.saveAs=c,t.exports=c})})(zr)),zr.exports}var fu=du();const hu=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,r){t.httpHandler?.updateHttpClientConfig(e,r)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),pu=t=>({httpHandler:t.httpHandler()});var _r;(function(t){t.HTTP="http",t.HTTPS="https"})(_r||(_r={}));var Hr;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(Hr||(Hr={}));const ts="__smithy_context";class qe{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const r=new qe({...e,headers:{...e.headers}});return r.query&&(r.query=mu(r.query)),r}static isInstance(e){if(!e)return!1;const r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return qe.clone(this)}}function mu(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}class Zt{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function gu(t){return e=>async r=>{const{request:n}=r;if(t.expectContinueHeader!==!1&&qe.isInstance(n)&&n.body&&t.runtime==="node"&&t.requestHandler?.constructor?.name!=="FetchHttpHandler"){let s=!0;if(typeof t.expectContinueHeader=="number")try{s=(Number(n.headers?.["content-length"])??t.bodyLengthChecker?.(n.body)??1/0)>=t.expectContinueHeader}catch{}else s=!!t.expectContinueHeader;s&&(n.headers.Expect="100-continue")}return e({...r,request:n})}}const yu={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},bu=t=>({applyToStack:e=>{e.add(gu(t),yu)}}),nr={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},wu=nr.WHEN_SUPPORTED,gn={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},Su=nr.WHEN_SUPPORTED;var Re;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.CRC64NVME="CRC64NVME",t.SHA1="SHA1",t.SHA256="SHA256"})(Re||(Re={}));var Vs;(function(t){t.HEADER="header",t.TRAILER="trailer"})(Vs||(Vs={}));const rs=Re.CRC32;function xu(t,e,r){return t.$source||(t.$source={}),t.$source[e]=r,t}function $e(t,e,r){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=r}const Gs=t=>Zt.isInstance(t)?t.headers?.date??t.headers?.Date:void 0,ys=t=>new Date(Date.now()+t),Eu=(t,e)=>Math.abs(ys(e).getTime()-t)>=3e5,Ks=(t,e)=>{const r=Date.parse(t);return Eu(r,e)?r-Date.now():e},gr=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Ya=async t=>{const e=gr("context",t.context),r=gr("config",t.config),n=e.endpointV2?.properties?.authSchemes?.[0],i=await gr("signer",r.signer)(n),a=t?.signingRegion,o=t?.signingRegionSet,c=t?.signingName;return{config:r,signer:i,signingRegion:a,signingRegionSet:o,signingName:c}};class Qa{async sign(e,r,n){if(!qe.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const s=await Ya(n),{config:i,signer:a}=s;let{signingRegion:o,signingName:c}=s;const u=n.context;if(u?.authSchemes?.length??!1){const[f,p]=u.authSchemes;f?.name==="sigv4a"&&p?.name==="sigv4"&&(o=p?.signingRegion??o,c=p?.signingName??c)}return await a.sign(e,{signingDate:ys(i.systemClockOffset),signingRegion:o,signingService:c})}errorHandler(e){return r=>{const n=r.ServerTime??Gs(r.$response);if(n){const s=gr("config",e.config),i=s.systemClockOffset;s.systemClockOffset=Ks(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){const n=Gs(e);if(n){const s=gr("config",r.config);s.systemClockOffset=Ks(n,s.systemClockOffset)}}}class vu extends Qa{async sign(e,r,n){if(!qe.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:s,signer:i,signingRegion:a,signingRegionSet:o,signingName:c}=await Ya(n),h=(await s.sigv4aSigningRegionSet?.()??o??[a]).join(",");return await i.sign(e,{signingDate:ys(s.systemClockOffset),signingRegion:h,signingService:c})}}const $t=t=>t[ts]||(t[ts]={}),xt=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},_u=(t,e)=>{if(!e||e.length===0)return t;const r=[];for(const n of e)for(const s of t)s.schemeId.split("#")[1]===n&&r.push(s);for(const n of t)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r};function Au(t){const e=new Map;for(const r of t)e.set(r.schemeId,r);return e}const Cu=(t,e)=>(r,n)=>async s=>{const i=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,s.input)),a=t.authSchemePreference?await t.authSchemePreference():[],o=_u(i,a),c=Au(t.httpAuthSchemes),u=$t(n),h=[];for(const f of o){const p=c.get(f.schemeId);if(!p){h.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}const l=p.identityProvider(await e.identityProviderConfigProvider(t));if(!l){h.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:y={},signingProperties:m={}}=f.propertiesExtractor?.(t,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},y),f.signingProperties=Object.assign(f.signingProperties||{},m),u.selectedHttpAuthScheme={httpAuthOption:f,identity:await l(f.identityProperties),signer:p.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(h.join(`
`));return r(s)},ku={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Ru=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Cu(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),ku)}}),Tu={name:"serializerMiddleware"},Du=t=>e=>{throw e},Bu=(t,e)=>{},Iu=t=>(e,r)=>async n=>{if(!qe.isInstance(n.request))return e(n);const i=$t(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:a={}},identity:o,signer:c}=i,u=await e({...n,request:await c.sign(n.request,o,a)}).catch((c.errorHandler||Du)(a));return(c.successHandler||Bu)(u.response,a),u},Ja={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Ou=t=>({applyToStack:e=>{e.addRelativeTo(Iu(),Ja)}}),tr=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xs=Object.entries(eo).reduce((t,[e,r])=>(t[r]=Number(e),t),{}),Pu=eo.split(""),rr=6,yr=8,Nu=63,sr=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const r=new ArrayBuffer(e),n=new DataView(r);for(let s=0;s<t.length;s+=4){let i=0,a=0;for(let u=s,h=s+3;u<=h;u++)if(t[u]!=="="){if(!(t[u]in Xs))throw new TypeError(`Invalid character ${t[u]} in base64 string.`);i|=Xs[t[u]]<<(h-u)*rr,a+=rr}else i>>=rr;const o=s/4*3;i>>=a%yr;const c=Math.floor(a/yr);for(let u=0;u<c;u++){const h=(c-u-1)*yr;n.setUint8(o+u,(i&255<<h)>>h)}}return new Uint8Array(r)},Ut=t=>new TextEncoder().encode(t),ir=t=>typeof t=="string"?Ut(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),ur=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};function Vt(t){let e;typeof t=="string"?e=Ut(t):e=t;const r=typeof e=="object"&&typeof e.length=="number",n=typeof e=="object"&&typeof e.byteOffset=="number"&&typeof e.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let s="";for(let i=0;i<e.length;i+=3){let a=0,o=0;for(let u=i,h=Math.min(i+3,e.length);u<h;u++)a|=e[u]<<(h-u-1)*yr,o+=yr;const c=Math.ceil(o/rr);a<<=c*rr-o;for(let u=1;u<=c;u++){const h=(c-u)*rr;s+=Pu[(a&Nu<<h)>>h]}s+="==".slice(0,4-c)}return s}class Wt extends Uint8Array{static fromString(e,r="utf-8"){if(typeof e=="string")return r==="base64"?Wt.mutate(sr(e)):Wt.mutate(Ut(e));throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,Wt.prototype),e}transformToString(e="utf-8"){return e==="base64"?Vt(this):ur(this)}}const Mu=typeof ReadableStream=="function"?ReadableStream:function(){};class Fu extends Mu{}const ns=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream),Uu=({expectedChecksum:t,checksum:e,source:r,checksumSourceLocation:n,base64Encoder:s})=>{if(!ns(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);const i=s??Vt;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const a=new TransformStream({start(){},async transform(c,u){e.update(c),u.enqueue(c)},async flush(c){const u=await e.digest(),h=i(u);if(t!==h){const f=new Error(`Checksum mismatch: expected "${t}" but received "${h}" in response header "${n}".`);c.error(f)}else c.terminate()}});r.pipeThrough(a);const o=a.readable;return Object.setPrototypeOf(o,Fu.prototype),o};class zu{allocByteArray;byteLength=0;byteArrays=[];constructor(e){this.allocByteArray=e}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(this.byteArrays.length===1){const n=this.byteArrays[0];return this.reset(),n}const e=this.allocByteArray(this.byteLength);let r=0;for(let n=0;n<this.byteArrays.length;++n){const s=this.byteArrays[n];e.set(s,r),r+=s.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}}function Lu(t,e,r){const n=t.getReader();let s=!1,i=0;const a=["",new zu(u=>new Uint8Array(u))];let o=-1;const c=async u=>{const{value:h,done:f}=await n.read(),p=h;if(f){if(o!==-1){const l=yn(a,o);br(l)>0&&u.enqueue(l)}u.close()}else{const l=ju(p,!1);if(o!==l&&(o>=0&&u.enqueue(yn(a,o)),o=l),o===-1){u.enqueue(p);return}const y=br(p);i+=y;const m=br(a[o]);if(y>=e&&m===0)u.enqueue(p);else{const b=Hu(a,o,p);!s&&i>e*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${y} is below threshold of ${e}, automatically buffering.`)),b>=e?u.enqueue(yn(a,o)):await c(u)}}};return new ReadableStream({pull:c})}const $u=Lu;function Hu(t,e,r){switch(e){case 0:return t[0]+=r,br(t[0]);case 1:case 2:return t[e].push(r),br(t[e])}}function yn(t,e){switch(e){case 0:const r=t[0];return t[0]="",r;case 1:case 2:return t[e].flush()}throw new Error(`@smithy/util-stream - invalid index ${e} given to flush()`)}function br(t){return t?.byteLength??t?.length??0}function ju(t,e=!0){return e&&typeof Buffer<"u"&&t instanceof Buffer?2:t instanceof Uint8Array?1:typeof t=="string"?0:-1}const Wu=(t,e)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:a}=e,o=r!==void 0&&n!==void 0&&s!==void 0&&i!==void 0&&a!==void 0,c=o?a(s,t):void 0,u=t.getReader();return new ReadableStream({async pull(h){const{value:f,done:p}=await u.read();if(p){if(h.enqueue(`0\r
`),o){const l=r(await c);h.enqueue(`${i}:${l}\r
`),h.enqueue(`\r
`)}h.close()}else h.enqueue(`${(n(f)||0).toString(16)}\r
${f}\r
`)}})};async function qu(t,e){let r=0;const n=[],s=t.getReader();let i=!1;for(;!i;){const{done:c,value:u}=await s.read();if(u&&(n.push(u),r+=u?.byteLength??0),r>=e)break;i=c}s.releaseLock();const a=new Uint8Array(Math.min(e,r));let o=0;for(const c of n){if(c.byteLength>a.byteLength-o){a.set(c.subarray(0,a.byteLength-o),o);break}else a.set(c,o);o+=c.length}return a}const qt=t=>encodeURIComponent(t).replace(/[!'()*]/g,Zu),Zu=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;function Vu(t){const e=[];for(let r of Object.keys(t).sort()){const n=t[r];if(r=qt(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)e.push(`${r}=${qt(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${qt(n)}`),e.push(s)}}return e.join("&")}function Ys(t,e){return new Request(t,e)}function Gu(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{const n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}const bn={supported:void 0};class bs{config;configProvider;static create(e){return typeof e?.handle=="function"?e:new bs(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),bn.supported===void 0&&(bn.supported=typeof Request<"u"&&"keepalive"in Ys("https://[::1]"))}destroy(){}async handle(e,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);const s=n??this.config.requestTimeout,i=this.config.keepAlive===!0,a=this.config.credentials;if(r?.aborted){const S=new Error("Request aborted");return S.name="AbortError",Promise.reject(S)}let o=e.path;const c=Vu(e.query||{});c&&(o+=`?${c}`),e.fragment&&(o+=`#${e.fragment}`);let u="";if(e.username!=null||e.password!=null){const S=e.username??"",A=e.password??"";u=`${S}:${A}@`}const{port:h,method:f}=e,p=`${e.protocol}//${u}${e.hostname}${h?`:${h}`:""}${o}`,l=f==="GET"||f==="HEAD"?void 0:e.body,y={body:l,headers:new Headers(e.headers),method:f,credentials:a};this.config?.cache&&(y.cache=this.config.cache),l&&(y.duplex="half"),typeof AbortController<"u"&&(y.signal=r),bn.supported&&(y.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(y,this.config.requestInit(e));let m=()=>{};const b=Ys(p,y),w=[fetch(b).then(S=>{const A=S.headers,k={};for(const L of A.entries())k[L[0]]=L[1];return S.body!=null?{response:new Zt({headers:k,reason:S.statusText,statusCode:S.status,body:S.body})}:S.blob().then(L=>({response:new Zt({headers:k,reason:S.statusText,statusCode:S.status,body:L})}))}),Gu(s)];return r&&w.push(new Promise((S,A)=>{const k=()=>{const R=new Error("Request aborted");R.name="AbortError",A(R)};if(typeof r.addEventListener=="function"){const R=r;R.addEventListener("abort",k,{once:!0}),m=()=>R.removeEventListener("abort",k)}else r.onabort=k})),Promise.race(w).finally(m)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}}const to=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):Ku(t):Xu(t);async function Ku(t){const e=await Yu(t),r=sr(e);return new Uint8Array(r)}async function Xu(t){const e=[],r=t.getReader();let n=!1,s=0;for(;!n;){const{done:o,value:c}=await r.read();c&&(e.push(c),s+=c.length),n=o}const i=new Uint8Array(s);let a=0;for(const o of e)i.set(o,a),a+=o.length;return i}function Yu(t){return new Promise((e,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const s=n.result??"",i=s.indexOf(","),a=i>-1?i+1:s.length;e(s.substring(a))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}const ro={},ss={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),ro[t]=e,ss[e]=t}function no(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){const n=t.slice(r,r+2).toLowerCase();if(n in ss)e[r/2]=ss[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function ot(t){let e="";for(let r=0;r<t.byteLength;r++)e+=ro[t[r]];return e}const Qs="The stream has already been transformed.",so=t=>{if(!Js(t)&&!ns(t)){const s=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let e=!1;const r=async()=>{if(e)throw new Error(Qs);return e=!0,await to(t)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async s=>{const i=await r();if(s==="base64")return Vt(i);if(s==="hex")return ot(i);if(s===void 0||s==="utf8"||s==="utf-8")return ur(i);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(i);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(Qs);if(e=!0,Js(t))return n(t);if(ns(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},Js=t=>typeof Blob=="function"&&t instanceof Blob;async function Qu(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}const wn=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return Wt.mutate(t);if(!t)return Wt.mutate(new Uint8Array);const r=e.streamCollector(t);return Wt.mutate(await r)};function ei(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const Sn=t=>typeof t=="function"?t():t,io=(t,e,r,n,s)=>({name:e,namespace:t,traits:r,input:n,output:s}),Ju=t=>(e,r)=>async n=>{const{response:s}=await e(n),{operationSchema:i}=$t(r),[,a,o,c,u,h]=i??[];try{const f=await t.protocol.deserializeResponse(io(a,o,c,u,h),{...t,...r},s);return{response:s,output:f}}catch(f){if(Object.defineProperty(f,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in f)){const p="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{f.message+=`
  `+p}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(p):r.logger?.warn?.(p)}typeof f.$responseBodyText<"u"&&f.$response&&(f.$response.body=f.$responseBodyText);try{if(Zt.isInstance(s)){const{headers:l={}}=s,y=Object.entries(l);f.$metadata={httpStatusCode:s.statusCode,requestId:xn(/^x-[\w-]+-request-?id$/,y),extendedRequestId:xn(/^x-[\w-]+-id-2$/,y),cfId:xn(/^x-[\w-]+-cf-id$/,y)}}}catch{}}throw f}},xn=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1],el=t=>(e,r)=>async n=>{const{operationSchema:s}=$t(r),[,i,a,o,c,u]=s??[],h=r.endpointV2?.url&&t.urlParser?async()=>t.urlParser(r.endpointV2.url):t.endpoint,f=await t.protocol.serializeRequest(io(i,a,o,c,u),n.input,{...t,...r,endpoint:h});return e({...n,request:f})},tl={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},rl={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function nl(t){return{applyToStack:e=>{e.add(el(t),rl),e.add(Ju(t),tl),t.protocol.setSerdeContext(t)}}}function Qt(t){if(typeof t=="object")return t;t=t|0;const e={};let r=0;for(const n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>r++&1)===1&&(e[n]=1);return e}class Ie{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=Ie.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(e,r){this.ref=e,this.memberName=r;const n=[];let s=e,i=e;for(this._isMemberSchema=!1;En(s);)n.push(s[1]),s=s[0],i=Sn(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let a=n.length-1;a>=0;--a){const o=n[a];Object.assign(this.memberTraits,Qt(o))}}else this.memberTraits=0;if(i instanceof Ie){const a=this.memberTraits;Object.assign(this,i),this.memberTraits=Object.assign({},a,i.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??i.memberName;return}if(this.schema=Sn(i),sl(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(i),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){const r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}static of(e){const r=Sn(e);if(r instanceof Ie)return r;if(En(r)){const[n,s]=r;if(n instanceof Ie)return Object.assign(n.getMergedTraits(),Qt(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new Ie(r)}getSchema(){const e=this.schema;return e[0]===0?e[4]:e}getName(e=!1){const{name:r}=this;return!e&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){const e=this.getSchema();return typeof e=="number"?e>=64&&e<128:e[0]===1}isMapSchema(){const e=this.getSchema();return typeof e=="number"?e>=128&&e<=255:e[0]===2}isStructSchema(){const e=this.getSchema();return e[0]===3||e[0]===-3}isBlobSchema(){const e=this.getSchema();return e===21||e===42}isTimestampSchema(){const e=this.getSchema();return typeof e=="number"&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){const{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){const e=i=>(i&4)===4||!!i?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:s}=this;return e(r)||e(n)||e(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Qt(this.memberTraits)}getOwnTraits(){return Qt(this.traits)}getKeySchema(){const[e,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);const n=this.getSchema(),s=e?15:n[4]??0;return hr([s,0],"key")}getValueSchema(){const e=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],i=typeof e=="number"?63&e:e&&typeof e=="object"&&(n||s)?e[3+e[0]]:r?15:void 0;if(i!=null)return hr([i,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){const r=this.getSchema();if(this.isStructSchema()&&r[4].includes(e)){const n=r[4].indexOf(e),s=r[5][n];return hr(En(s)?s:[s,0],e)}if(this.isDocumentSchema())return hr([15,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){const e={};try{for(const[r,n]of this.structIterator())e[r]=n}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(const[e,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");const e=this.getSchema();for(let r=0;r<e[4].length;++r)yield[e[4][r],hr([e[5][r],0],e[4][r])]}}function hr(t,e){if(t instanceof Ie)return Object.assign(t,{memberName:e,_isMemberSchema:!0});const r=Ie;return new r(t,e)}const En=t=>Array.isArray(t)&&t.length===2,sl=t=>Array.isArray(t)&&t.length>=5;class Be{namespace;schemas;exceptions;static registries=new Map;constructor(e,r=new Map,n=new Map){this.namespace=e,this.schemas=r,this.exceptions=n}static for(e){return Be.registries.has(e)||Be.registries.set(e,new Be(e)),Be.registries.get(e)}register(e,r){const n=this.normalizeShapeId(e);Be.for(n.split("#")[0]).schemas.set(n,r)}getSchema(e){const r=this.normalizeShapeId(e);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(e,r){const n=e,s=Be.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(e){const r=e;return Be.for(r[1]).exceptions.get(r)}getBaseException(){for(const e of this.exceptions.keys())if(Array.isArray(e)){const[,r,n]=e,s=r+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return e}}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}}const il=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],al=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function is(t){const e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),s=t.getUTCDate(),i=t.getUTCHours(),a=t.getUTCMinutes(),o=t.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,u=i<10?`0${i}`:`${i}`,h=a<10?`0${a}`:`${a}`,f=o<10?`0${o}`:`${o}`;return`${il[n]}, ${c} ${al[r]} ${e} ${u}:${h}:${f} GMT`}const ti=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),et=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),ws=()=>{if(ti)return ti();const t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,et[t[0]]+et[t[1]]+et[t[2]]+et[t[3]]+"-"+et[t[4]]+et[t[5]]+"-"+et[t[6]]+et[t[7]]+"-"+et[t[8]]+et[t[9]]+"-"+et[t[10]]+et[t[11]]+et[t[12]]+et[t[13]]+et[t[14]]+et[t[15]]},Mt=function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})};Mt.from=t=>t&&typeof t=="object"&&(t instanceof Mt||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?Mt(String(t)):Mt(JSON.stringify(t));Mt.fromObject=Mt.from;function ol(t){return(t.includes(",")||t.includes('"'))&&(t=`"${t.replace(/"/g,'\\"')}"`),t}const Ss="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",xs="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Es="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",ao="(\\d?\\d)",oo="(\\d{4})",cl=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),ul=new RegExp(`^${Ss}, ${ao} ${xs} ${oo} ${Es} GMT$`),ll=new RegExp(`^${Ss}, ${ao}-${xs}-(\\d\\d) ${Es} GMT$`),dl=new RegExp(`^${Ss} ${xs} ( [1-9]|\\d\\d) ${Es} ${oo}$`),fl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],hl=t=>{if(t==null)return;let e=NaN;if(typeof t=="number")e=t;else if(typeof t=="string"){if(!/^-?\d*\.?\d+$/.test(t))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else typeof t=="object"&&t.tag===1&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},pl=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC3339 timestamps must be strings");const e=cl.exec(t);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${t}`);const[,r,n,s,i,a,o,,c,u]=e;Tt(n,1,12),Tt(s,1,31),Tt(i,0,23),Tt(a,0,59),Tt(o,0,60);const h=new Date(Date.UTC(Number(r),Number(n)-1,Number(s),Number(i),Number(a),Number(o),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(h.setUTCFullYear(Number(r)),u.toUpperCase()!="Z"){const[,f,p,l]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],y=f==="-"?1:-1;h.setTime(h.getTime()+y*(Number(p)*60*60*1e3+Number(l)*60*1e3))}return h},ml=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,r,n,s,i,a,o,c;if((c=ul.exec(t))?[,e,r,n,s,i,a,o]=c:(c=ll.exec(t))?([,e,r,n,s,i,a,o]=c,n=(Number(n)+1900).toString()):(c=dl.exec(t))&&([,r,e,s,i,a,o,n]=c),n&&a){const u=Date.UTC(Number(n),fl.indexOf(r),Number(e),Number(s),Number(i),Number(a),o?Math.round(parseFloat(`0.${o}`)*1e3):0);Tt(e,1,31),Tt(s,0,23),Tt(i,0,59),Tt(a,0,60);const h=new Date(u);return h.setUTCFullYear(Number(n)),h}throw new TypeError(`Invalid RFC7231 date-time value ${t}.`)};function Tt(t,e,r){const n=Number(t);if(n<e||n>r)throw new Error(`Value ${n} out of range [${e}, ${r}]`)}function gl(t,e,r){if(!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");const n=t.split(e),s=[];let i="";for(let a=0;a<n.length;a++)i===""?i=n[a]:i+=e+n[a],(a+1)%r===0&&(s.push(i),i="");return i!==""&&s.push(i),s}const co=t=>{const e=t.length,r=[];let n=!1,s,i=0;for(let a=0;a<e;++a){const o=t[a];switch(o){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(t.slice(i,a)),i=a+1);break}s=o}return r.push(t.slice(i)),r.map(a=>{a=a.trim();const o=a.length;return o<2?a:(a[0]==='"'&&a[o-1]==='"'&&(a=a.slice(1,o-1)),a.replace(/\\"/g,'"'))})},ri=/^-?\d*(\.\d+)?$/;class en{string;type;constructor(e,r){if(this.string=e,this.type=r,!ri.test(e))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](e){if(!e||typeof e!="object")return!1;const r=e;return en.prototype.isPrototypeOf(e)||r.type==="bigDecimal"&&ri.test(r.string)}}class tn{serdeContext;setSerdeContext(e){this.serdeContext=e}}class yl extends tn{options;constructor(e){super(),this.options=e}getRequestType(){return qe}getResponseType(){return Zt}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,r){if("url"in r){e.protocol=r.url.protocol,e.hostname=r.url.hostname,e.port=r.url.port?Number(r.url.port):void 0,e.path=r.url.pathname,e.fragment=r.url.hash||void 0,e.username=r.url.username||void 0,e.password=r.url.password||void 0,e.query||(e.query={});for(const[n,s]of r.url.searchParams.entries())e.query[n]=s;return e}else return e.protocol=r.protocol,e.hostname=r.hostname,e.port=r.port?Number(r.port):void 0,e.path=r.path,e.query={...r.query},e}setHostPrefix(e,r,n){const s=Ie.of(r.input),i=Qt(r.traits??{});if(i.endpoint){let a=i.endpoint?.[0];if(typeof a=="string"){const o=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(const[c]of o){const u=n[c];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);a=a.replace(`{${c}}`,u)}e.hostname=a+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){const{EventStreamSerde:e}=await iu(async()=>{const{EventStreamSerde:r}=await import("./index-CbHwTmZy.js");return{EventStreamSerde:r}},__vite__mapDeps([0,1,2,3]));return new e({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(e,r,n,s,i){return[]}getEventStreamMarshaller(){const e=this.serdeContext;if(!e.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return e.eventStreamMarshaller}}class bl extends yl{async serializeRequest(e,r,n){const s={...r??{}},i=this.serializer,a={},o={},c=await n.endpoint(),u=Ie.of(e?.input),h=u.getSchema();let f=!1,p;const l=new qe({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:a,headers:o,body:void 0});if(c){this.updateServiceEndpoint(l,c),this.setHostPrefix(l,e,s);const y=Qt(e.traits);if(y.http){l.method=y.http[0];const[m,b]=y.http[1].split("?");l.path=="/"?l.path=m:l.path+=m;const w=new URLSearchParams(b??"");Object.assign(a,Object.fromEntries(w))}}for(const[y,m]of u.structIterator()){const b=m.getMergedTraits()??{},w=s[y];if(!(w==null&&!m.isIdempotencyToken()))if(b.httpPayload)m.isStreaming()?m.isStructSchema()?s[y]&&(p=await this.serializeEventStream({eventStream:s[y],requestSchema:u})):p=w:(i.write(m,w),p=i.flush()),delete s[y];else if(b.httpLabel){i.write(m,w);const S=i.flush();l.path.includes(`{${y}+}`)?l.path=l.path.replace(`{${y}+}`,S.split("/").map(ei).join("/")):l.path.includes(`{${y}}`)&&(l.path=l.path.replace(`{${y}}`,ei(S))),delete s[y]}else if(b.httpHeader)i.write(m,w),o[b.httpHeader.toLowerCase()]=String(i.flush()),delete s[y];else if(typeof b.httpPrefixHeaders=="string"){for(const[S,A]of Object.entries(w)){const k=b.httpPrefixHeaders+S;i.write([m.getValueSchema(),{httpHeader:k}],A),o[k.toLowerCase()]=i.flush()}delete s[y]}else b.httpQuery||b.httpQueryParams?(this.serializeQuery(m,w,a),delete s[y]):f=!0}return f&&s&&(i.write(h,s),p=i.flush()),l.headers=o,l.query=a,l.body=p,l}serializeQuery(e,r,n){const s=this.serializer,i=e.getMergedTraits();if(i.httpQueryParams){for(const[a,o]of Object.entries(r))if(!(a in n)){const c=e.getValueSchema();Object.assign(c.getMergedTraits(),{...i,httpQuery:a,httpQueryParams:void 0}),this.serializeQuery(c,o,n)}return}if(e.isListSchema()){const a=!!e.getMergedTraits().sparse,o=[];for(const c of r){s.write([e.getValueSchema(),i],c);const u=s.flush();(a||u!==void 0)&&o.push(u)}n[i.httpQuery]=o}else s.write([e,i],r),n[i.httpQuery]=s.flush()}async deserializeResponse(e,r,n){const s=this.deserializer,i=Ie.of(e.output),a={};if(n.statusCode>=300){const c=await wn(n.body,r);throw c.byteLength>0&&Object.assign(a,await s.read(15,c)),await this.handleError(e,r,n,a,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(const c in n.headers){const u=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=u}const o=await this.deserializeHttpMessage(i,r,n,a);if(o.length){const c=await wn(n.body,r);if(c.byteLength>0){const u=await s.read(i,c);for(const h of o)a[h]=u[h]}}return a.$metadata=this.deserializeMetadata(n),a}async deserializeHttpMessage(e,r,n,s,i){let a;s instanceof Set?a=i:a=s;const o=this.deserializer,c=Ie.of(e),u=[];for(const[h,f]of c.structIterator()){const p=f.getMemberTraits();if(p.httpPayload){if(f.isStreaming())f.isStructSchema()?a[h]=await this.deserializeEventStream({response:n,responseSchema:c}):a[h]=so(n.body);else if(n.body){const y=await wn(n.body,r);y.byteLength>0&&(a[h]=await o.read(f,y))}}else if(p.httpHeader){const l=String(p.httpHeader).toLowerCase(),y=n.headers[l];if(y!=null)if(f.isListSchema()){const m=f.getValueSchema();m.getMergedTraits().httpHeader=l;let b;m.isTimestampSchema()&&m.getSchema()===4?b=gl(y,",",2):b=co(y);const w=[];for(const S of b)w.push(await o.read(m,S.trim()));a[h]=w}else a[h]=await o.read(f,y)}else if(p.httpPrefixHeaders!==void 0){a[h]={};for(const[l,y]of Object.entries(n.headers))if(l.startsWith(p.httpPrefixHeaders)){const m=f.getValueSchema();m.getMergedTraits().httpHeader=l,a[h][l.slice(p.httpPrefixHeaders.length)]=await o.read(m,y)}}else p.httpResponseCode?a[h]=n.statusCode:u.push(h)}return u}}function vs(t,e){if(e.timestampFormat.useTrait&&t.isTimestampSchema()&&(t.getSchema()===5||t.getSchema()===6||t.getSchema()===7))return t.getSchema();const{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:i}=t.getMergedTraits();return(e.httpBindings?typeof n=="string"||s?6:i||r?5:void 0:void 0)??e.timestampFormat.default}class uo extends tn{settings;constructor(e){super(),this.settings=e}read(e,r){const n=Ie.of(e);if(n.isListSchema())return co(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??sr)(r);if(n.isTimestampSchema())switch(vs(n,this.settings)){case 5:return pl(r);case 6:return ml(r);case 7:return hl(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){const s=n.getMergedTraits().mediaType;let i=r;if(s)return n.getMergedTraits().httpHeader&&(i=this.base64ToUtf8(i)),(s==="application/json"||s.endsWith("+json"))&&(i=Mt.from(i)),i}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new en(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??ur)((this.serdeContext?.base64Decoder??sr)(e))}}class wl extends tn{codecDeserializer;stringDeserializer;constructor(e,r){super(),this.codecDeserializer=e,this.stringDeserializer=new uo(r)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,r){const n=Ie.of(e),s=n.getMergedTraits(),i=this.serdeContext?.utf8Encoder??ur;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,i(r));if(s.httpPayload){if(n.isBlobSchema()){const a=this.serdeContext?.utf8Decoder??Ut;return typeof r=="string"?a(r):r}else if(n.isStringSchema())return"byteLength"in r?i(r):r}return this.codecDeserializer.read(n,r)}}class Sl extends tn{settings;stringBuffer="";constructor(e){super(),this.settings=e}write(e,r){const n=Ie.of(e);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(vs(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=is(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??Vt)(r);return}if(n.isListSchema()&&Array.isArray(r)){let a="";for(const o of r){this.write([n.getValueSchema(),n.getMergedTraits()],o);const c=this.flush(),u=n.getValueSchema().isTimestampSchema()?c:ol(c);a!==""&&(a+=", "),a+=u}this.stringBuffer=a;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":const s=n.getMergedTraits().mediaType;let i=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(i=Mt.from(i)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??Vt)(i.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=ws():this.stringBuffer=String(r)}}flush(){const e=this.stringBuffer;return this.stringBuffer="",e}}class xl{codecSerializer;stringSerializer;buffer;constructor(e,r,n=new Sl(r)){this.codecSerializer=e,this.stringSerializer=n}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,r){const n=Ie.of(e),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){const e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}function El(t,e,r){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=r}class vl{authSchemes=new Map;constructor(e){for(const[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}const _l=t=>function(r){return lo(r)&&r.expiration.getTime()-Date.now()<t},Al=3e5,Cl=_l(Al),lo=t=>t.expiration!==void 0,kl=(t,e,r)=>{if(t===void 0)return;const n=typeof t!="function"?async()=>Promise.resolve(t):t;let s,i,a,o=!1;const c=async u=>{i||(i=n(u));try{s=await i,a=!0,o=!1}finally{i=void 0}return s};return e===void 0?async u=>((!a||u?.forceRefresh)&&(s=await c(u)),s):async u=>((!a||u?.forceRefresh)&&(s=await c(u)),o?s:r(s)?(e(s)&&await c(u),s):(o=!0,s))},Rl=(t,e,r)=>{let n,s,i,a=!1;const o=async()=>{s||(s=t());try{n=await s,i=!0,a=!1}finally{s=void 0}return n};return async c=>((!i||c?.forceRefresh)&&(n=await o()),n)},Tl=t=>(t.sigv4aSigningRegionSet=tr(t.sigv4aSigningRegionSet),t),Dl="X-Amz-Algorithm",Bl="X-Amz-Credential",fo="X-Amz-Date",Il="X-Amz-SignedHeaders",Ol="X-Amz-Expires",ho="X-Amz-Signature",po="X-Amz-Security-Token",mo="authorization",go=fo.toLowerCase(),Pl="date",Nl=[mo,go,Pl],Ml=ho.toLowerCase(),as="x-amz-content-sha256",Fl=po.toLowerCase(),Ul={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},zl=/^proxy-/,Ll=/^sec-/,vn="AWS4-HMAC-SHA256",$l="AWS4-HMAC-SHA256-PAYLOAD",Hl="UNSIGNED-PAYLOAD",jl=50,yo="aws4_request",Wl=3600*24*7,Or={},_n=[],An=(t,e,r)=>`${t}/${e}/${r}/${yo}`,ql=async(t,e,r,n,s)=>{const i=await ni(t,e.secretAccessKey,e.accessKeyId),a=`${r}:${n}:${s}:${ot(i)}:${e.sessionToken}`;if(a in Or)return Or[a];for(_n.push(a);_n.length>jl;)delete Or[_n.shift()];let o=`AWS4${e.secretAccessKey}`;for(const c of[r,n,s,yo])o=await ni(t,o,c);return Or[a]=o},ni=(t,e,r)=>{const n=new t(e);return n.update(ir(r)),n.digest()},si=({headers:t},e,r)=>{const n={};for(const s of Object.keys(t).sort()){if(t[s]==null)continue;const i=s.toLowerCase();(i in Ul||e?.has(i)||zl.test(i)||Ll.test(i))&&(!r||r&&!r.has(i))||(n[i]=t[s].trim().replace(/\s+/g," "))}return n},bo=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",Cn=async({headers:t,body:e},r)=>{for(const n of Object.keys(t))if(n.toLowerCase()===as)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||bo(e)){const n=new r;return n.update(ir(e)),ot(await n.digest())}return Hl};class Zl{format(e){const r=[];for(const i of Object.keys(e)){const a=Ut(i);r.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(e[i]))}const n=new Uint8Array(r.reduce((i,a)=>i+a.byteLength,0));let s=0;for(const i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const a=new Uint8Array(i.buffer);return a.set(e.value,3),a;case"string":const o=Ut(e.value),c=new DataView(new ArrayBuffer(3+o.byteLength));c.setUint8(0,7),c.setUint16(1,o.byteLength,!1);const u=new Uint8Array(c.buffer);return u.set(o,3),u;case"timestamp":const h=new Uint8Array(9);return h[0]=8,h.set(Gl.fromNumber(e.value.valueOf()).bytes,1),h;case"uuid":if(!Vl.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(no(e.value.replace(/\-/g,"")),1),f}}}var ii;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(ii||(ii={}));const Vl=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let Gl=class wo{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&ai(r),new wo(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&ai(e),parseInt(ot(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function ai(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}const Kl=(t,e)=>{t=t.toLowerCase();for(const r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},Xl=(t,e={})=>{const{headers:r,query:n={}}=qe.clone(t);for(const s of Object.keys(r)){const i=s.toLowerCase();(i.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(i)||e.hoistableHeaders?.has(i))&&(n[s]=r[s],delete r[s])}return{...t,headers:r,query:n}},oi=t=>{t=qe.clone(t);for(const e of Object.keys(t.headers))Nl.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},Yl=({query:t={}})=>{const e=[],r={};for(const n of Object.keys(t)){if(n.toLowerCase()===Ml)continue;const s=qt(n);e.push(s);const i=t[n];typeof i=="string"?r[s]=`${s}=${qt(i)}`:Array.isArray(i)&&(r[s]=i.slice(0).reduce((a,o)=>a.concat([`${s}=${qt(o)}`]),[]).sort().join("&"))}return e.sort().map(n=>r[n]).filter(n=>n).join("&")},Ql=t=>Jl(t).toISOString().replace(/\.\d{3}Z$/,"Z"),Jl=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class ed{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:i,uriEscapePath:a=!0}){this.service=s,this.sha256=i,this.uriEscapePath=a,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=xt(n),this.credentialProvider=xt(r)}createCanonicalRequest(e,r,n){const s=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Yl(e)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(e,r,n,s){const i=new this.sha256;i.update(ir(n));const a=await i.digest();return`${s}
${e}
${r}
${ot(a)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const r=[];for(const i of e.split("/"))i?.length!==0&&i!=="."&&(i===".."?r.pop():r.push(i));const n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return qt(n).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){const r=Ql(e).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}class os extends ed{headerFormatter=new Zl;constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:i,uriEscapePath:a=!0}){super({applyChecksum:e,credentials:r,region:n,service:s,sha256:i,uriEscapePath:a})}async presign(e,r={}){const{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:a,signableHeaders:o,hoistableHeaders:c,signingRegion:u,signingService:h}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);const p=u??await this.regionProvider(),{longDate:l,shortDate:y}=this.formatDate(n);if(s>Wl)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const m=An(y,p,h??this.service),b=Xl(oi(e),{unhoistableHeaders:a,hoistableHeaders:c});f.sessionToken&&(b.query[po]=f.sessionToken),b.query[Dl]=vn,b.query[Bl]=`${f.accessKeyId}/${m}`,b.query[fo]=l,b.query[Ol]=s.toString(10);const w=si(b,i,o);return b.query[Il]=this.getCanonicalHeaderList(w),b.query[ho]=await this.getSignature(l,m,this.getSigningKey(f,p,y,h),this.createCanonicalRequest(b,w,await Cn(e,this.sha256))),b}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:a}){const o=i??await this.regionProvider(),{shortDate:c,longDate:u}=this.formatDate(n),h=An(c,o,a??this.service),f=await Cn({headers:{},body:r},this.sha256),p=new this.sha256;p.update(e);const l=ot(await p.digest()),y=[$l,u,h,s,l,f].join(`
`);return this.signString(y,{signingDate:n,signingRegion:o,signingService:a})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:e.priorSignature}).then(a=>({message:e.message,signature:a}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const a=n??await this.regionProvider(),{shortDate:o}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(i,a,o,s));return c.update(ir(e)),ot(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:a}={}){const o=await this.credentialProvider();this.validateResolvedCredentials(o);const c=i??await this.regionProvider(),u=oi(e),{longDate:h,shortDate:f}=this.formatDate(r),p=An(f,c,a??this.service);u.headers[go]=h,o.sessionToken&&(u.headers[Fl]=o.sessionToken);const l=await Cn(u,this.sha256);!Kl(as,u.headers)&&this.applyChecksum&&(u.headers[as]=l);const y=si(u,s,n),m=await this.getSignature(h,p,this.getSigningKey(o,c,f,a),this.createCanonicalRequest(u,y,l));return u.headers[mo]=`${vn} Credential=${o.accessKeyId}/${p}, SignedHeaders=${this.getCanonicalHeaderList(y)}, Signature=${m}`,u}async getSignature(e,r,n,s){const i=await this.createStringToSign(e,r,s,vn),a=new this.sha256(await n);return a.update(ir(i)),ot(await a.digest())}getSigningKey(e,r,n,s){return ql(this.sha256,e,n,r,s||this.service)}}const td=t=>{let e=t.credentials,r=!!t.credentials,n;Object.defineProperty(t,"credentials",{set(u){u&&u!==e&&u!==n&&(r=!0),e=u;const h=rd(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),f=nd(t,h);r&&!f.attributed?(n=async p=>f(p).then(l=>xu(l,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),t.credentials=e;const{signingEscapePath:s=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:a}=t;let o;return t.signer?o=tr(t.signer):t.regionInfoProvider?o=()=>tr(t.region)().then(async u=>[await t.regionInfoProvider(u,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},u]).then(([u,h])=>{const{signingRegion:f,signingService:p}=u;t.signingRegion=t.signingRegion||f||h,t.signingName=t.signingName||p||t.serviceId;const l={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:a,uriEscapePath:s},y=t.signerConstructor||os;return new y(l)}):o=async u=>{u=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await tr(t.region)(),properties:{}},u);const h=u.signingRegion,f=u.signingName;t.signingRegion=t.signingRegion||h,t.signingName=t.signingName||f||t.serviceId;const p={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:a,uriEscapePath:s},l=t.signerConstructor||os;return new l(p)},Object.assign(t,{systemClockOffset:i,signingEscapePath:s,signer:o})};function rd(t,{credentials:e,credentialDefaultProvider:r}){let n;return e?e?.memoized?n=e:n=kl(e,Cl,lo):r?n=tr(r(Object.assign({},t,{parentClientConfig:t}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function nd(t,e){if(e.configBound)return e;const r=async n=>e({...n,callerClientConfig:t});return r.memoized=e.memoized,r.configBound=!0,r}const ci=typeof TextEncoder=="function"?new TextEncoder:null,sd=t=>{if(typeof t=="string"){if(ci)return ci.encode(t).byteLength;let e=t.length;for(let r=e-1;r>=0;r--){const n=t.charCodeAt(r);n>127&&n<=2047?e++:n>2047&&n<=65535&&(e+=2),n>=56320&&n<=57343&&r--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)},Ht=(t,e)=>{const r=[];if(t&&r.push(t),e)for(const n of e)r.push(n);return r},Bt=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,jr=()=>{let t=[],e=[],r=!1;const n=new Set,s=f=>f.sort((p,l)=>ui[l.step]-ui[p.step]||li[l.priority||"normal"]-li[p.priority||"normal"]),i=f=>{let p=!1;const l=y=>{const m=Ht(y.name,y.aliases);if(m.includes(f)){p=!0;for(const b of m)n.delete(b);return!1}return!0};return t=t.filter(l),e=e.filter(l),p},a=f=>{let p=!1;const l=y=>{if(y.middleware===f){p=!0;for(const m of Ht(y.name,y.aliases))n.delete(m);return!1}return!0};return t=t.filter(l),e=e.filter(l),p},o=f=>(t.forEach(p=>{f.add(p.middleware,{...p})}),e.forEach(p=>{f.addRelativeTo(p.middleware,{...p})}),f.identifyOnResolve?.(h.identifyOnResolve()),f),c=f=>{const p=[];return f.before.forEach(l=>{l.before.length===0&&l.after.length===0?p.push(l):p.push(...c(l))}),p.push(f),f.after.reverse().forEach(l=>{l.before.length===0&&l.after.length===0?p.push(l):p.push(...c(l))}),p},u=(f=!1)=>{const p=[],l=[],y={};return t.forEach(b=>{const w={...b,before:[],after:[]};for(const S of Ht(w.name,w.aliases))y[S]=w;p.push(w)}),e.forEach(b=>{const w={...b,before:[],after:[]};for(const S of Ht(w.name,w.aliases))y[S]=w;l.push(w)}),l.forEach(b=>{if(b.toMiddleware){const w=y[b.toMiddleware];if(w===void 0){if(f)return;throw new Error(`${b.toMiddleware} is not found when adding ${Bt(b.name,b.aliases)} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&w.after.push(b),b.relation==="before"&&w.before.push(b)}}),s(p).map(c).reduce((b,w)=>(b.push(...w),b),[])},h={add:(f,p={})=>{const{name:l,override:y,aliases:m}=p,b={step:"initialize",priority:"normal",middleware:f,...p},w=Ht(l,m);if(w.length>0){if(w.some(S=>n.has(S))){if(!y)throw new Error(`Duplicate middleware name '${Bt(l,m)}'`);for(const S of w){const A=t.findIndex(R=>R.name===S||R.aliases?.some(L=>L===S));if(A===-1)continue;const k=t[A];if(k.step!==b.step||b.priority!==k.priority)throw new Error(`"${Bt(k.name,k.aliases)}" middleware with ${k.priority} priority in ${k.step} step cannot be overridden by "${Bt(l,m)}" middleware with ${b.priority} priority in ${b.step} step.`);t.splice(A,1)}}for(const S of w)n.add(S)}t.push(b)},addRelativeTo:(f,p)=>{const{name:l,override:y,aliases:m}=p,b={middleware:f,...p},w=Ht(l,m);if(w.length>0){if(w.some(S=>n.has(S))){if(!y)throw new Error(`Duplicate middleware name '${Bt(l,m)}'`);for(const S of w){const A=e.findIndex(R=>R.name===S||R.aliases?.some(L=>L===S));if(A===-1)continue;const k=e[A];if(k.toMiddleware!==b.toMiddleware||k.relation!==b.relation)throw new Error(`"${Bt(k.name,k.aliases)}" middleware ${k.relation} "${k.toMiddleware}" middleware cannot be overridden by "${Bt(l,m)}" middleware ${b.relation} "${b.toMiddleware}" middleware.`);e.splice(A,1)}}for(const S of w)n.add(S)}e.push(b)},clone:()=>o(jr()),use:f=>{f.applyToStack(h)},remove:f=>typeof f=="string"?i(f):a(f),removeByTag:f=>{let p=!1;const l=y=>{const{tags:m,name:b,aliases:w}=y;if(m&&m.includes(f)){const S=Ht(b,w);for(const A of S)n.delete(A);return p=!0,!1}return!0};return t=t.filter(l),e=e.filter(l),p},concat:f=>{const p=o(jr());return p.use(f),p.identifyOnResolve(r||p.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),p},applyToStack:o,identify:()=>u(!0).map(f=>{const p=f.step??f.relation+" "+f.toMiddleware;return Bt(f.name,f.aliases)+" - "+p}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,p)=>{for(const l of u().map(y=>y.middleware).reverse())f=l(f,p);return r&&console.log(h.identify()),f}};return h},ui={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},li={high:3,normal:2,low:1};class id{config;middlewareStack=jr();initConfig;handlers;constructor(e){this.config=e}send(e,r,n){const s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,a=s===void 0&&this.config.cacheMiddleware===!0;let o;if(a){this.handlers||(this.handlers=new WeakMap);const c=this.handlers;c.has(e.constructor)?o=c.get(e.constructor):(o=e.resolveMiddleware(this.middlewareStack,this.config,s),c.set(e.constructor,o))}else delete this.handlers,o=e.resolveMiddleware(this.middlewareStack,this.config,s);if(i)o(e).then(c=>i(null,c.output),c=>i(c)).catch(()=>{});else return o(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}const kn="***SensitiveInformation***";function cs(t,e){if(e==null)return e;const r=Ie.of(t);if(r.getMergedTraits().sensitive)return kn;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return kn}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return kn}else if(r.isStructSchema()&&typeof e=="object"){const n=e,s={};for(const[i,a]of r.structIterator())n[i]!=null&&(s[i]=cs(a,n[i]));return s}return e}class _s{middlewareStack=jr();schema;static classBuilder(){return new ad}resolveMiddlewareWithContext(e,r,n,{middlewareFn:s,clientName:i,commandName:a,inputFilterSensitiveLog:o,outputFilterSensitiveLog:c,smithyContext:u,additionalContext:h,CommandCtor:f}){for(const b of s.bind(this)(f,e,r,n))this.middlewareStack.use(b);const p=e.concat(this.middlewareStack),{logger:l}=r,y={logger:l,clientName:i,commandName:a,inputFilterSensitiveLog:o,outputFilterSensitiveLog:c,[ts]:{commandInstance:this,...u},...h},{requestHandler:m}=r;return p.resolve(b=>m.handle(b.request,n||{}),y)}}class ad{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){const e=this;let r;return r=class extends _s{input;static getEndpointParameterInstructions(){return e._ep}constructor(...[n]){super(),this.input=n??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(n,s,i){const a=e._operationSchema,o=a?.[4]??a?.input,c=a?.[5]??a?.output;return this.resolveMiddlewareWithContext(n,s,i,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(a?cs.bind(null,o):u=>u),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(a?cs.bind(null,c):u=>u),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}serialize=e._serializer;deserialize=e._deserializer}}}class Jt extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;const r=e;return Jt.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;const r=e;return this===Jt?Jt.isInstance(e):Jt.isInstance(e)?r.name&&this.name?this.prototype.isPrototypeOf(e)||r.name===this.name:this.prototype.isPrototypeOf(e):!1}}const di=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(t[n]==null||t[n]==="")&&(t[n]=s)});const r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},od=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},cd=t=>{const e=[];for(const r in Hr){const n=Hr[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},ud=t=>{const e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},ld=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),dd=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},fd=t=>Object.assign(cd(t),ld(t)),hd=t=>Object.assign(ud(t),dd(t)),So=t=>{const e="#text";for(const r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=So(t[r]));return t};class As{trace(){}debug(){}info(){}warn(){}error(){}}class pd{queryCompat;constructor(e=!1){this.queryCompat=e}resolveRestContentType(e,r){const n=r.getMemberSchemas(),s=Object.values(n).find(i=>!!i.getMergedTraits().httpPayload);if(s){const i=s.getMergedTraits().mediaType;return i||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":e)}else if(!r.isUnitSchema()&&Object.values(n).find(a=>{const{httpQuery:o,httpQueryParams:c,httpHeader:u,httpLabel:h,httpPrefixHeaders:f}=a.getMergedTraits();return!o&&!c&&!u&&!h&&f===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,r,n,s,i,a){let o=r,c=e;e.includes("#")&&([o,c]=e.split("#"));const u={$metadata:i,$fault:n.statusCode<500?"client":"server"},h=Be.for(o);try{return{errorSchema:a?.(h,c)??h.getSchema(e),errorMetadata:u}}catch{s.message=s.message??s.Message??"UnknownError";const p=Be.for("smithy.ts.sdk.synthetic."+o),l=p.getBaseException();if(l){const y=p.getErrorCtor(l)??Error;throw this.decorateServiceException(Object.assign(new y({name:c}),u),s)}throw this.decorateServiceException(Object.assign(new Error(c),u),s)}}decorateServiceException(e,r={}){if(this.queryCompat){const n=e.Message??r.Message,s=di(e,r);return n&&(s.Message=n,s.message=n),s}return di(e,r)}setQueryCompatError(e,r){const n=r.headers?.["x-amzn-query-error"];if(e!==void 0&&n!=null){const[s,i]=n.split(";"),a=Object.entries(e),o={Code:s,Type:i};Object.assign(e,o);for(const[c,u]of a)o[c]=u;delete o.__type,e.Error=o}}queryCompatOutput(e,r){e.Error&&(r.Error=e.Error),e.Type&&(r.Type=e.Type),e.Code&&(r.Code=e.Code)}}class Cs{serdeContext;setSerdeContext(e){this.serdeContext=e}}function md(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function gd(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}class xo{value;constructor(e){this.value=e}toString(){return gd(""+this.value)}}class dt{name;children;attributes={};static of(e,r,n){const s=new dt(e);return r!==void 0&&s.addChildNode(new xo(r)),n!==void 0&&s.withName(n),s}constructor(e,r=[]){this.name=e,this.children=r}withName(e){return this.name=e,this}addAttribute(e,r){return this.attributes[e]=r,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,r){return r!=null&&(this.attributes[e]=r),this}cc(e,r,n=r){if(e[r]!=null){const s=dt.of(r,e[r]).withName(n);this.c(s)}}l(e,r,n,s){e[r]!=null&&s().map(a=>{a.withName(n),this.c(a)})}lc(e,r,n,s){if(e[r]!=null){const i=s(),a=new dt(n);i.map(o=>{a.c(o)}),this.c(a)}}toString(){const e=!!this.children.length;let r=`<${this.name}`;const n=this.attributes;for(const s of Object.keys(n)){const i=n[s];i!=null&&(r+=` ${s}="${md(""+i)}"`)}return r+=e?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}}let Rn;function yd(t){Rn||(Rn=new DOMParser);const e=Rn.parseFromString(t,"application/xml");if(e.getElementsByTagName("parsererror").length>0)throw new Error("DOMParser XML parsing error.");const r=n=>{if(n.nodeType===Node.TEXT_NODE&&n.textContent?.trim())return n.textContent;if(n.nodeType===Node.ELEMENT_NODE){const s=n;if(s.attributes.length===0&&s.childNodes.length===0)return"";const i={},a=Array.from(s.attributes);for(const c of a)i[`${c.name}`]=c.value;const o=Array.from(s.childNodes);for(const c of o){const u=r(c);if(u!=null){const h=c.nodeName;if(o.length===1&&a.length===0&&h==="#text")return u;i[h]?Array.isArray(i[h])?i[h].push(u):i[h]=[i[h],u]:i[h]=u}else if(o.length===1&&a.length===0)return s.textContent}return i}return null};return{[e.documentElement.nodeName]:r(e.documentElement)}}class bd extends Cs{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new uo(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,r,n){const s=Ie.of(e),i=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(i).find(u=>!!u.getMemberTraits().eventPayload)){const u={},h=Object.keys(i)[0];return i[h].isBlobSchema()?u[h]=r:u[h]=this.read(i[h],r),u}const o=(this.serdeContext?.utf8Encoder??ur)(r),c=this.parseXml(o);return this.readSchema(e,n?c[n]:c)}readSchema(e,r){const n=Ie.of(e);if(n.isUnitSchema())return;const s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){const i=!!s.sparse,a=!!s.xmlFlattened;if(n.isListSchema()){const c=n.getValueSchema(),u=[],h=c.getMergedTraits().xmlName??"member",f=a?r:(r[0]??r)[h],p=Array.isArray(f)?f:[f];for(const l of p)(l!=null||i)&&u.push(this.readSchema(c,l));return u}const o={};if(n.isMapSchema()){const c=n.getKeySchema(),u=n.getValueSchema();let h;a?h=Array.isArray(r)?r:[r]:h=Array.isArray(r.entry)?r.entry:[r.entry];const f=c.getMergedTraits().xmlName??"key",p=u.getMergedTraits().xmlName??"value";for(const l of h){const y=l[f],m=l[p];(m!=null||i)&&(o[y]=this.readSchema(u,m))}return o}if(n.isStructSchema()){for(const[c,u]of n.structIterator()){const h=u.getMergedTraits(),f=h.httpPayload?h.xmlName??u.getName():u.getMemberTraits().xmlName??c;r[f]!=null&&(o[c]=this.readSchema(u,r[f]))}return o}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(e){if(e.length){let r;try{r=yd(e)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:e}),a}const n="#text",s=Object.keys(r)[0],i=r[s];return i[n]&&(i[s]=i[n],delete i[n]),So(i)}return{}}}const wd=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};class Sd extends Cs{settings;stringBuffer;byteBuffer;buffer;constructor(e){super(),this.settings=e}write(e,r){const n=Ie.of(e);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??sr)(r);else{this.buffer=this.writeStruct(n,r,void 0);const s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){const r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){const r=this.stringBuffer;return delete this.stringBuffer,r}const e=this.buffer;return this.settings.xmlNamespace&&(e?.attributes?.xmlns||e.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,e.toString()}writeStruct(e,r,n){const s=e.getMergedTraits(),i=e.isMemberSchema()&&!s.httpPayload?e.getMemberTraits().xmlName??e.getMemberName():s.xmlName??e.getName();if(!i||!e.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${e.getName(!0)}.`);const a=dt.of(i),[o,c]=this.getXmlnsAttribute(e,n);for(const[u,h]of e.structIterator()){const f=r[u];if(f!=null||h.isIdempotencyToken()){if(h.getMergedTraits().xmlAttribute){a.addAttribute(h.getMergedTraits().xmlName??u,this.writeSimple(h,f));continue}if(h.isListSchema())this.writeList(h,f,a,c);else if(h.isMapSchema())this.writeMap(h,f,a,c);else if(h.isStructSchema())a.addChildNode(this.writeStruct(h,f,c));else{const p=dt.of(h.getMergedTraits().xmlName??h.getMemberName());this.writeSimpleInto(h,f,p,c),a.addChildNode(p)}}}return c&&a.addAttribute(o,c),a}writeList(e,r,n,s){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${e.getName(!0)}`);const i=e.getMergedTraits(),a=e.getValueSchema(),o=a.getMergedTraits(),c=!!o.sparse,u=!!i.xmlFlattened,[h,f]=this.getXmlnsAttribute(e,s),p=(l,y)=>{if(a.isListSchema())this.writeList(a,Array.isArray(y)?y:[y],l,f);else if(a.isMapSchema())this.writeMap(a,y,l,f);else if(a.isStructSchema()){const m=this.writeStruct(a,y,f);l.addChildNode(m.withName(u?i.xmlName??e.getMemberName():o.xmlName??"member"))}else{const m=dt.of(u?i.xmlName??e.getMemberName():o.xmlName??"member");this.writeSimpleInto(a,y,m,f),l.addChildNode(m)}};if(u)for(const l of r)(c||l!=null)&&p(n,l);else{const l=dt.of(i.xmlName??e.getMemberName());f&&l.addAttribute(h,f);for(const y of r)(c||y!=null)&&p(l,y);n.addChildNode(l)}}writeMap(e,r,n,s,i=!1){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${e.getName(!0)}`);const a=e.getMergedTraits(),o=e.getKeySchema(),u=o.getMergedTraits().xmlName??"key",h=e.getValueSchema(),f=h.getMergedTraits(),p=f.xmlName??"value",l=!!f.sparse,y=!!a.xmlFlattened,[m,b]=this.getXmlnsAttribute(e,s),w=(S,A,k)=>{const R=dt.of(u,A),[L,F]=this.getXmlnsAttribute(o,b);F&&R.addAttribute(L,F),S.addChildNode(R);let V=dt.of(p);h.isListSchema()?this.writeList(h,k,V,b):h.isMapSchema()?this.writeMap(h,k,V,b,!0):h.isStructSchema()?V=this.writeStruct(h,k,b):this.writeSimpleInto(h,k,V,b),S.addChildNode(V)};if(y){for(const[S,A]of Object.entries(r))if(l||A!=null){const k=dt.of(a.xmlName??e.getMemberName());w(k,S,A),n.addChildNode(k)}}else{let S;i||(S=dt.of(a.xmlName??e.getMemberName()),b&&S.addAttribute(m,b),n.addChildNode(S));for(const[A,k]of Object.entries(r))if(l||k!=null){const R=dt.of("entry");w(R,A,k),(i?n:S).addChildNode(R)}}}writeSimple(e,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");const n=Ie.of(e);let s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??Vt)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(vs(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=is(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=is(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof en?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=ws():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(e,r,n,s){const i=this.writeSimple(e,r),a=Ie.of(e),o=new xo(i),[c,u]=this.getXmlnsAttribute(a,s);u&&n.addAttribute(c,u),n.addChildNode(o)}getXmlnsAttribute(e,r){const n=e.getMergedTraits(),[s,i]=n.xmlNamespace??[];return i&&i!==r?[s?`xmlns:${s}`:"xmlns",i]:[void 0,void 0]}}class xd extends Cs{settings;constructor(e){super(),this.settings=e}createSerializer(){const e=new Sd(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){const e=new bd(this.settings);return e.setSerdeContext(this.serdeContext),e}}class Ed extends bl{codec;serializer;deserializer;mixin=new pd;constructor(e){super(e);const r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace};this.codec=new xd(r),this.serializer=new xl(this.codec.createSerializer(),r),this.deserializer=new wl(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(e,r,n){const s=await super.serializeRequest(e,r,n),i=Ie.of(e.input);if(!s.headers["content-type"]){const a=this.mixin.resolveRestContentType(this.getDefaultContentType(),i);a&&(s.headers["content-type"]=a)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(e,r,n){return super.deserializeResponse(e,r,n)}async handleError(e,r,n,s,i){const a=wd(n,s)??"Unknown",{errorSchema:o,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,n,s,i),u=Ie.of(o),h=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",f=Be.for(o[1]).getErrorCtor(o)??Error,p=new f(h);await this.deserializeHttpMessage(o,r,n,s);const l={};for(const[y,m]of u.structIterator()){const b=m.getMergedTraits().xmlName??y,w=s.Error?.[b]??s[b];l[y]=this.codec.createDeserializer().readSchema(m,w)}throw this.mixin.decorateServiceException(Object.assign(p,c,{$fault:u.getMergedTraits().error,message:h},l),s)}getDefaultContentType(){return"application/xml"}}const us=[Re.CRC32,Re.CRC32C,Re.CRC64NVME,Re.SHA1,Re.SHA256],vd=[Re.SHA256,Re.SHA1,Re.CRC32,Re.CRC32C,Re.CRC64NVME],_d=(t,{requestChecksumRequired:e,requestAlgorithmMember:r,requestChecksumCalculation:n})=>{if(!r)return n===nr.WHEN_SUPPORTED||e?rs:void 0;if(!t[r])return;const s=t[r];if(!us.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${us}.`);return s},ks=t=>t===Re.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`,Ad=(t,e)=>{const r=t.toLowerCase();for(const n of Object.keys(e))if(r===n.toLowerCase())return!0;return!1},Cd=(t,e)=>{const r=t.toLowerCase();for(const n of Object.keys(e))if(n.toLowerCase().startsWith(r))return!0;return!1},Eo=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!bo(t);var ls=function(t,e){return ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ls(t,e)};function _y(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ls(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fi=function(){return fi=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},fi.apply(this,arguments)};function Rs(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(h){try{u(n.next(h))}catch(f){a(f)}}function c(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?i(h.value):s(h.value).then(o,c)}u((n=n.apply(t,e||[])).next())})}function Ts(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function vo(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}const kd=t=>new TextEncoder().encode(t);var Rd=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:kd;function zt(t){return t instanceof Uint8Array?t:typeof t=="string"?Rd(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function Ar(t){return typeof t=="string"?t.length===0:t.byteLength===0}function _o(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}function Ao(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),r=0;r<t.length;)e[r]=t[r],r+=1;return e}return Uint32Array.from(t)}var Td=(function(){function t(){this.crc32c=new hi}return t.prototype.update=function(e){Ar(e)||this.crc32c.update(zt(e))},t.prototype.digest=function(){return Rs(this,void 0,void 0,function(){return Ts(this,function(e){return[2,_o(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new hi},t})(),hi=(function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var s=vo(e),i=s.next();!i.done;i=s.next()){var a=i.value;this.checksum=this.checksum>>>8^Bd[(this.checksum^a)&255]}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t})(),Dd=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],Bd=Ao(Dd),Id=(function(){function t(){this.crc32=new Wr}return t.prototype.update=function(e){Ar(e)||this.crc32.update(zt(e))},t.prototype.digest=function(){return Rs(this,void 0,void 0,function(){return Ts(this,function(e){return[2,_o(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new Wr},t})(),Wr=(function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var s=vo(e),i=s.next();!i.done;i=s.next()){var a=i.value;this.checksum=this.checksum>>>8^Pd[(this.checksum^a)&255]}}catch(o){r={error:o}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t})(),Od=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Pd=Ao(Od);const Nd=()=>Id,Co=(t,e)=>{switch(t){case Re.MD5:return e.md5;case Re.CRC32:return Nd();case Re.CRC32C:return Td;case Re.CRC64NVME:throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);case Re.SHA1:return e.sha1;case Re.SHA256:return e.sha256;default:throw new Error(`Unsupported checksum algorithm: ${t}`)}},ko=(t,e)=>{const r=new t;return r.update(ir(e||"")),r.digest()},Md={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},Fd=(t,e)=>(r,n)=>async s=>{if(!qe.isInstance(s.request)||Cd("x-amz-checksum-",s.request.headers))return r(s);const{request:i,input:a}=s,{body:o,headers:c}=i,{base64Encoder:u,streamHasher:h}=t,{requestChecksumRequired:f,requestAlgorithmMember:p}=e,l=await t.requestChecksumCalculation(),y=p?.name,m=p?.httpHeader;y&&!a[y]&&(l===nr.WHEN_SUPPORTED||f)&&(a[y]=rs,m&&(c[m]=rs));const b=_d(a,{requestChecksumRequired:f,requestAlgorithmMember:p?.name,requestChecksumCalculation:l});let w=o,S=c;if(b){switch(b){case Re.CRC32:$e(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case Re.CRC32C:$e(n,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case Re.CRC64NVME:$e(n,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case Re.SHA1:$e(n,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case Re.SHA256:$e(n,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}const k=ks(b),R=Co(b,t);if(Eo(o)){const{getAwsChunkedEncodingStream:L,bodyLengthChecker:F}=t;w=L(typeof t.requestStreamBufferSize=="number"&&t.requestStreamBufferSize>=8*1024?$u(o,t.requestStreamBufferSize,n.logger):o,{base64Encoder:u,bodyLengthChecker:F,checksumLocationName:k,checksumAlgorithmFn:R,streamHasher:h}),S={...c,"content-encoding":c["content-encoding"]?`${c["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":c["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":k},delete S["content-length"]}else if(!Ad(k,c)){const L=await ko(R,o);S={...c,[k]:u(L)}}}return await r({...s,request:{...i,headers:S,body:w}})},Ud={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},zd=(t,e)=>(r,n)=>async s=>{const i=s.input,{requestValidationModeMember:a}=e,o=await t.requestChecksumCalculation(),c=await t.responseChecksumValidation();switch(o){case nr.WHEN_REQUIRED:$e(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case nr.WHEN_SUPPORTED:$e(n,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(c){case gn.WHEN_REQUIRED:$e(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case gn.WHEN_SUPPORTED:$e(n,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return a&&!i[a]&&c===gn.WHEN_SUPPORTED&&(i[a]="ENABLED"),r(s)},Ro=(t=[])=>{const e=[];for(const r of vd)!t.includes(r)||!us.includes(r)||e.push(r);return e},Ld=t=>{const e=t.lastIndexOf("-");if(e!==-1){const r=t.slice(e+1);if(!r.startsWith("0")){const n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1},$d=async(t,{checksumAlgorithmFn:e,base64Encoder:r})=>r(await ko(e,t)),Hd=async(t,{config:e,responseAlgorithms:r,logger:n})=>{const s=Ro(r),{body:i,headers:a}=t;for(const o of s){const c=ks(o),u=a[c];if(u){let h;try{h=Co(o,e)}catch(l){if(o===Re.CRC64NVME){n?.warn(`Skipping ${Re.CRC64NVME} checksum validation: ${l.message}`);continue}throw l}const{base64Encoder:f}=e;if(Eo(i)){t.body=Uu({expectedChecksum:u,checksumSourceLocation:c,checksum:new h,source:i,base64Encoder:f});return}const p=await $d(i,{checksumAlgorithmFn:h,base64Encoder:f});if(p===u)break;throw new Error(`Checksum mismatch: expected "${p}" but received "${u}" in response header "${c}".`)}}},jd={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},Wd=(t,e)=>(r,n)=>async s=>{if(!qe.isInstance(s.request))return r(s);const i=s.input,a=await r(s),o=a.response,{requestValidationModeMember:c,responseAlgorithms:u}=e;if(c&&i[c]==="ENABLED"){const{clientName:h,commandName:f}=n;if(h==="S3Client"&&f==="GetObjectCommand"&&Ro(u).every(l=>{const y=ks(l),m=o.headers[y];return!m||Ld(m)}))return a;await Hd(o,{config:t,responseAlgorithms:u,logger:n.logger})}return a},qd=(t,e)=>({applyToStack:r=>{r.add(Fd(t,e),Md),r.addRelativeTo(zd(t,e),Ud),r.addRelativeTo(Wd(t,e),jd)}}),Zd=t=>{const{requestChecksumCalculation:e,responseChecksumValidation:r,requestStreamBufferSize:n}=t;return Object.assign(t,{requestChecksumCalculation:xt(e??wu),responseChecksumValidation:xt(r??Su),requestStreamBufferSize:Number(n??0)})};const Vd=t=>e=>async r=>{if(!qe.isInstance(r.request))return e(r);const{request:n}=r,{handlerProtocol:s=""}=t.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return e(r)},Gd={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Kd=t=>({applyToStack:e=>{e.add(Vd(t),Gd)}}),Xd=()=>(t,e)=>async r=>{try{const n=await t(r),{clientName:s,commandName:i,logger:a,dynamoDbDocumentClientOptions:o={}}=e,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=o,h=c??e.inputFilterSensitiveLog,f=u??e.outputFilterSensitiveLog,{$metadata:p,...l}=n.output;return a?.info?.({clientName:s,commandName:i,input:h(r.input),output:f(l),metadata:p}),n}catch(n){const{clientName:s,commandName:i,logger:a,dynamoDbDocumentClientOptions:o={}}=e,{overrideInputFilterSensitiveLog:c}=o,u=c??e.inputFilterSensitiveLog;throw a?.error?.({clientName:s,commandName:i,input:u(r.input),error:n,metadata:n.$metadata}),n}},Yd={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Qd=t=>({applyToStack:e=>{e.add(Xd(),Yd)}}),Jd={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},ef=()=>t=>async e=>t(e),tf=t=>({applyToStack:e=>{e.add(ef(),Jd)}}),rf="content-length",nf="x-amz-decoded-content-length";function sf(){return(t,e)=>async r=>{const{request:n}=r;if(qe.isInstance(n)&&!(rf in n.headers)&&!(nf in n.headers)){const s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof e?.logger?.warn=="function"&&!(e.logger instanceof As)?e.logger.warn(s):console.warn(s)}return t({...r})}}const af={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},of=t=>({applyToStack:e=>{e.add(sf(),af)}}),cf=t=>(e,r)=>async n=>{const s=await t.region(),i=t.region;let a=()=>{};r.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:async()=>r.__s3RegionRedirect}),a=()=>Object.defineProperty(t,"region",{writable:!0,value:i}));try{const o=await e(n);if(r.__s3RegionRedirect){a();const c=await t.region();if(s!==c)throw new Error("Region was not restored following S3 region redirect.")}return o}catch(o){throw a(),o}},uf={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function lf(t){return(e,r)=>async n=>{try{return await e(n)}catch(s){if(t.followRegionRedirects){const i=s?.$metadata?.httpStatusCode,a=r.commandName==="HeadBucketCommand",o=s?.$response?.headers?.["x-amz-bucket-region"];if(o&&(i===301||i===400&&(s?.name==="IllegalLocationConstraintException"||a))){try{const c=o;r.logger?.debug(`Redirecting from ${await t.region()} to ${c}`),r.__s3RegionRedirect=c}catch(c){throw new Error("Region redirect failed: "+c)}return e(n)}}throw s}}}const df={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},ff=t=>({applyToStack:e=>{e.add(lf(t),df),e.addRelativeTo(cf(t),uf)}});class Ds{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(e={}){this.data=e}get(e){const r=this.data[e];if(r)return r}set(e,r){return this.data[e]=r,r}delete(e){delete this.data[e]}async purgeExpired(){const e=Date.now();if(!(this.lastPurgeTime+Ds.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>e))for(const r in this.data){const n=this.data[r];if(!n.isRefreshing){const s=await n.identity;s.expiration&&s.expiration.getTime()<e&&delete this.data[r]}}}}class Tn{_identity;isRefreshing;accessed;constructor(e,r=!1,n=Date.now()){this._identity=e,this.isRefreshing=r,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}}class Bs{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(e,r=new Ds){this.createSessionFn=e,this.cache=r}async getS3ExpressIdentity(e,r){const n=r.Bucket,{cache:s}=this,i=s.get(n);return i?i.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?s.set(n,new Tn(this.getIdentity(n))).identity:((a.expiration?.getTime()??0)<Date.now()+Bs.REFRESH_WINDOW_MS&&!i.isRefreshing&&(i.isRefreshing=!0,this.getIdentity(n).then(u=>{s.set(n,new Tn(Promise.resolve(u)))})),a)):s.set(n,new Tn(this.getIdentity(n))).identity}async getIdentity(e){await this.cache.purgeExpired().catch(s=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+s)});const r=await this.createSessionFn(e);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}}const hf="Directory",pf="S3Express",mf="sigv4-s3express",ds="X-Amz-S3session-Token",fs=ds.toLowerCase();class gf extends os{async signWithCredentials(e,r,n){const s=pi(r);e.headers[fs]=r.sessionToken;const i=this;return mi(i,s),i.signRequest(e,n??{})}async presignWithCredentials(e,r,n){const s=pi(r);return delete e.headers[fs],e.headers[ds]=r.sessionToken,e.query=e.query??{},e.query[ds]=r.sessionToken,mi(this,s),this.presign(e,n)}}function pi(t){return{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,expiration:t.expiration}}function mi(t,e){const r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=t.credentialProvider,s=()=>(clearTimeout(r),t.credentialProvider=n,Promise.resolve(e));t.credentialProvider=s}const yf=t=>(e,r)=>async n=>{if(r.endpointV2){const s=r.endpointV2,i=s.properties?.authSchemes?.[0]?.name===mf;if((s.properties?.backend===pf||s.properties?.bucketType===hf)&&($e(r,"S3_EXPRESS_BUCKET","J"),r.isS3ExpressBucket=!0),i){const o=n.input.Bucket;if(o){const c=await t.s3ExpressIdentityProvider.getS3ExpressIdentity(await t.credentials(),{Bucket:o});r.s3ExpressIdentity=c,qe.isInstance(n.request)&&c.sessionToken&&(n.request.headers[fs]=c.sessionToken)}}}return e(n)},bf={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},wf=t=>({applyToStack:e=>{e.add(yf(t),bf)}}),Sf=async(t,e,r,n)=>{const s=await n.signWithCredentials(r,t,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s},xf=t=>e=>{throw e},Ef=(t,e)=>{},vf=t=>(e,r)=>async n=>{if(!qe.isInstance(n.request))return e(n);const i=$t(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:a={}},identity:o,signer:c}=i;let u;r.s3ExpressIdentity?u=await Sf(r.s3ExpressIdentity,a,n.request,await t.signer()):u=await c.sign(n.request,o,a);const h=await e({...n,request:u}).catch((c.errorHandler||xf)(a));return(c.successHandler||Ef)(h.response,a),h},_f=t=>({applyToStack:e=>{e.addRelativeTo(vf(t),Ja)}}),Af=(t,{session:e})=>{const[r,n]=e,{forcePathStyle:s,useAccelerateEndpoint:i,disableMultiregionAccessPoints:a,followRegionRedirects:o,s3ExpressIdentityProvider:c,bucketEndpoint:u,expectContinueHeader:h}=t;return Object.assign(t,{forcePathStyle:s??!1,useAccelerateEndpoint:i??!1,disableMultiregionAccessPoints:a??!1,followRegionRedirects:o??!1,s3ExpressIdentityProvider:c??new Bs(async f=>r().send(new n({Bucket:f}))),bucketEndpoint:u??!1,expectContinueHeader:h??2097152})},Cf={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},kf=3e3,Rf=t=>(e,r)=>async n=>{const s=await e(n),{response:i}=s;if(!Zt.isInstance(i))return s;const{statusCode:a,body:o}=i;if(a<200||a>=300||!(typeof o?.stream=="function"||typeof o?.pipe=="function"||typeof o?.tee=="function"))return s;let u=o,h=o;o&&typeof o=="object"&&!(o instanceof Uint8Array)&&([u,h]=await Qu(o)),i.body=h;const f=await Tf(u,{streamCollector:async l=>qu(l,kf)});typeof u?.destroy=="function"&&u.destroy();const p=t.utf8Encoder(f.subarray(f.length-16));if(f.length===0&&Cf[r.commandName]){const l=new Error("S3 aborted request");throw l.name="InternalError",l}return p&&p.endsWith("</Error>")&&(i.statusCode=400),s},Tf=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),Df={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},To=t=>({applyToStack:e=>{e.addRelativeTo(Rf(t),Df)}}),Bf=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function If(t){return(e,r)=>async n=>{if(t.bucketEndpoint){const s=r.endpointV2;if(s){const i=n.input.Bucket;if(typeof i=="string")try{const a=new URL(i);r.endpointV2={...s,url:a}}catch(a){const o=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${i} could not be parsed as URL.`;throw r.logger?.constructor?.name==="NoOpLogger"?console.warn(o):r.logger?.warn?.(o),a}}}return e(n)}}const Of={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function Pf({bucketEndpoint:t}){return e=>async r=>{const{input:{Bucket:n}}=r;if(!t&&typeof n=="string"&&!Bf(n)&&n.indexOf("/")>=0){const s=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw s.name="InvalidBucketName",s}return e({...r})}}const Nf={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Mf=t=>({applyToStack:e=>{e.add(Pf(t),Nf),e.addRelativeTo(If(t),Of)}}),Ff=void 0;function Uf(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function zf(t){const e=tr(t.userAgentAppId??Ff),{customUserAgent:r}=t;return Object.assign(t,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{const n=await e();if(!Uf(n)){const s=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}class Lf{capacity;data=new Map;parameters=[];constructor({size:e,params:r}){this.capacity=e??50,r&&(this.parameters=r)}get(e,r){const n=this.hash(e);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){const s=this.data.keys();let i=0;for(;;){const{value:a,done:o}=s.next();if(this.data.delete(a),o||++i>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(e){let r="";const{parameters:n}=this;if(n.length===0)return!1;for(const s of n){const i=String(e[s]??"");if(i.includes("|;"))return!1;r+=i+"|;"}return r}}const $f=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Do=t=>$f.test(t)||t.startsWith("[")&&t.endsWith("]"),Hf=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),rn=(t,e=!1)=>{if(!e)return Hf.test(t);const r=t.split(".");for(const n of r)if(!rn(n))return!1;return!0},qr={},Cr="endpoints";function Lt(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Lt(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Lt).join(", ")})`:JSON.stringify(t,null,2)}class pt extends Error{constructor(e){super(e),this.name="EndpointError"}}const jf=(t,e)=>t===e,Wf=t=>{const e=t.split("."),r=[];for(const n of e){const s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new pt(`Path: '${t}' does not end with ']'`);const i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new pt(`Invalid array index: '${i}' in path: '${t}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},Bo=(t,e)=>Wf(e).reduce((r,n)=>{if(typeof r!="object")throw new pt(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),qf=t=>t!=null,Zf=t=>!t,Dn={[_r.HTTP]:80,[_r.HTTPS]:443},Vf=t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:p,port:l,protocol:y="",path:m="",query:b={}}=t,w=new URL(`${y}//${p}${l?`:${l}`:""}${m}`);return w.search=Object.entries(b).map(([S,A])=>`${S}=${A}`).join("&"),w}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const r=e.href,{host:n,hostname:s,pathname:i,protocol:a,search:o}=e;if(o)return null;const c=a.slice(0,-1);if(!Object.values(_r).includes(c))return null;const u=Do(s),h=r.includes(`${n}:${Dn[c]}`)||typeof t=="string"&&t.includes(`${n}:${Dn[c]}`),f=`${n}${h?`:${Dn[c]}`:""}`;return{scheme:c,authority:f,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:u}},Gf=(t,e)=>t===e,Kf=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),Xf=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Yf={booleanEquals:jf,getAttr:Bo,isSet:qf,isValidHostLabel:rn,not:Zf,parseURL:Vf,stringEquals:Gf,substring:Kf,uriEncode:Xf},Io=(t,e)=>{const r=[],n={...e.endpointParams,...e.referenceRecord};let s=0;for(;s<t.length;){const i=t.indexOf("{",s);if(i===-1){r.push(t.slice(s));break}r.push(t.slice(s,i));const a=t.indexOf("}",i);if(a===-1){r.push(t.slice(i));break}t[i+1]==="{"&&t[a+1]==="}"&&(r.push(t.slice(i+1,a)),s=a+2);const o=t.substring(i+1,a);if(o.includes("#")){const[c,u]=o.split("#");r.push(Bo(n[c],u))}else r.push(n[o]);s=a+1}return r.join("")},Qf=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],nn=(t,e,r)=>{if(typeof t=="string")return Io(t,r);if(t.fn)return Po.callFunction(t,r);if(t.ref)return Qf(t,r);throw new pt(`'${e}': ${String(t)} is not a string, function or reference.`)},Oo=({fn:t,argv:e},r)=>{const n=e.map(i=>["boolean","number"].includes(typeof i)?i:Po.evaluateExpression(i,"arg",r)),s=t.split(".");return s[0]in qr&&s[1]!=null?qr[s[0]][s[1]](...n):Yf[t](...n)},Po={evaluateExpression:nn,callFunction:Oo},Jf=({assign:t,...e},r)=>{if(t&&t in r.referenceRecord)throw new pt(`'${t}' is already defined in Reference Record.`);const n=Oo(e,r);return r.logger?.debug?.(`${Cr} evaluateCondition: ${Lt(e)} = ${Lt(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}},Is=(t=[],e)=>{const r={};for(const n of t){const{result:s,toAssign:i}=Jf(n,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!s)return{result:s};i&&(r[i.name]=i.value,e.logger?.debug?.(`${Cr} assign: ${i.name} := ${Lt(i.value)}`))}return{result:!0,referenceRecord:r}},eh=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{const a=nn(i,"Header value entry",e);if(typeof a!="string")throw new pt(`Header '${n}' value '${a}' is not a string`);return a})}),{}),No=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:Fo.getEndpointProperty(s,e)}),{}),Mo=(t,e)=>{if(Array.isArray(t))return t.map(r=>Mo(r,e));switch(typeof t){case"string":return Io(t,e);case"object":if(t===null)throw new pt(`Unexpected endpoint property: ${t}`);return Fo.getEndpointProperties(t,e);case"boolean":return t;default:throw new pt(`Unexpected endpoint property type: ${typeof t}`)}},Fo={getEndpointProperty:Mo,getEndpointProperties:No},th=(t,e)=>{const r=nn(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new pt(`Endpoint URL must be a string, got ${typeof r}`)},rh=(t,e)=>{const{conditions:r,endpoint:n}=t,{result:s,referenceRecord:i}=Is(r,e);if(!s)return;const a={...e,referenceRecord:{...e.referenceRecord,...i}},{url:o,properties:c,headers:u}=n;return e.logger?.debug?.(`${Cr} Resolving endpoint from template: ${Lt(n)}`),{...u!=null&&{headers:eh(u,a)},...c!=null&&{properties:No(c,a)},url:th(o,a)}},nh=(t,e)=>{const{conditions:r,error:n}=t,{result:s,referenceRecord:i}=Is(r,e);if(s)throw new pt(nn(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...i}}))},Uo=(t,e)=>{for(const r of t)if(r.type==="endpoint"){const n=rh(r,e);if(n)return n}else if(r.type==="error")nh(r,e);else if(r.type==="tree"){const n=zo.evaluateTreeRule(r,e);if(n)return n}else throw new pt(`Unknown endpoint rule: ${r}`);throw new pt("Rules evaluation failed")},sh=(t,e)=>{const{conditions:r,rules:n}=t,{result:s,referenceRecord:i}=Is(r,e);if(s)return zo.evaluateRules(n,{...e,referenceRecord:{...e.referenceRecord,...i}})},zo={evaluateRules:Uo,evaluateTreeRule:sh},ih=(t,e)=>{const{endpointParams:r,logger:n}=e,{parameters:s,rules:i}=t;e.logger?.debug?.(`${Cr} Initial EndpointParams: ${Lt(r)}`);const a=Object.entries(s).filter(([,u])=>u.default!=null).map(([u,h])=>[u,h.default]);if(a.length>0)for(const[u,h]of a)r[u]=r[u]??h;const o=Object.entries(s).filter(([,u])=>u.required).map(([u])=>u);for(const u of o)if(r[u]==null)throw new pt(`Missing required parameter: '${u}'`);const c=Uo(i,{endpointParams:r,logger:n,referenceRecord:{}});return e.logger?.debug?.(`${Cr} Resolved endpoint: ${Lt(c)}`),c},Lo=(t,e=!1)=>{if(e){for(const r of t.split("."))if(!Lo(r))return!1;return!0}return!(!rn(t)||t.length<3||t.length>63||t!==t.toLowerCase()||Do(t))},gi=":",ah="/",oh=t=>{const e=t.split(gi);if(e.length<6)return null;const[r,n,s,i,a,...o]=e;if(r!=="arn"||n===""||s===""||o.join(gi)==="")return null;const c=o.map(u=>u.split(ah)).flat();return{partition:n,service:s,region:i,accountId:a,resourceId:c}},ch=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],uh={partitions:ch};let lh=uh;const dh=t=>{const{partitions:e}=lh;for(const n of e){const{regions:s,outputs:i}=n;for(const[a,o]of Object.entries(s))if(a===t)return{...i,...o}}for(const n of e){const{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(t))return{...i}}const r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},$o={isVirtualHostableS3Bucket:Lo,parseArn:oh,partition:dh};qr.aws=$o;function fh(t){const e={};if(t=t.replace(/^\?/,""),t)for(const r of t.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in e?Array.isArray(e[n])?e[n].push(s):e[n]=[e[n],s]:e[n]=s}return e}const Zr=t=>{if(typeof t=="string")return Zr(new URL(t));const{hostname:e,pathname:r,port:n,protocol:s,search:i}=t;let a;return i&&(a=fh(i)),{hostname:e,port:n?parseInt(n):void 0,protocol:s,path:r,query:a}},hh=/\d{12}\.ddb/;async function ph(t,e,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&$e(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){const i=await e.retryStrategy();typeof i.acquireInitialRetryToken=="function"?i.constructor?.name?.includes("Adaptive")?$e(t,"RETRY_MODE_ADAPTIVE","F"):$e(t,"RETRY_MODE_STANDARD","E"):$e(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){const i=t.endpointV2;switch(String(i?.url?.hostname).match(hh)&&$e(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":$e(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":$e(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":$e(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const s=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){const i=s;i.accountId&&$e(t,"RESOLVED_ACCOUNT_ID","T");for(const[a,o]of Object.entries(i.$source??{}))$e(t,a,o)}}const yi="user-agent",Bn="x-amz-user-agent",bi=" ",In="/",mh=/[^!$%&'*+\-.^_`|~\w]/g,gh=/[^!$%&'*+\-.^_`|~\w#]/g,wi="-",yh=1024;function bh(t){let e="";for(const r in t){const n=t[r];if(e.length+n.length+1<=yh){e.length?e+=","+n:e+=n;continue}break}return e}const wh=t=>(e,r)=>async n=>{const{request:s}=n;if(!qe.isInstance(s))return e(n);const{headers:i}=s,a=r?.userAgent?.map(Pr)||[],o=(await t.defaultUserAgentProvider()).map(Pr);await ph(r,t,n);const c=r;o.push(`m/${bh(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);const u=t?.customUserAgent?.map(Pr)||[],h=await t.userAgentAppId();h&&o.push(Pr(["app",`${h}`]));const f=[].concat([...o,...a,...u]).join(bi),p=[...o.filter(l=>l.startsWith("aws-sdk-")),...u].join(bi);return t.runtime!=="browser"?(p&&(i[Bn]=i[Bn]?`${i[yi]} ${p}`:p),i[yi]=f):i[Bn]=f,e({...n,request:s})},Pr=t=>{const e=t[0].split(In).map(a=>a.replace(mh,wi)).join(In),r=t[1]?.replace(gh,wi),n=e.indexOf(In),s=e.substring(0,n);let i=e.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(a=>a&&a.length>0).reduce((a,o,c)=>{switch(c){case 0:return o;case 1:return`${a}/${o}`;default:return`${a}#${o}`}},"")},Sh={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},xh=t=>({applyToStack:e=>{e.add(wh(t),Sh)}}),Eh=!1,vh=!1,Si=new Set,_h=(t,e=rn)=>{if(!Si.has(t)&&!e(t))if(t==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);else Si.add(t)},Ho=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),Ah=t=>Ho(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,Ch=t=>{const{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{const n=typeof e=="function"?await e():e,s=Ah(n);return _h(s),s},useFipsEndpoint:async()=>{const n=typeof e=="string"?e:await e();return Ho(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},kh=t=>Object.assign(t,{eventStreamMarshaller:t.eventStreamSerdeProvider(t)}),xi="content-length";function Rh(t){return e=>async r=>{const n=r.request;if(qe.isInstance(n)){const{body:s,headers:i}=n;if(s&&Object.keys(i).map(a=>a.toLowerCase()).indexOf(xi)===-1)try{const a=t(s);n.headers={...n.headers,[xi]:String(a)}}catch{}}return e({...r,request:n})}}const Th={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Dh=t=>({applyToStack:e=>{e.add(Rh(t.bodyLengthChecker),Th)}}),Bh=async t=>{const e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Mh(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Nh(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},Ih=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Oh=/(\d+\.){3}\d+/,Ph=/\.\./,Nh=t=>Ih.test(t)&&!Oh.test(t)&&!Ph.test(t),Mh=t=>{const[e,r,n,,,s]=t.split(":"),i=e==="arn"&&t.split(":").length>=6,a=!!(i&&r&&n&&s);if(i&&!a)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return a},Fh=(t,e,r)=>{const n=async()=>{const s=r[t]??r[e];return typeof s=="function"?s():s};return t==="credentialScope"||e==="CredentialScope"?async()=>{const s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{const s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;const s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){const{protocol:i,hostname:a,port:o,path:c}=s;return`${i}//${a}${o?":"+o:""}${c}`}}return s}:n},jo=async t=>{},Wo=t=>typeof t=="object"?"url"in t?Zr(t.url):t:Zr(t),Uh=async(t,e,r,n)=>{if(!r.isCustomEndpoint){let a;r.serviceConfiguredEndpoint?a=await r.serviceConfiguredEndpoint():a=await jo(r.serviceId),a&&(r.endpoint=()=>Promise.resolve(Wo(a)),r.isCustomEndpoint=!0)}const s=await qo(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},qo=async(t,e,r)=>{const n={},s=e?.getEndpointParameterInstructions?.()||{};for(const[i,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=t[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await Fh(a.name,i,r)();break;case"operationContextParams":n[i]=a.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Bh(n),n},zh=({config:t,instructions:e})=>(r,n)=>async s=>{t.isCustomEndpoint&&El(n,"ENDPOINT_OVERRIDE","N");const i=await Uh(s.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;const a=n.authSchemes?.[0];if(a){n.signing_region=a.signingRegion,n.signing_service=a.signingName;const c=$t(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:a.signingRegion,signingRegion:a.signingRegion,signing_service:a.signingName,signingName:a.signingName,signingRegionSet:a.signingRegionSet},a.properties))}return r({...s})},Lh={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Tu.name},Zo=(t,e)=>({applyToStack:r=>{r.addRelativeTo(zh({config:t,instructions:e}),Lh)}}),$h=t=>{const e=t.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=t,i=r!=null?async()=>Wo(await xt(r)()):void 0,o=Object.assign(t,{endpoint:i,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:xt(n??!1),useFipsEndpoint:xt(s??!1)});let c;return o.serviceConfiguredEndpoint=async()=>(t.serviceId&&!c&&(c=jo(t.serviceId)),c),o};var ar;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(ar||(ar={}));const Vr=3,Hh=ar.STANDARD,jh=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Wh=["TimeoutError","RequestTimeout","RequestTimeoutException"],qh=[500,502,503,504],Zh=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Vh=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],Gh=t=>t?.$retryable!==void 0,Kh=t=>t.$metadata?.clockSkewCorrected,Xh=t=>{const e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},Vo=t=>t.$metadata?.httpStatusCode===429||jh.includes(t.name)||t.$retryable?.throttling==!0,Os=(t,e=0)=>Gh(t)||Kh(t)||Wh.includes(t.name)||Zh.includes(t?.code||"")||Vh.includes(t?.code||"")||qh.includes(t.$metadata?.httpStatusCode||0)||Xh(t)||t.cause!==void 0&&e<=10&&Os(t.cause,e+1),Yh=t=>{if(t.$metadata?.httpStatusCode!==void 0){const e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!Os(t)}return!1};class Ps{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>Ps.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),Vo(e)){const s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}const hs=100,Go=20*1e3,Qh=500,Ei=500,Jh=5,ep=10,tp=1,rp="amz-sdk-invocation-id",np="amz-sdk-request",sp=()=>{let t=hs;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Go,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}},vi=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(Go,t),getRetryCost:()=>r});class Ko{maxAttempts;mode=ar.STANDARD;capacity=Ei;retryBackoffStrategy=sp();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return vi({retryDelay:hs,retryCount:0})}async refreshRetryTokenForRetry(e,r){const n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){const s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?Qh:hs);const i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),a=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,o=this.getCapacityCost(s);return this.capacity-=o,vi({retryDelay:a,retryCount:e.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(Ei,this.capacity+(e.getRetryCost()??tp))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Vr}`),Vr}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?ep:Jh}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class ip{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=ar.ADAPTIVE;constructor(e,r){this.maxAttemptsProvider=e;const{rateLimiter:n}=r??{};this.rateLimiter=n??new Ps,this.standardRetryStrategy=new Ko(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}const ap=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),op=t=>{const{retryStrategy:e,retryMode:r,maxAttempts:n}=t,s=xt(n??Vr);return Object.assign(t,{maxAttempts:s,retryStrategy:async()=>e||(await xt(r)()===ar.ADAPTIVE?new ip(s):new Ko(s))})},cp=t=>t?.body instanceof ReadableStream,up=t=>(e,r)=>async n=>{let s=await t.retryStrategy();const i=await t.maxAttempts();if(lp(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),o=new Error,c=0,u=0;const{request:h}=n,f=qe.isInstance(h);for(f&&(h.headers[rp]=ws());;)try{f&&(h.headers[np]=`attempt=${c+1}; max=${i}`);const{response:p,output:l}=await e(n);return s.recordSuccess(a),l.$metadata.attempts=c+1,l.$metadata.totalRetryDelay=u,{response:p,output:l}}catch(p){const l=dp(p);if(o=ap(p),f&&cp(h))throw(r.logger instanceof As?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),o;try{a=await s.refreshRetryTokenForRetry(a,l)}catch{throw o.$metadata||(o.$metadata={}),o.$metadata.attempts=c+1,o.$metadata.totalRetryDelay=u,o}c=a.getRetryCount();const y=a.getRetryDelay();u+=y,await new Promise(m=>setTimeout(m,y))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(e,n)},lp=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",dp=t=>{const e={error:t,errorType:fp(t)},r=mp(t.$response);return r&&(e.retryAfterHint=r),e},fp=t=>Vo(t)?"THROTTLING":Os(t)?"TRANSIENT":Yh(t)?"SERVER_ERROR":"CLIENT_ERROR",hp={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},pp=t=>({applyToStack:e=>{e.add(up(t),hp)}}),mp=t=>{if(!Zt.isInstance(t))return;const e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;const r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};class Xo{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return"none"}constructor(e){this.sigv4Signer=new gf(e),this.signerOptions=e}async sign(e,r={}){return r.signingRegion==="*"?this.getSigv4aSigner().sign(e,r):this.sigv4Signer.sign(e,r)}async signWithCredentials(e,r,n={}){if(n.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.signWithCredentials(e,r,n)}async presign(e,r={}){if(r.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.presign(e,r)}async presignWithCredentials(e,r,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,r,n)}getSigv4aSigner(){if(!this.sigv4aSigner)throw this.signerOptions.runtime==="node"?new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt"):new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");return this.sigv4aSigner}}const Ns="required",x="type",M="rules",_="conditions",B="fn",I="argv",oe="ref",me="assign",J="url",ee="properties",Dt="backend",Ye="authSchemes",He="disableDoubleEncoding",je="signingName",Qe="signingRegion",te="headers",Ms="signingRegionSet",gp=6,yp=!1,_t=!0,ht="isSet",ze="booleanEquals",ne="error",Gr="aws.partition",_e="stringEquals",Oe="getAttr",Pe="name",ke="substring",_i="bucketSuffix",Fs="parseURL",H="endpoint",z="tree",Kr="aws.isVirtualHostableS3Bucket",Xr="{url#scheme}://{Bucket}.{url#authority}{url#path}",kt="not",Ai="accessPointSuffix",Lr="{url#scheme}://{url#authority}{url#path}",Yo="hardwareType",Qo="regionPrefix",Ci="bucketAliasSuffix",ps="outpostId",Gt="isValidHostLabel",Us="sigv4a",kr="s3-outposts",or="s3",Jo="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",ec="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",ki="https://{Bucket}.s3.{partitionResult#dnsSuffix}",tc="aws.parseArn",rc="bucketArn",nc="arnType",Yr="",zs="s3-object-lambda",sc="accesspoint",Ls="accessPointName",Ri="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",Ti="mrapPartition",Di="outpostType",Bi="arnPrefix",ic="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",Ii="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Oi="https://s3.{partitionResult#dnsSuffix}",Kt={[Ns]:!1,[x]:"string"},Xt={[Ns]:!0,default:!1,[x]:"boolean"},pr={[Ns]:!1,[x]:"boolean"},bt={[B]:ze,[I]:[{[oe]:"Accelerate"},!0]},De={[B]:ze,[I]:[{[oe]:"UseFIPS"},!0]},Ce={[B]:ze,[I]:[{[oe]:"UseDualStack"},!0]},Ue={[B]:ht,[I]:[{[oe]:"Endpoint"}]},ac={[B]:Gr,[I]:[{[oe]:"Region"}],[me]:"partitionResult"},Pi={[B]:_e,[I]:[{[B]:Oe,[I]:[{[oe]:"partitionResult"},Pe]},"aws-cn"]},wr={[B]:ht,[I]:[{[oe]:"Bucket"}]},xe={[oe]:"Bucket"},Ni={[_]:[bt],[ne]:"S3Express does not support S3 Accelerate.",[x]:ne},Mi={[_]:[Ue,{[B]:Fs,[I]:[{[oe]:"Endpoint"}],[me]:"url"}],[M]:[{[_]:[{[B]:ht,[I]:[{[oe]:"DisableS3ExpressSessionAuth"}]},{[B]:ze,[I]:[{[oe]:"DisableS3ExpressSessionAuth"},!0]}],[M]:[{[_]:[{[B]:ze,[I]:[{[B]:Oe,[I]:[{[oe]:"url"},"isIp"]},!0]}],[M]:[{[_]:[{[B]:"uriEncode",[I]:[xe],[me]:"uri_encoded_bucket"}],[M]:[{[H]:{[J]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[ee]:{[Dt]:"S3Express",[Ye]:[{[He]:!0,[Pe]:"sigv4",[je]:"s3express",[Qe]:"{Region}"}]},[te]:{}},[x]:H}],[x]:z}],[x]:z},{[_]:[{[B]:Kr,[I]:[xe,!1]}],[M]:[{[H]:{[J]:Xr,[ee]:{[Dt]:"S3Express",[Ye]:[{[He]:!0,[Pe]:"sigv4",[je]:"s3express",[Qe]:"{Region}"}]},[te]:{}},[x]:H}],[x]:z},{[ne]:"S3Express bucket name is not a valid virtual hostable name.",[x]:ne}],[x]:z},{[_]:[{[B]:ze,[I]:[{[B]:Oe,[I]:[{[oe]:"url"},"isIp"]},!0]}],[M]:[{[_]:[{[B]:"uriEncode",[I]:[xe],[me]:"uri_encoded_bucket"}],[M]:[{[H]:{[J]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[ee]:{[Dt]:"S3Express",[Ye]:[{[He]:!0,[Pe]:"sigv4-s3express",[je]:"s3express",[Qe]:"{Region}"}]},[te]:{}},[x]:H}],[x]:z}],[x]:z},{[_]:[{[B]:Kr,[I]:[xe,!1]}],[M]:[{[H]:{[J]:Xr,[ee]:{[Dt]:"S3Express",[Ye]:[{[He]:!0,[Pe]:"sigv4-s3express",[je]:"s3express",[Qe]:"{Region}"}]},[te]:{}},[x]:H}],[x]:z},{[ne]:"S3Express bucket name is not a valid virtual hostable name.",[x]:ne}],[x]:z},it={[B]:Fs,[I]:[{[oe]:"Endpoint"}],[me]:"url"},On={[B]:ze,[I]:[{[B]:Oe,[I]:[{[oe]:"url"},"isIp"]},!0]},oc={[oe]:"url"},cc={[B]:"uriEncode",[I]:[xe],[me]:"uri_encoded_bucket"},ft={[Dt]:"S3Express",[Ye]:[{[He]:!0,[Pe]:"sigv4",[je]:"s3express",[Qe]:"{Region}"}]},de={},uc={[B]:Kr,[I]:[xe,!1]},Fi={[ne]:"S3Express bucket name is not a valid virtual hostable name.",[x]:ne},Ui={[B]:ht,[I]:[{[oe]:"UseS3ExpressControlEndpoint"}]},zi={[B]:ze,[I]:[{[oe]:"UseS3ExpressControlEndpoint"},!0]},he={[B]:kt,[I]:[Ue]},we={[B]:ze,[I]:[{[oe]:"UseDualStack"},!1]},ge={[B]:ze,[I]:[{[oe]:"UseFIPS"},!1]},Nr={[ne]:"Unrecognized S3Express bucket name format.",[x]:ne},Li={[B]:kt,[I]:[wr]},$i={[oe]:Yo},Hi={[_]:[he],[ne]:"Expected a endpoint to be specified but no endpoint was found",[x]:ne},Mr={[Ye]:[{[He]:!0,[Pe]:Us,[je]:kr,[Ms]:["*"]},{[He]:!0,[Pe]:"sigv4",[je]:kr,[Qe]:"{Region}"}]},Pn={[B]:ze,[I]:[{[oe]:"ForcePathStyle"},!1]},bp={[oe]:"ForcePathStyle"},Le={[B]:ze,[I]:[{[oe]:"Accelerate"},!1]},Ze={[B]:_e,[I]:[{[oe]:"Region"},"aws-global"]},Ge={[Ye]:[{[He]:!0,[Pe]:"sigv4",[je]:or,[Qe]:"us-east-1"}]},Se={[B]:kt,[I]:[Ze]},Ke={[B]:ze,[I]:[{[oe]:"UseGlobalEndpoint"},!0]},ji={[J]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:{[Ye]:[{[He]:!0,[Pe]:"sigv4",[je]:or,[Qe]:"{Region}"}]},[te]:{}},We={[Ye]:[{[He]:!0,[Pe]:"sigv4",[je]:or,[Qe]:"{Region}"}]},Xe={[B]:ze,[I]:[{[oe]:"UseGlobalEndpoint"},!1]},Wi={[J]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[ee]:We,[te]:{}},qi={[J]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[ee]:We,[te]:{}},Zi={[J]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:We,[te]:{}},Nn={[B]:ze,[I]:[{[B]:Oe,[I]:[oc,"isIp"]},!1]},Mn={[J]:Jo,[ee]:We,[te]:{}},ms={[J]:Xr,[ee]:We,[te]:{}},Vi={[H]:ms,[x]:H},Fn={[J]:ec,[ee]:We,[te]:{}},Gi={[J]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[ee]:We,[te]:{}},Fr={[ne]:"Invalid region: region was not a valid DNS name.",[x]:ne},ct={[oe]:rc},lc={[oe]:nc},Un={[B]:Oe,[I]:[ct,"service"]},$s={[oe]:Ls},Ki={[_]:[Ce],[ne]:"S3 Object Lambda does not support Dual-stack",[x]:ne},Xi={[_]:[bt],[ne]:"S3 Object Lambda does not support S3 Accelerate",[x]:ne},Yi={[_]:[{[B]:ht,[I]:[{[oe]:"DisableAccessPoints"}]},{[B]:ze,[I]:[{[oe]:"DisableAccessPoints"},!0]}],[ne]:"Access points are not supported for this operation",[x]:ne},zn={[_]:[{[B]:ht,[I]:[{[oe]:"UseArnRegion"}]},{[B]:ze,[I]:[{[oe]:"UseArnRegion"},!1]},{[B]:kt,[I]:[{[B]:_e,[I]:[{[B]:Oe,[I]:[ct,"region"]},"{Region}"]}]}],[ne]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[x]:ne},dc={[B]:Oe,[I]:[{[oe]:"bucketPartition"},Pe]},fc={[B]:Oe,[I]:[ct,"accountId"]},Ln={[Ye]:[{[He]:!0,[Pe]:"sigv4",[je]:zs,[Qe]:"{bucketArn#region}"}]},Qi={[ne]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[x]:ne},$n={[ne]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[x]:ne},Hn={[ne]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[x]:ne},jn={[ne]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[x]:ne},Ji={[ne]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[x]:ne},ea={[ne]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[x]:ne},mr={[Ye]:[{[He]:!0,[Pe]:"sigv4",[je]:or,[Qe]:"{bucketArn#region}"}]},ta={[Ye]:[{[He]:!0,[Pe]:Us,[je]:kr,[Ms]:["*"]},{[He]:!0,[Pe]:"sigv4",[je]:kr,[Qe]:"{bucketArn#region}"}]},ra={[B]:tc,[I]:[xe]},na={[J]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:We,[te]:{}},sa={[J]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:We,[te]:{}},ia={[J]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:We,[te]:{}},Wn={[J]:ic,[ee]:We,[te]:{}},aa={[J]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:We,[te]:{}},oa={[oe]:"UseObjectLambdaEndpoint"},qn={[Ye]:[{[He]:!0,[Pe]:"sigv4",[je]:zs,[Qe]:"{Region}"}]},ca={[J]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:We,[te]:{}},ua={[J]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[ee]:We,[te]:{}},la={[J]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:We,[te]:{}},Zn={[J]:Lr,[ee]:We,[te]:{}},da={[J]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[ee]:We,[te]:{}},Vn=[{[oe]:"Region"}],wp=[{[oe]:"Endpoint"}],Sp=[xe],Gn=[bt],Yt=[Ue,it],fa=[{[B]:ht,[I]:[{[oe]:"DisableS3ExpressSessionAuth"}]},{[B]:ze,[I]:[{[oe]:"DisableS3ExpressSessionAuth"},!0]}],xp=[cc],ha=[uc],yt=[ac],Kn=[De,Ce],Sr=[De,we],xr=[ge,Ce],Er=[ge,we],pa=[{[B]:ke,[I]:[xe,6,14,!0],[me]:"s3expressAvailabilityZoneId"},{[B]:ke,[I]:[xe,14,16,!0],[me]:"s3expressAvailabilityZoneDelim"},{[B]:_e,[I]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],At=[{[_]:[De,Ce],[H]:{[J]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:ft,[te]:{}},[x]:H},{[_]:Sr,[H]:{[J]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ee]:ft,[te]:{}},[x]:H},{[_]:xr,[H]:{[J]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:ft,[te]:{}},[x]:H},{[_]:Er,[H]:{[J]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ee]:ft,[te]:{}},[x]:H}],ma=[{[B]:ke,[I]:[xe,6,15,!0],[me]:"s3expressAvailabilityZoneId"},{[B]:ke,[I]:[xe,15,17,!0],[me]:"s3expressAvailabilityZoneDelim"},{[B]:_e,[I]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],ga=[{[B]:ke,[I]:[xe,6,19,!0],[me]:"s3expressAvailabilityZoneId"},{[B]:ke,[I]:[xe,19,21,!0],[me]:"s3expressAvailabilityZoneDelim"},{[B]:_e,[I]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],ya=[{[B]:ke,[I]:[xe,6,20,!0],[me]:"s3expressAvailabilityZoneId"},{[B]:ke,[I]:[xe,20,22,!0],[me]:"s3expressAvailabilityZoneDelim"},{[B]:_e,[I]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],ba=[{[B]:ke,[I]:[xe,6,26,!0],[me]:"s3expressAvailabilityZoneId"},{[B]:ke,[I]:[xe,26,28,!0],[me]:"s3expressAvailabilityZoneDelim"},{[B]:_e,[I]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],Ct=[{[_]:[De,Ce],[H]:{[J]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:{[Dt]:"S3Express",[Ye]:[{[He]:!0,[Pe]:"sigv4-s3express",[je]:"s3express",[Qe]:"{Region}"}]},[te]:{}},[x]:H},{[_]:Sr,[H]:{[J]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ee]:{[Dt]:"S3Express",[Ye]:[{[He]:!0,[Pe]:"sigv4-s3express",[je]:"s3express",[Qe]:"{Region}"}]},[te]:{}},[x]:H},{[_]:xr,[H]:{[J]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:{[Dt]:"S3Express",[Ye]:[{[He]:!0,[Pe]:"sigv4-s3express",[je]:"s3express",[Qe]:"{Region}"}]},[te]:{}},[x]:H},{[_]:Er,[H]:{[J]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[ee]:{[Dt]:"S3Express",[Ye]:[{[He]:!0,[Pe]:"sigv4-s3express",[je]:"s3express",[Qe]:"{Region}"}]},[te]:{}},[x]:H}],wa=[xe,0,7,!0],Sa=[{[B]:ke,[I]:[xe,7,15,!0],[me]:"s3expressAvailabilityZoneId"},{[B]:ke,[I]:[xe,15,17,!0],[me]:"s3expressAvailabilityZoneDelim"},{[B]:_e,[I]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],xa=[{[B]:ke,[I]:[xe,7,16,!0],[me]:"s3expressAvailabilityZoneId"},{[B]:ke,[I]:[xe,16,18,!0],[me]:"s3expressAvailabilityZoneDelim"},{[B]:_e,[I]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],Ea=[{[B]:ke,[I]:[xe,7,20,!0],[me]:"s3expressAvailabilityZoneId"},{[B]:ke,[I]:[xe,20,22,!0],[me]:"s3expressAvailabilityZoneDelim"},{[B]:_e,[I]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],va=[{[B]:ke,[I]:[xe,7,21,!0],[me]:"s3expressAvailabilityZoneId"},{[B]:ke,[I]:[xe,21,23,!0],[me]:"s3expressAvailabilityZoneDelim"},{[B]:_e,[I]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],_a=[{[B]:ke,[I]:[xe,7,27,!0],[me]:"s3expressAvailabilityZoneId"},{[B]:ke,[I]:[xe,27,29,!0],[me]:"s3expressAvailabilityZoneDelim"},{[B]:_e,[I]:[{[oe]:"s3expressAvailabilityZoneDelim"},"--"]}],Ep=[wr],Aa=[{[B]:Gt,[I]:[{[oe]:ps},!1]}],Ca=[{[B]:_e,[I]:[{[oe]:Qo},"beta"]}],vp=["*"],ka=[{[B]:Gt,[I]:[{[oe]:"Region"},!1]}],It=[{[B]:_e,[I]:[{[oe]:"Region"},"us-east-1"]}],Xn=[{[B]:_e,[I]:[lc,sc]}],Ra=[{[B]:Oe,[I]:[ct,"resourceId[1]"],[me]:Ls},{[B]:kt,[I]:[{[B]:_e,[I]:[$s,Yr]}]}],_p=[ct,"resourceId[1]"],Ta=[Ce],Yn=[{[B]:kt,[I]:[{[B]:_e,[I]:[{[B]:Oe,[I]:[ct,"region"]},Yr]}]}],Da=[{[B]:kt,[I]:[{[B]:ht,[I]:[{[B]:Oe,[I]:[ct,"resourceId[2]"]}]}]}],Ap=[ct,"resourceId[2]"],Qn=[{[B]:Gr,[I]:[{[B]:Oe,[I]:[ct,"region"]}],[me]:"bucketPartition"}],Ba=[{[B]:_e,[I]:[dc,{[B]:Oe,[I]:[{[oe]:"partitionResult"},Pe]}]}],Jn=[{[B]:Gt,[I]:[{[B]:Oe,[I]:[ct,"region"]},!0]}],es=[{[B]:Gt,[I]:[fc,!1]}],Ia=[{[B]:Gt,[I]:[$s,!1]}],Ur=[De],Oa=[{[B]:Gt,[I]:[{[oe]:"Region"},!0]}],Cp={parameters:{Bucket:Kt,Region:Kt,UseFIPS:Xt,UseDualStack:Xt,Endpoint:Kt,ForcePathStyle:Xt,Accelerate:Xt,UseGlobalEndpoint:Xt,UseObjectLambdaEndpoint:pr,Key:Kt,Prefix:Kt,CopySource:Kt,DisableAccessPoints:pr,DisableMultiRegionAccessPoints:Xt,UseArnRegion:pr,UseS3ExpressControlEndpoint:pr,DisableS3ExpressSessionAuth:pr},[M]:[{[_]:[{[B]:ht,[I]:Vn}],[M]:[{[_]:[bt,De],error:"Accelerate cannot be used with FIPS",[x]:ne},{[_]:[Ce,Ue],error:"Cannot set dual-stack in combination with a custom endpoint.",[x]:ne},{[_]:[Ue,De],error:"A custom endpoint cannot be combined with FIPS",[x]:ne},{[_]:[Ue,bt],error:"A custom endpoint cannot be combined with S3 Accelerate",[x]:ne},{[_]:[De,ac,Pi],error:"Partition does not support FIPS",[x]:ne},{[_]:[wr,{[B]:ke,[I]:[xe,0,gp,_t],[me]:_i},{[B]:_e,[I]:[{[oe]:_i},"--x-s3"]}],[M]:[Ni,Mi,{[_]:[Ui,zi],[M]:[{[_]:yt,[M]:[{[_]:[cc,he],[M]:[{[_]:Kn,endpoint:{[J]:"https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:ft,[te]:de},[x]:H},{[_]:Sr,endpoint:{[J]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:ft,[te]:de},[x]:H},{[_]:xr,endpoint:{[J]:"https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:ft,[te]:de},[x]:H},{[_]:Er,endpoint:{[J]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:ft,[te]:de},[x]:H}],[x]:z}],[x]:z}],[x]:z},{[_]:ha,[M]:[{[_]:yt,[M]:[{[_]:fa,[M]:[{[_]:pa,[M]:At,[x]:z},{[_]:ma,[M]:At,[x]:z},{[_]:ga,[M]:At,[x]:z},{[_]:ya,[M]:At,[x]:z},{[_]:ba,[M]:At,[x]:z},Nr],[x]:z},{[_]:pa,[M]:Ct,[x]:z},{[_]:ma,[M]:Ct,[x]:z},{[_]:ga,[M]:Ct,[x]:z},{[_]:ya,[M]:Ct,[x]:z},{[_]:ba,[M]:Ct,[x]:z},Nr],[x]:z}],[x]:z},Fi],[x]:z},{[_]:[wr,{[B]:ke,[I]:wa,[me]:Ai},{[B]:_e,[I]:[{[oe]:Ai},"--xa-s3"]}],[M]:[Ni,Mi,{[_]:ha,[M]:[{[_]:yt,[M]:[{[_]:fa,[M]:[{[_]:Sa,[M]:At,[x]:z},{[_]:xa,[M]:At,[x]:z},{[_]:Ea,[M]:At,[x]:z},{[_]:va,[M]:At,[x]:z},{[_]:_a,[M]:At,[x]:z},Nr],[x]:z},{[_]:Sa,[M]:Ct,[x]:z},{[_]:xa,[M]:Ct,[x]:z},{[_]:Ea,[M]:Ct,[x]:z},{[_]:va,[M]:Ct,[x]:z},{[_]:_a,[M]:Ct,[x]:z},Nr],[x]:z}],[x]:z},Fi],[x]:z},{[_]:[Li,Ui,zi],[M]:[{[_]:yt,[M]:[{[_]:Yt,endpoint:{[J]:Lr,[ee]:ft,[te]:de},[x]:H},{[_]:Kn,endpoint:{[J]:"https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:ft,[te]:de},[x]:H},{[_]:Sr,endpoint:{[J]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[ee]:ft,[te]:de},[x]:H},{[_]:xr,endpoint:{[J]:"https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}",[ee]:ft,[te]:de},[x]:H},{[_]:Er,endpoint:{[J]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[ee]:ft,[te]:de},[x]:H}],[x]:z}],[x]:z},{[_]:[wr,{[B]:ke,[I]:[xe,49,50,_t],[me]:Yo},{[B]:ke,[I]:[xe,8,12,_t],[me]:Qo},{[B]:ke,[I]:wa,[me]:Ci},{[B]:ke,[I]:[xe,32,49,_t],[me]:ps},{[B]:Gr,[I]:Vn,[me]:"regionPartition"},{[B]:_e,[I]:[{[oe]:Ci},"--op-s3"]}],[M]:[{[_]:Aa,[M]:[{[_]:[{[B]:_e,[I]:[$i,"e"]}],[M]:[{[_]:Ca,[M]:[Hi,{[_]:Yt,endpoint:{[J]:"https://{Bucket}.ec2.{url#authority}",[ee]:Mr,[te]:de},[x]:H}],[x]:z},{endpoint:{[J]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ee]:Mr,[te]:de},[x]:H}],[x]:z},{[_]:[{[B]:_e,[I]:[$i,"o"]}],[M]:[{[_]:Ca,[M]:[Hi,{[_]:Yt,endpoint:{[J]:"https://{Bucket}.op-{outpostId}.{url#authority}",[ee]:Mr,[te]:de},[x]:H}],[x]:z},{endpoint:{[J]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[ee]:Mr,[te]:de},[x]:H}],[x]:z},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[x]:ne}],[x]:z},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[x]:ne}],[x]:z},{[_]:Ep,[M]:[{[_]:[Ue,{[B]:kt,[I]:[{[B]:ht,[I]:[{[B]:Fs,[I]:wp}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[x]:ne},{[_]:[Pn,uc],[M]:[{[_]:yt,[M]:[{[_]:ka,[M]:[{[_]:[bt,Pi],error:"S3 Accelerate cannot be used in this region",[x]:ne},{[_]:[Ce,De,Le,he,Ze],endpoint:{[J]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ee]:Ge,[te]:de},[x]:H},{[_]:[Ce,De,Le,he,Se,Ke],[M]:[{endpoint:ji,[x]:H}],[x]:z},{[_]:[Ce,De,Le,he,Se,Xe],endpoint:ji,[x]:H},{[_]:[we,De,Le,he,Ze],endpoint:{[J]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ee]:Ge,[te]:de},[x]:H},{[_]:[we,De,Le,he,Se,Ke],[M]:[{endpoint:Wi,[x]:H}],[x]:z},{[_]:[we,De,Le,he,Se,Xe],endpoint:Wi,[x]:H},{[_]:[Ce,ge,bt,he,Ze],endpoint:{[J]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ee]:Ge,[te]:de},[x]:H},{[_]:[Ce,ge,bt,he,Se,Ke],[M]:[{endpoint:qi,[x]:H}],[x]:z},{[_]:[Ce,ge,bt,he,Se,Xe],endpoint:qi,[x]:H},{[_]:[Ce,ge,Le,he,Ze],endpoint:{[J]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ee]:Ge,[te]:de},[x]:H},{[_]:[Ce,ge,Le,he,Se,Ke],[M]:[{endpoint:Zi,[x]:H}],[x]:z},{[_]:[Ce,ge,Le,he,Se,Xe],endpoint:Zi,[x]:H},{[_]:[we,ge,Le,Ue,it,On,Ze],endpoint:{[J]:Jo,[ee]:Ge,[te]:de},[x]:H},{[_]:[we,ge,Le,Ue,it,Nn,Ze],endpoint:{[J]:Xr,[ee]:Ge,[te]:de},[x]:H},{[_]:[we,ge,Le,Ue,it,On,Se,Ke],[M]:[{[_]:It,endpoint:Mn,[x]:H},{endpoint:Mn,[x]:H}],[x]:z},{[_]:[we,ge,Le,Ue,it,Nn,Se,Ke],[M]:[{[_]:It,endpoint:ms,[x]:H},Vi],[x]:z},{[_]:[we,ge,Le,Ue,it,On,Se,Xe],endpoint:Mn,[x]:H},{[_]:[we,ge,Le,Ue,it,Nn,Se,Xe],endpoint:ms,[x]:H},{[_]:[we,ge,bt,he,Ze],endpoint:{[J]:ec,[ee]:Ge,[te]:de},[x]:H},{[_]:[we,ge,bt,he,Se,Ke],[M]:[{[_]:It,endpoint:Fn,[x]:H},{endpoint:Fn,[x]:H}],[x]:z},{[_]:[we,ge,bt,he,Se,Xe],endpoint:Fn,[x]:H},{[_]:[we,ge,Le,he,Ze],endpoint:{[J]:ki,[ee]:Ge,[te]:de},[x]:H},{[_]:[we,ge,Le,he,Se,Ke],[M]:[{[_]:It,endpoint:{[J]:ki,[ee]:We,[te]:de},[x]:H},{endpoint:Gi,[x]:H}],[x]:z},{[_]:[we,ge,Le,he,Se,Xe],endpoint:Gi,[x]:H}],[x]:z},Fr],[x]:z}],[x]:z},{[_]:[Ue,it,{[B]:_e,[I]:[{[B]:Oe,[I]:[oc,"scheme"]},"http"]},{[B]:Kr,[I]:[xe,_t]},Pn,ge,we,Le],[M]:[{[_]:yt,[M]:[{[_]:ka,[M]:[Vi],[x]:z},Fr],[x]:z}],[x]:z},{[_]:[Pn,{[B]:tc,[I]:Sp,[me]:rc}],[M]:[{[_]:[{[B]:Oe,[I]:[ct,"resourceId[0]"],[me]:nc},{[B]:kt,[I]:[{[B]:_e,[I]:[lc,Yr]}]}],[M]:[{[_]:[{[B]:_e,[I]:[Un,zs]}],[M]:[{[_]:Xn,[M]:[{[_]:Ra,[M]:[Ki,Xi,{[_]:Yn,[M]:[Yi,{[_]:Da,[M]:[zn,{[_]:Qn,[M]:[{[_]:yt,[M]:[{[_]:Ba,[M]:[{[_]:Jn,[M]:[{[_]:[{[B]:_e,[I]:[fc,Yr]}],error:"Invalid ARN: Missing account id",[x]:ne},{[_]:es,[M]:[{[_]:Ia,[M]:[{[_]:Yt,endpoint:{[J]:Ri,[ee]:Ln,[te]:de},[x]:H},{[_]:Ur,endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:Ln,[te]:de},[x]:H},{endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:Ln,[te]:de},[x]:H}],[x]:z},Qi],[x]:z},$n],[x]:z},Hn],[x]:z},jn],[x]:z}],[x]:z}],[x]:z},Ji],[x]:z},{error:"Invalid ARN: bucket ARN is missing a region",[x]:ne}],[x]:z},ea],[x]:z},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[x]:ne}],[x]:z},{[_]:Xn,[M]:[{[_]:Ra,[M]:[{[_]:Yn,[M]:[{[_]:Xn,[M]:[{[_]:Yn,[M]:[Yi,{[_]:Da,[M]:[zn,{[_]:Qn,[M]:[{[_]:yt,[M]:[{[_]:[{[B]:_e,[I]:[dc,"{partitionResult#name}"]}],[M]:[{[_]:Jn,[M]:[{[_]:[{[B]:_e,[I]:[Un,or]}],[M]:[{[_]:es,[M]:[{[_]:Ia,[M]:[{[_]:Gn,error:"Access Points do not support S3 Accelerate",[x]:ne},{[_]:Kn,endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:mr,[te]:de},[x]:H},{[_]:Sr,endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:mr,[te]:de},[x]:H},{[_]:xr,endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:mr,[te]:de},[x]:H},{[_]:[ge,we,Ue,it],endpoint:{[J]:Ri,[ee]:mr,[te]:de},[x]:H},{[_]:Er,endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:mr,[te]:de},[x]:H}],[x]:z},Qi],[x]:z},$n],[x]:z},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[x]:ne}],[x]:z},Hn],[x]:z},jn],[x]:z}],[x]:z}],[x]:z},Ji],[x]:z}],[x]:z}],[x]:z},{[_]:[{[B]:Gt,[I]:[$s,_t]}],[M]:[{[_]:Ta,error:"S3 MRAP does not support dual-stack",[x]:ne},{[_]:Ur,error:"S3 MRAP does not support FIPS",[x]:ne},{[_]:Gn,error:"S3 MRAP does not support S3 Accelerate",[x]:ne},{[_]:[{[B]:ze,[I]:[{[oe]:"DisableMultiRegionAccessPoints"},_t]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[x]:ne},{[_]:[{[B]:Gr,[I]:Vn,[me]:Ti}],[M]:[{[_]:[{[B]:_e,[I]:[{[B]:Oe,[I]:[{[oe]:Ti},Pe]},{[B]:Oe,[I]:[ct,"partition"]}]}],[M]:[{endpoint:{[J]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[ee]:{[Ye]:[{[He]:_t,name:Us,[je]:or,[Ms]:vp}]},[te]:de},[x]:H}],[x]:z},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[x]:ne}],[x]:z}],[x]:z},{error:"Invalid Access Point Name",[x]:ne}],[x]:z},ea],[x]:z},{[_]:[{[B]:_e,[I]:[Un,kr]}],[M]:[{[_]:Ta,error:"S3 Outposts does not support Dual-stack",[x]:ne},{[_]:Ur,error:"S3 Outposts does not support FIPS",[x]:ne},{[_]:Gn,error:"S3 Outposts does not support S3 Accelerate",[x]:ne},{[_]:[{[B]:ht,[I]:[{[B]:Oe,[I]:[ct,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[x]:ne},{[_]:[{[B]:Oe,[I]:_p,[me]:ps}],[M]:[{[_]:Aa,[M]:[zn,{[_]:Qn,[M]:[{[_]:yt,[M]:[{[_]:Ba,[M]:[{[_]:Jn,[M]:[{[_]:es,[M]:[{[_]:[{[B]:Oe,[I]:Ap,[me]:Di}],[M]:[{[_]:[{[B]:Oe,[I]:[ct,"resourceId[3]"],[me]:Ls}],[M]:[{[_]:[{[B]:_e,[I]:[{[oe]:Di},sc]}],[M]:[{[_]:Yt,endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[ee]:ta,[te]:de},[x]:H},{endpoint:{[J]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[ee]:ta,[te]:de},[x]:H}],[x]:z},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[x]:ne}],[x]:z},{error:"Invalid ARN: expected an access point name",[x]:ne}],[x]:z},{error:"Invalid ARN: Expected a 4-component resource",[x]:ne}],[x]:z},$n],[x]:z},Hn],[x]:z},jn],[x]:z}],[x]:z}],[x]:z},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[x]:ne}],[x]:z},{error:"Invalid ARN: The Outpost Id was not set",[x]:ne}],[x]:z},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[x]:ne}],[x]:z},{error:"Invalid ARN: No ARN type specified",[x]:ne}],[x]:z},{[_]:[{[B]:ke,[I]:[xe,0,4,yp],[me]:Bi},{[B]:_e,[I]:[{[oe]:Bi},"arn:"]},{[B]:kt,[I]:[{[B]:ht,[I]:[ra]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[x]:ne},{[_]:[{[B]:ze,[I]:[bp,_t]},ra],error:"Path-style addressing cannot be used with ARN buckets",[x]:ne},{[_]:xp,[M]:[{[_]:yt,[M]:[{[_]:[Le],[M]:[{[_]:[Ce,he,De,Ze],endpoint:{[J]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:Ge,[te]:de},[x]:H},{[_]:[Ce,he,De,Se,Ke],[M]:[{endpoint:na,[x]:H}],[x]:z},{[_]:[Ce,he,De,Se,Xe],endpoint:na,[x]:H},{[_]:[we,he,De,Ze],endpoint:{[J]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:Ge,[te]:de},[x]:H},{[_]:[we,he,De,Se,Ke],[M]:[{endpoint:sa,[x]:H}],[x]:z},{[_]:[we,he,De,Se,Xe],endpoint:sa,[x]:H},{[_]:[Ce,he,ge,Ze],endpoint:{[J]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[ee]:Ge,[te]:de},[x]:H},{[_]:[Ce,he,ge,Se,Ke],[M]:[{endpoint:ia,[x]:H}],[x]:z},{[_]:[Ce,he,ge,Se,Xe],endpoint:ia,[x]:H},{[_]:[we,Ue,it,ge,Ze],endpoint:{[J]:ic,[ee]:Ge,[te]:de},[x]:H},{[_]:[we,Ue,it,ge,Se,Ke],[M]:[{[_]:It,endpoint:Wn,[x]:H},{endpoint:Wn,[x]:H}],[x]:z},{[_]:[we,Ue,it,ge,Se,Xe],endpoint:Wn,[x]:H},{[_]:[we,he,ge,Ze],endpoint:{[J]:Ii,[ee]:Ge,[te]:de},[x]:H},{[_]:[we,he,ge,Se,Ke],[M]:[{[_]:It,endpoint:{[J]:Ii,[ee]:We,[te]:de},[x]:H},{endpoint:aa,[x]:H}],[x]:z},{[_]:[we,he,ge,Se,Xe],endpoint:aa,[x]:H}],[x]:z},{error:"Path-style addressing cannot be used with S3 Accelerate",[x]:ne}],[x]:z}],[x]:z}],[x]:z},{[_]:[{[B]:ht,[I]:[oa]},{[B]:ze,[I]:[oa,_t]}],[M]:[{[_]:yt,[M]:[{[_]:Oa,[M]:[Ki,Xi,{[_]:Yt,endpoint:{[J]:Lr,[ee]:qn,[te]:de},[x]:H},{[_]:Ur,endpoint:{[J]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[ee]:qn,[te]:de},[x]:H},{endpoint:{[J]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[ee]:qn,[te]:de},[x]:H}],[x]:z},Fr],[x]:z}],[x]:z},{[_]:[Li],[M]:[{[_]:yt,[M]:[{[_]:Oa,[M]:[{[_]:[De,Ce,he,Ze],endpoint:{[J]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ee]:Ge,[te]:de},[x]:H},{[_]:[De,Ce,he,Se,Ke],[M]:[{endpoint:ca,[x]:H}],[x]:z},{[_]:[De,Ce,he,Se,Xe],endpoint:ca,[x]:H},{[_]:[De,we,he,Ze],endpoint:{[J]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[ee]:Ge,[te]:de},[x]:H},{[_]:[De,we,he,Se,Ke],[M]:[{endpoint:ua,[x]:H}],[x]:z},{[_]:[De,we,he,Se,Xe],endpoint:ua,[x]:H},{[_]:[ge,Ce,he,Ze],endpoint:{[J]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[ee]:Ge,[te]:de},[x]:H},{[_]:[ge,Ce,he,Se,Ke],[M]:[{endpoint:la,[x]:H}],[x]:z},{[_]:[ge,Ce,he,Se,Xe],endpoint:la,[x]:H},{[_]:[ge,we,Ue,it,Ze],endpoint:{[J]:Lr,[ee]:Ge,[te]:de},[x]:H},{[_]:[ge,we,Ue,it,Se,Ke],[M]:[{[_]:It,endpoint:Zn,[x]:H},{endpoint:Zn,[x]:H}],[x]:z},{[_]:[ge,we,Ue,it,Se,Xe],endpoint:Zn,[x]:H},{[_]:[ge,we,he,Ze],endpoint:{[J]:Oi,[ee]:Ge,[te]:de},[x]:H},{[_]:[ge,we,he,Se,Ke],[M]:[{[_]:It,endpoint:{[J]:Oi,[ee]:We,[te]:de},[x]:H},{endpoint:da,[x]:H}],[x]:z},{[_]:[ge,we,he,Se,Xe],endpoint:da,[x]:H}],[x]:z},Fr],[x]:z}],[x]:z}],[x]:z},{error:"A region must be set when sending requests to S3.",[x]:ne}]},kp=Cp,Rp=new Lf({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),hc=(t,e={})=>Rp.get(t,()=>ih(kp,{endpointParams:t,logger:e.logger}));qr.aws=$o;const Tp=t=>async(e,r,n)=>{if(!n)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const s=await t(e,r,n),i=$t(r)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!i)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);const a=await qo(n,{getEndpointParameterInstructions:i},e);return Object.assign(s,a)},Dp=async(t,e,r)=>({operation:$t(e).operation,region:await xt(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),Bp=Tp(Dp);function pc(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function mc(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}const Ip=(t,e,r)=>s=>{const a=t(s).properties?.authSchemes;if(!a)return e(s);const o=[];for(const c of a){const{name:u,properties:h={},...f}=c,p=u.toLowerCase();u!==p&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${u}\` to \`${p}\``);let l;if(p==="sigv4a"){l="aws.auth#sigv4a";const b=a.find(w=>{const S=w.name.toLowerCase();return S!=="sigv4a"&&S.startsWith("sigv4")});if(Xo.sigv4aDependency()==="none"&&b)continue}else if(p.startsWith("sigv4"))l="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${p}\``);const y=r[l];if(!y)throw new Error(`Could not find HttpAuthOption create function for \`${l}\``);const m=y(s);m.schemeId=l,m.signingProperties={...m.signingProperties||{},...f,...h},o.push(m)}return o},Op=t=>{const e=[];switch(t.operation){default:e.push(pc(t)),e.push(mc(t))}return e},Pp=Ip(hc,Op,{"aws.auth#sigv4":pc,"aws.auth#sigv4a":mc}),Np=t=>{const e=td(t),r=Tl(e);return Object.assign(r,{authSchemePreference:xt(t.authSchemePreference??[])})},Mp=t=>Object.assign(t,{useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),gc={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};let at=class yc extends Jt{constructor(e){super(e),Object.setPrototypeOf(this,yc.prototype)}},Fp=class bc extends at{name="NoSuchUpload";$fault="client";constructor(e){super({name:"NoSuchUpload",$fault:"client",...e}),Object.setPrototypeOf(this,bc.prototype)}},Up=class wc extends at{name="ObjectNotInActiveTierError";$fault="client";constructor(e){super({name:"ObjectNotInActiveTierError",$fault:"client",...e}),Object.setPrototypeOf(this,wc.prototype)}},zp=class Sc extends at{name="BucketAlreadyExists";$fault="client";constructor(e){super({name:"BucketAlreadyExists",$fault:"client",...e}),Object.setPrototypeOf(this,Sc.prototype)}},Lp=class xc extends at{name="BucketAlreadyOwnedByYou";$fault="client";constructor(e){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...e}),Object.setPrototypeOf(this,xc.prototype)}},$p=class Ec extends at{name="NoSuchBucket";$fault="client";constructor(e){super({name:"NoSuchBucket",$fault:"client",...e}),Object.setPrototypeOf(this,Ec.prototype)}},Hp=class vc extends at{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(e){super({name:"InvalidObjectState",$fault:"client",...e}),Object.setPrototypeOf(this,vc.prototype),this.StorageClass=e.StorageClass,this.AccessTier=e.AccessTier}},jp=class _c extends at{name="NoSuchKey";$fault="client";constructor(e){super({name:"NoSuchKey",$fault:"client",...e}),Object.setPrototypeOf(this,_c.prototype)}},Wp=class Ac extends at{name="NotFound";$fault="client";constructor(e){super({name:"NotFound",$fault:"client",...e}),Object.setPrototypeOf(this,Ac.prototype)}},qp=class Cc extends at{name="EncryptionTypeMismatch";$fault="client";constructor(e){super({name:"EncryptionTypeMismatch",$fault:"client",...e}),Object.setPrototypeOf(this,Cc.prototype)}},Zp=class kc extends at{name="InvalidRequest";$fault="client";constructor(e){super({name:"InvalidRequest",$fault:"client",...e}),Object.setPrototypeOf(this,kc.prototype)}},Vp=class Rc extends at{name="InvalidWriteOffset";$fault="client";constructor(e){super({name:"InvalidWriteOffset",$fault:"client",...e}),Object.setPrototypeOf(this,Rc.prototype)}},Gp=class Tc extends at{name="TooManyParts";$fault="client";constructor(e){super({name:"TooManyParts",$fault:"client",...e}),Object.setPrototypeOf(this,Tc.prototype)}},Kp=class Dc extends at{name="IdempotencyParameterMismatch";$fault="client";constructor(e){super({name:"IdempotencyParameterMismatch",$fault:"client",...e}),Object.setPrototypeOf(this,Dc.prototype)}},Xp=class Bc extends at{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(e){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...e}),Object.setPrototypeOf(this,Bc.prototype)}};const Yp="ACL",Pa="AccessKeyId",Qp="AccessTier",Ic="Bucket",Jp="BucketAlreadyExists",em="BucketAlreadyOwnedByYou",sn="BucketKeyEnabled",tm="Body",rm="ChecksumAlgorithm",nm="CacheControl",Oc="ChecksumCRC32",Pc="ChecksumCRC32C",Nc="ChecksumCRC64NVME",sm="Cache-Control",im="Content-Disposition",am="ContentDisposition",om="Content-Encoding",cm="ContentEncoding",um="ContentLanguage",lm="Content-Language",dm="Content-Length",fm="ContentLength",hm="Content-MD5",pm="ContentMD5",Mc="ChecksumSHA1",Fc="ChecksumSHA256",mm="CreateSessionOutput",gm="CreateSessionResult",ym="CreateSessionRequest",bm="CreateSession",wm="ChecksumType",Sm="Content-Type",xm="ContentType",Na="Credentials",gs="Expiration",Em="ExpectedBucketOwner",Ma="ETag",vm="EncryptionTypeMismatch",Fa="Expires",_m="GrantFullControl",Am="GrantRead",Cm="GrantReadACP",km="GrantWriteACP",Rm="IfMatch",Tm="If-Match",Dm="IfNoneMatch",Bm="If-None-Match",Im="InvalidObjectState",Om="IdempotencyParameterMismatch",Pm="InvalidRequest",Nm="InvalidWriteOffset",Mm="Key",Fm="Metadata",Um="NotFound",zm="NoSuchBucket",Lm="NoSuchKey",$m="NoSuchUpload",Hm="ObjectAlreadyInActiveTierError",jm="ObjectLockLegalHoldStatus",Wm="ObjectLockMode",qm="ObjectLockRetainUntilDate",Zm="ObjectNotInActiveTierError",Vm="PutObject",Gm="PutObjectOutput",Km="PutObjectRequest",Xm="RequestCharged",Ym="RequestPayer",Ua="SecretAccessKey",Qm="StreamingBlob",Uc="StorageClass",Jm="SessionCredentialValue",eg="SessionCredentials",tg="SessionMode",an="ServerSideEncryption",zc="SSECustomerAlgorithm",Lc="SSECustomerKey",$c="SSECustomerKeyMD5",Rr="SSEKMSEncryptionContext",Tr="SSEKMSKeyId",za="SessionToken",rg="Size",ng="TooManyParts",sg="Tagging",ig="VersionId",ag="WriteOffsetBytes",og="WebsiteRedirectLocation",ut="client",lt="error",Hc="http",mt="httpError",ae="httpHeader",cg="httpPrefixHeaders",ug="streaming",jc="smithy.ts.sdk.synthetic.com.amazonaws.s3",er="xmlName",lg="x-amz-acl",Wc="x-amz-checksum-crc32",qc="x-amz-checksum-crc32c",Zc="x-amz-checksum-crc64nvme",Vc="x-amz-checksum-sha1",Gc="x-amz-checksum-sha256",dg="x-amz-create-session-mode",fg="x-amz-checksum-type",hg="x-amz-expiration",pg="x-amz-expected-bucket-owner",mg="x-amz-grant-full-control",gg="x-amz-grant-read",yg="x-amz-grant-read-acp",bg="x-amz-grant-write-acp",wg="x-amz-meta-",Sg="x-amz-object-lock-legal-hold",xg="x-amz-object-lock-mode",Eg="x-amz-object-lock-retain-until-date",vg="x-amz-object-size",_g="x-amz-request-charged",Ag="x-amz-request-payer",Cg="x-amz-storage-class",kg="x-amz-sdk-checksum-algorithm",on="x-amz-server-side-encryption",cn="x-amz-server-side-encryption-aws-kms-key-id",un="x-amz-server-side-encryption-bucket-key-enabled",ln="x-amz-server-side-encryption-context",Kc="x-amz-server-side-encryption-customer-algorithm",Rg="x-amz-server-side-encryption-customer-key",Xc="x-amz-server-side-encryption-customer-key-MD5",Tg="x-amz-tagging",Dg="x-amz-version-id",Bg="x-amz-write-offset-bytes",Ig="x-amz-website-redirect-location",ye="com.amazonaws.s3";var La=[0,ye,Jm,8,0],Og=[0,ye,Lc,8,0],dn=[0,ye,Rr,8,0],fn=[0,ye,Tr,8,0],Pg=[0,ye,Qm,{[ug]:1},42],Ng=[-3,ye,Jp,{[lt]:ut,[mt]:409},[],[]];Be.for(ye).registerError(Ng,zp);var Mg=[-3,ye,em,{[lt]:ut,[mt]:409},[],[]];Be.for(ye).registerError(Mg,Lp);var Fg=[3,ye,mm,{[er]:gm},[an,Tr,Rr,sn,Na],[[0,{[ae]:on}],[()=>fn,{[ae]:cn}],[()=>dn,{[ae]:ln}],[2,{[ae]:un}],[()=>Qg,{[er]:Na}]]],Ug=[3,ye,ym,0,[tg,Ic,an,Tr,Rr,sn],[[0,{[ae]:dg}],[0,1],[0,{[ae]:on}],[()=>fn,{[ae]:cn}],[()=>dn,{[ae]:ln}],[2,{[ae]:un}]]],zg=[-3,ye,vm,{[lt]:ut,[mt]:400},[],[]];Be.for(ye).registerError(zg,qp);var Lg=[-3,ye,Om,{[lt]:ut,[mt]:400},[],[]];Be.for(ye).registerError(Lg,Kp);var $g=[-3,ye,Im,{[lt]:ut,[mt]:403},[Uc,Qp],[0,0]];Be.for(ye).registerError($g,Hp);var Hg=[-3,ye,Pm,{[lt]:ut,[mt]:400},[],[]];Be.for(ye).registerError(Hg,Zp);var jg=[-3,ye,Nm,{[lt]:ut,[mt]:400},[],[]];Be.for(ye).registerError(jg,Vp);var Wg=[-3,ye,zm,{[lt]:ut,[mt]:404},[],[]];Be.for(ye).registerError(Wg,$p);var qg=[-3,ye,Lm,{[lt]:ut,[mt]:404},[],[]];Be.for(ye).registerError(qg,jp);var Zg=[-3,ye,$m,{[lt]:ut,[mt]:404},[],[]];Be.for(ye).registerError(Zg,Fp);var Vg=[-3,ye,Um,{[lt]:ut},[],[]];Be.for(ye).registerError(Vg,Wp);var Gg=[-3,ye,Hm,{[lt]:ut,[mt]:403},[],[]];Be.for(ye).registerError(Gg,Xp);var Kg=[-3,ye,Zm,{[lt]:ut,[mt]:403},[],[]];Be.for(ye).registerError(Kg,Up);var Xg=[3,ye,Gm,0,[gs,Ma,Oc,Pc,Nc,Mc,Fc,wm,an,ig,zc,$c,Tr,Rr,sn,rg,Xm],[[0,{[ae]:hg}],[0,{[ae]:Ma}],[0,{[ae]:Wc}],[0,{[ae]:qc}],[0,{[ae]:Zc}],[0,{[ae]:Vc}],[0,{[ae]:Gc}],[0,{[ae]:fg}],[0,{[ae]:on}],[0,{[ae]:Dg}],[0,{[ae]:Kc}],[0,{[ae]:Xc}],[()=>fn,{[ae]:cn}],[()=>dn,{[ae]:ln}],[2,{[ae]:un}],[1,{[ae]:vg}],[0,{[ae]:_g}]]],Yg=[3,ye,Km,0,[Yp,tm,Ic,nm,am,cm,um,fm,pm,xm,rm,Oc,Pc,Nc,Mc,Fc,Fa,Rm,Dm,_m,Am,Cm,km,Mm,ag,Fm,an,Uc,og,zc,Lc,$c,Tr,Rr,sn,Ym,sg,Wm,qm,jm,Em],[[0,{[ae]:lg}],[()=>Pg,16],[0,1],[0,{[ae]:sm}],[0,{[ae]:im}],[0,{[ae]:om}],[0,{[ae]:lm}],[1,{[ae]:dm}],[0,{[ae]:hm}],[0,{[ae]:Sm}],[0,{[ae]:kg}],[0,{[ae]:Wc}],[0,{[ae]:qc}],[0,{[ae]:Zc}],[0,{[ae]:Vc}],[0,{[ae]:Gc}],[4,{[ae]:Fa}],[0,{[ae]:Tm}],[0,{[ae]:Bm}],[0,{[ae]:mg}],[0,{[ae]:gg}],[0,{[ae]:yg}],[0,{[ae]:bg}],[0,1],[1,{[ae]:Bg}],[128,{[cg]:wg}],[0,{[ae]:on}],[0,{[ae]:Cg}],[0,{[ae]:Ig}],[0,{[ae]:Kc}],[()=>Og,{[ae]:Rg}],[0,{[ae]:Xc}],[()=>fn,{[ae]:cn}],[()=>dn,{[ae]:ln}],[2,{[ae]:un}],[0,{[ae]:Ag}],[0,{[ae]:Tg}],[0,{[ae]:xg}],[5,{[ae]:Eg}],[0,{[ae]:Sg}],[0,{[ae]:pg}]]],Qg=[3,ye,eg,0,[Pa,Ua,za,gs],[[0,{[er]:Pa}],[()=>La,{[er]:Ua}],[()=>La,{[er]:za}],[4,{[er]:gs}]]],Jg=[-3,ye,ng,{[lt]:ut,[mt]:400},[],[]];Be.for(ye).registerError(Jg,Gp);var e0=[-3,jc,"S3ServiceException",0,[],[]];Be.for(jc).registerError(e0,at);var t0=[9,ye,bm,{[Hc]:["GET","/?session",200]},()=>Ug,()=>Fg],r0=[9,ye,Vm,{[Hc]:["PUT","/{Key+}?x-id=PutObject",200]},()=>Yg,()=>Xg];class n0 extends _s.classBuilder().ep({...gc,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,r,n,s){return[Zo(n,e.getEndpointParameterInstructions()),To(n)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").sc(t0).build(){}const s0="3.932.0",i0={version:s0},a0=t=>new TextEncoder().encode(t);function $a(t){return typeof t=="string"?t.length===0:t.byteLength===0}var Yc={name:"SHA-1"},Ha={name:"HMAC",hash:Yc},o0=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const c0={};function Ft(){return typeof window<"u"?window:typeof self<"u"?self:c0}var u0=(function(){function t(e){this.toHash=new Uint8Array(0),e!==void 0&&(this.key=new Promise(function(r,n){Ft().crypto.subtle.importKey("raw",ja(e),Ha,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))}return t.prototype.update=function(e){if(!$a(e)){var r=ja(e),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(r){return Ft().crypto.subtle.sign(Ha,r,e.toHash).then(function(n){return new Uint8Array(n)})}):$a(this.toHash)?Promise.resolve(o0):Promise.resolve().then(function(){return Ft().crypto.subtle.digest(Yc,e.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},t.prototype.reset=function(){this.toHash=new Uint8Array(0)},t})();function ja(t){return typeof t=="string"?a0(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var l0=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function Qc(t){if(d0(t)&&typeof t.crypto.subtle=="object"){var e=t.crypto.subtle;return f0(e)}return!1}function d0(t){if(typeof t=="object"&&typeof t.crypto=="object"){var e=t.crypto.getRandomValues;return typeof e=="function"}return!1}function f0(t){return t&&l0.every(function(e){return typeof t[e]=="function"})}var h0=(function(){function t(e){if(Qc(Ft()))this.hash=new u0(e);else throw new Error("SHA1 not supported")}return t.prototype.update=function(e,r){this.hash.update(zt(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t})(),Jc={name:"SHA-256"},Wa={name:"HMAC",hash:Jc},p0=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),m0=(function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!Ar(e)){var r=zt(e),n=new Uint8Array(this.toHash.byteLength+r.byteLength);n.set(this.toHash,0),n.set(r,this.toHash.byteLength),this.toHash=n}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(r){return Ft().crypto.subtle.sign(Wa,r,e.toHash).then(function(n){return new Uint8Array(n)})}):Ar(this.toHash)?Promise.resolve(p0):Promise.resolve().then(function(){return Ft().crypto.subtle.digest(Jc,e.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(r,n){Ft().crypto.subtle.importKey("raw",zt(e.secret),Wa,!1,["sign"]).then(r,n)}),this.key.catch(function(){}))},t})(),wt=64,g0=32,y0=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),b0=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],w0=Math.pow(2,53)-1,$r=(function(){function t(){this.state=Int32Array.from(b0),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var r=0,n=e.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>w0)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[r++],n--,this.bufferLength===wt&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(r.setUint8(this.bufferLength++,128),n%wt>=wt-8){for(var s=this.bufferLength;s<wt;s++)r.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(var s=this.bufferLength;s<wt-8;s++)r.setUint8(s,0);r.setUint32(wt-8,Math.floor(e/4294967296),!0),r.setUint32(wt-4,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(g0),s=0;s<8;s++)i[s*4]=this.state[s]>>>24&255,i[s*4+1]=this.state[s]>>>16&255,i[s*4+2]=this.state[s]>>>8&255,i[s*4+3]=this.state[s]>>>0&255;return i},t.prototype.hashBuffer=function(){for(var e=this,r=e.buffer,n=e.state,s=n[0],i=n[1],a=n[2],o=n[3],c=n[4],u=n[5],h=n[6],f=n[7],p=0;p<wt;p++){if(p<16)this.temp[p]=(r[p*4]&255)<<24|(r[p*4+1]&255)<<16|(r[p*4+2]&255)<<8|r[p*4+3]&255;else{var l=this.temp[p-2],y=(l>>>17|l<<15)^(l>>>19|l<<13)^l>>>10;l=this.temp[p-15];var m=(l>>>7|l<<25)^(l>>>18|l<<14)^l>>>3;this.temp[p]=(y+this.temp[p-7]|0)+(m+this.temp[p-16]|0)}var b=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&h)|0)+(f+(y0[p]+this.temp[p]|0)|0)|0,w=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&i^s&a^i&a)|0;f=h,h=u,u=c,c=o+b|0,o=a,a=i,i=s,s=b+w|0}n[0]+=s,n[1]+=i,n[2]+=a,n[3]+=o,n[4]+=c,n[5]+=u,n[6]+=h,n[7]+=f},t})(),S0=(function(){function t(e){this.secret=e,this.hash=new $r,this.reset()}return t.prototype.update=function(e){if(!(Ar(e)||this.error))try{this.hash.update(zt(e))}catch(r){this.error=r}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return Rs(this,void 0,void 0,function(){return Ts(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new $r,this.secret){this.outer=new $r;var e=x0(this.secret),r=new Uint8Array(wt);r.set(e);for(var n=0;n<wt;n++)e[n]^=54,r[n]^=92;this.hash.update(e),this.outer.update(r);for(var n=0;n<e.byteLength;n++)e[n]=0}},t})();function x0(t){var e=zt(t);if(e.byteLength>wt){var r=new $r;r.update(e),e=r.digest()}var n=new Uint8Array(wt);return n.set(e),n}var E0=(function(){function t(e){Qc(Ft())?this.hash=new m0(e):this.hash=new S0(e)}return t.prototype.update=function(e,r){this.hash.update(zt(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t})();const v0=({serviceId:t,clientVersion:e})=>async r=>{const n=typeof window<"u"?window.navigator:void 0,s=n?.userAgent??"",i=n?.userAgentData?.platform??qa.os(s)??"other",a=void 0,o=n?.userAgentData?.brands??[],c=o[o.length-1],u=c?.brand??qa.browser(s)??"unknown",h=c?.version??"unknown",f=[["aws-sdk-js",e],["ua","2.1"],[`os/${i}`,a],["lang/js"],["md/browser",`${u}_${h}`]];t&&f.push([`api/${t}`,e]);const p=await r?.userAgentAppId?.();return p&&f.push([`app/${p}`]),f},qa={os(t){if(/iPhone|iPad|iPod/.test(t))return"iOS";if(/Macintosh|Mac OS X/.test(t))return"macOS";if(/Windows NT/.test(t))return"Windows";if(/Android/.test(t))return"Android";if(/Linux/.test(t))return"Linux"},browser(t){if(/EdgiOS|EdgA|Edg\//.test(t))return"Microsoft Edge";if(/Firefox\//.test(t))return"Firefox";if(/Chrome\//.test(t))return"Chrome";if(/Safari\//.test(t))return"Safari"}};class vr{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&Za(r),new vr(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&Za(e),parseInt(ot(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function Za(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}class _0{toUtf8;fromUtf8;constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){const r=[];for(const i of Object.keys(e)){const a=this.fromUtf8(i);r.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(e[i]))}const n=new Uint8Array(r.reduce((i,a)=>i+a.byteLength,0));let s=0;for(const i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const a=new Uint8Array(i.buffer);return a.set(e.value,3),a;case"string":const o=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+o.byteLength));c.setUint8(0,7),c.setUint16(1,o.byteLength,!1);const u=new Uint8Array(c.buffer);return u.set(o,3),u;case"timestamp":const h=new Uint8Array(9);return h[0]=8,h.set(vr.fromNumber(e.value.valueOf()).bytes,1),h;case"uuid":if(!O0.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const f=new Uint8Array(17);return f[0]=9,f.set(no(e.value.replace(/\-/g,"")),1),f}}parse(e){const r={};let n=0;for(;n<e.byteLength;){const s=e.getUint8(n++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s));switch(n+=s,e.getUint8(n++)){case 0:r[i]={type:Ga,value:!0};break;case 1:r[i]={type:Ga,value:!1};break;case 2:r[i]={type:A0,value:e.getInt8(n++)};break;case 3:r[i]={type:C0,value:e.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:k0,value:e.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:R0,value:new vr(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const a=e.getUint16(n,!1);n+=2,r[i]={type:T0,value:new Uint8Array(e.buffer,e.byteOffset+n,a)},n+=a;break;case 7:const o=e.getUint16(n,!1);n+=2,r[i]={type:D0,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,o))},n+=o;break;case 8:r[i]={type:B0,value:new Date(new vr(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const c=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,r[i]={type:I0,value:`${ot(c.subarray(0,4))}-${ot(c.subarray(4,6))}-${ot(c.subarray(6,8))}-${ot(c.subarray(8,10))}-${ot(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var Va;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(Va||(Va={}));const Ga="boolean",A0="byte",C0="short",k0="integer",R0="long",T0="binary",D0="string",B0="timestamp",I0="uuid",O0=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,eu=4,Pt=eu*2,jt=4,P0=Pt+jt*2;function N0({byteLength:t,byteOffset:e,buffer:r}){if(t<P0)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,e,t),s=n.getUint32(0,!1);if(t!==s)throw new Error("Reported message length does not match received message length");const i=n.getUint32(eu,!1),a=n.getUint32(Pt,!1),o=n.getUint32(t-jt,!1),c=new Wr().update(new Uint8Array(r,e,Pt));if(a!==c.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,e+Pt,t-(Pt+jt))),o!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${o}`);return{headers:new DataView(r,e+Pt+jt,i),body:new Uint8Array(r,e+Pt+jt+i,s-i-(Pt+jt+jt))}}class M0{headerMarshaller;messageBuffer;isEndOfStream;constructor(e,r){this.headerMarshaller=new _0(e,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return r}}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return r}}}encode({headers:e,body:r}){const n=this.headerMarshaller.format(e),s=n.byteLength+r.byteLength+16,i=new Uint8Array(s),a=new DataView(i.buffer,i.byteOffset,i.byteLength),o=new Wr;return a.setUint32(0,s,!1),a.setUint32(4,n.byteLength,!1),a.setUint32(8,o.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),a.setUint32(s-4,o.update(i.subarray(8,s-4)).digest(),!1),i}decode(e){const{headers:r,body:n}=N0(e);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}}class F0{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.decoder.decode(e)}}class U0{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class z0{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const r=await this.options.deserializer(e);r!==void 0&&(yield r)}}}class L0{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.serializer(e)}}function $0(t){let e=0,r=0,n=null,s=null;const i=o=>{if(typeof o!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+o);e=o,r=4,n=new Uint8Array(o),new DataView(n.buffer).setUint32(0,o,!1)},a=async function*(){const o=t[Symbol.asyncIterator]();for(;;){const{value:c,done:u}=await o.next();if(u){if(e)if(e===r)yield n;else throw new Error("Truncated event message received.");else return;return}const h=c.length;let f=0;for(;f<h;){if(!n){const l=h-f;s||(s=new Uint8Array(4));const y=Math.min(4-r,l);if(s.set(c.slice(f,f+y),r),r+=y,f+=y,r<4)break;i(new DataView(s.buffer).getUint32(0,!1)),s=null}const p=Math.min(e-r,h-f);n.set(c.slice(f,f+p),r),r+=p,f+=p,e&&e===r&&(yield n,n=null,e=0,r=0)}}};return{[Symbol.asyncIterator]:a}}function H0(t,e){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const s=new Error(r.headers[":error-message"].value||"UnknownError");throw s.name=r.headers[":error-code"].value,s}else if(n==="exception"){const s=r.headers[":exception-type"].value,i={[s]:r},a=await t(i);if(a.$unknown){const o=new Error(e(r.body));throw o.name=s,o}throw a[s]}else if(n==="event"){const s={[r.headers[":event-type"].value]:r},i=await t(s);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let j0=class{eventStreamCodec;utfEncoder;constructor({utf8Encoder:e,utf8Decoder:r}){this.eventStreamCodec=new M0(e,r),this.utfEncoder=e}deserialize(e,r){const n=$0(e);return new z0({messageStream:new F0({inputStream:n,decoder:this.eventStreamCodec}),deserializer:H0(r,this.utfEncoder)})}serialize(e,r){return new U0({messageStream:new L0({inputStream:e,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const W0=t=>({[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)return;yield n}}finally{e.releaseLock()}}}),q0=t=>{const e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:s}=await e.next();if(n)return r.close();r.enqueue(s)}})};class Z0{universalMarshaller;constructor({utf8Encoder:e,utf8Decoder:r}){this.universalMarshaller=new j0({utf8Decoder:r,utf8Encoder:e})}deserialize(e,r){const n=V0(e)?W0(e):e;return this.universalMarshaller.deserialize(n,r)}serialize(e,r){const n=this.universalMarshaller.serialize(e,r);return typeof ReadableStream=="function"?q0(n):n}}const V0=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,G0=t=>new Z0(t);async function K0(t,e,r=1024*1024){const n=t.size;let s=0;for(;s<n;){const i=t.slice(s,Math.min(n,s+r));e(new Uint8Array(await i.arrayBuffer())),s+=i.size}}const X0=async function(e,r){const n=new e;return await K0(r,s=>{n.update(s)}),n.digest()},Y0=t=>()=>Promise.reject(t),Ot=64,Q0=16,J0=[1732584193,4023233417,2562383102,271733878];class ey{state;buffer;bufferLength;bytesHashed;finished;constructor(){this.reset()}update(e){if(ty(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const r=ry(e);let n=0,{byteLength:s}=r;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),s--,this.bufferLength===Ot&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:r,bufferLength:n,bytesHashed:s}=this,i=s*8;if(r.setUint8(this.bufferLength++,128),n%Ot>=Ot-8){for(let a=this.bufferLength;a<Ot;a++)r.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(let a=this.bufferLength;a<Ot-8;a++)r.setUint8(a,0);r.setUint32(Ot-8,i>>>0,!0),r.setUint32(Ot-4,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}const e=new DataView(new ArrayBuffer(Q0));for(let r=0;r<4;r++)e.setUint32(r*4,this.state[r],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}hashBuffer(){const{buffer:e,state:r}=this;let n=r[0],s=r[1],i=r[2],a=r[3];n=tt(n,s,i,a,e.getUint32(0,!0),7,3614090360),a=tt(a,n,s,i,e.getUint32(4,!0),12,3905402710),i=tt(i,a,n,s,e.getUint32(8,!0),17,606105819),s=tt(s,i,a,n,e.getUint32(12,!0),22,3250441966),n=tt(n,s,i,a,e.getUint32(16,!0),7,4118548399),a=tt(a,n,s,i,e.getUint32(20,!0),12,1200080426),i=tt(i,a,n,s,e.getUint32(24,!0),17,2821735955),s=tt(s,i,a,n,e.getUint32(28,!0),22,4249261313),n=tt(n,s,i,a,e.getUint32(32,!0),7,1770035416),a=tt(a,n,s,i,e.getUint32(36,!0),12,2336552879),i=tt(i,a,n,s,e.getUint32(40,!0),17,4294925233),s=tt(s,i,a,n,e.getUint32(44,!0),22,2304563134),n=tt(n,s,i,a,e.getUint32(48,!0),7,1804603682),a=tt(a,n,s,i,e.getUint32(52,!0),12,4254626195),i=tt(i,a,n,s,e.getUint32(56,!0),17,2792965006),s=tt(s,i,a,n,e.getUint32(60,!0),22,1236535329),n=rt(n,s,i,a,e.getUint32(4,!0),5,4129170786),a=rt(a,n,s,i,e.getUint32(24,!0),9,3225465664),i=rt(i,a,n,s,e.getUint32(44,!0),14,643717713),s=rt(s,i,a,n,e.getUint32(0,!0),20,3921069994),n=rt(n,s,i,a,e.getUint32(20,!0),5,3593408605),a=rt(a,n,s,i,e.getUint32(40,!0),9,38016083),i=rt(i,a,n,s,e.getUint32(60,!0),14,3634488961),s=rt(s,i,a,n,e.getUint32(16,!0),20,3889429448),n=rt(n,s,i,a,e.getUint32(36,!0),5,568446438),a=rt(a,n,s,i,e.getUint32(56,!0),9,3275163606),i=rt(i,a,n,s,e.getUint32(12,!0),14,4107603335),s=rt(s,i,a,n,e.getUint32(32,!0),20,1163531501),n=rt(n,s,i,a,e.getUint32(52,!0),5,2850285829),a=rt(a,n,s,i,e.getUint32(8,!0),9,4243563512),i=rt(i,a,n,s,e.getUint32(28,!0),14,1735328473),s=rt(s,i,a,n,e.getUint32(48,!0),20,2368359562),n=nt(n,s,i,a,e.getUint32(20,!0),4,4294588738),a=nt(a,n,s,i,e.getUint32(32,!0),11,2272392833),i=nt(i,a,n,s,e.getUint32(44,!0),16,1839030562),s=nt(s,i,a,n,e.getUint32(56,!0),23,4259657740),n=nt(n,s,i,a,e.getUint32(4,!0),4,2763975236),a=nt(a,n,s,i,e.getUint32(16,!0),11,1272893353),i=nt(i,a,n,s,e.getUint32(28,!0),16,4139469664),s=nt(s,i,a,n,e.getUint32(40,!0),23,3200236656),n=nt(n,s,i,a,e.getUint32(52,!0),4,681279174),a=nt(a,n,s,i,e.getUint32(0,!0),11,3936430074),i=nt(i,a,n,s,e.getUint32(12,!0),16,3572445317),s=nt(s,i,a,n,e.getUint32(24,!0),23,76029189),n=nt(n,s,i,a,e.getUint32(36,!0),4,3654602809),a=nt(a,n,s,i,e.getUint32(48,!0),11,3873151461),i=nt(i,a,n,s,e.getUint32(60,!0),16,530742520),s=nt(s,i,a,n,e.getUint32(8,!0),23,3299628645),n=st(n,s,i,a,e.getUint32(0,!0),6,4096336452),a=st(a,n,s,i,e.getUint32(28,!0),10,1126891415),i=st(i,a,n,s,e.getUint32(56,!0),15,2878612391),s=st(s,i,a,n,e.getUint32(20,!0),21,4237533241),n=st(n,s,i,a,e.getUint32(48,!0),6,1700485571),a=st(a,n,s,i,e.getUint32(12,!0),10,2399980690),i=st(i,a,n,s,e.getUint32(40,!0),15,4293915773),s=st(s,i,a,n,e.getUint32(4,!0),21,2240044497),n=st(n,s,i,a,e.getUint32(32,!0),6,1873313359),a=st(a,n,s,i,e.getUint32(60,!0),10,4264355552),i=st(i,a,n,s,e.getUint32(24,!0),15,2734768916),s=st(s,i,a,n,e.getUint32(52,!0),21,1309151649),n=st(n,s,i,a,e.getUint32(16,!0),6,4149444226),a=st(a,n,s,i,e.getUint32(44,!0),10,3174756917),i=st(i,a,n,s,e.getUint32(8,!0),15,718787259),s=st(s,i,a,n,e.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=s+r[1]&4294967295,r[2]=i+r[2]&4294967295,r[3]=a+r[3]&4294967295}reset(){this.state=Uint32Array.from(J0),this.buffer=new DataView(new ArrayBuffer(Ot)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function hn(t,e,r,n,s,i){return e=(e+t&4294967295)+(n+i&4294967295)&4294967295,(e<<s|e>>>32-s)+r&4294967295}function tt(t,e,r,n,s,i,a){return hn(e&r|~e&n,t,e,s,i,a)}function rt(t,e,r,n,s,i,a){return hn(e&n|r&~n,t,e,s,i,a)}function nt(t,e,r,n,s,i,a){return hn(e^r^n,t,e,s,i,a)}function st(t,e,r,n,s,i,a){return hn(r^(e|~n),t,e,s,i,a)}function ty(t){return typeof t=="string"?t.length===0:t.byteLength===0}function ry(t){return typeof t=="string"?Ut(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}const ny=t=>({apiVersion:"2006-03-01",base64Decoder:t?.base64Decoder??sr,base64Encoder:t?.base64Encoder??Vt,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??hc,extensions:t?.extensions??[],getAwsChunkedEncodingStream:t?.getAwsChunkedEncodingStream??Wu,httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Pp,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Qa},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new vu}],logger:t?.logger??new As,protocol:t?.protocol??new Ed({defaultNamespace:"com.amazonaws.s3",xmlNamespace:"http://s3.amazonaws.com/doc/2006-03-01/"}),sdkStreamMixin:t?.sdkStreamMixin??so,serviceId:t?.serviceId??"S3",signerConstructor:t?.signerConstructor??Xo,signingEscapePath:t?.signingEscapePath??!1,urlParser:t?.urlParser??Zr,useArnRegion:t?.useArnRegion??void 0,utf8Decoder:t?.utf8Decoder??Ut,utf8Encoder:t?.utf8Encoder??ur}),sy=["in-region","cross-region","mobile","standard","legacy"],iy=({defaultsMode:t}={})=>Rl(async()=>{const e=typeof t=="function"?await t():t;switch(e?.toLowerCase()){case"auto":return Promise.resolve(ay()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${sy.join(", ")}, got ${e}`)}}),ay=()=>{const t=window?.navigator;if(t?.connection){const{effectiveType:e,rtt:r,downlink:n}=t?.connection;if(typeof e=="string"&&e!=="4g"||Number(r)>100||Number(n)<10)return!0}return t?.userAgentData?.mobile||typeof t?.maxTouchPoints=="number"&&t?.maxTouchPoints>1},oy=t=>{const e=iy(t),r=()=>e().then(od),n=ny(t);return{...n,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??sd,credentialDefaultProvider:t?.credentialDefaultProvider??(s=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??v0({serviceId:n.serviceId,clientVersion:i0.version}),eventStreamSerdeProvider:t?.eventStreamSerdeProvider??G0,maxAttempts:t?.maxAttempts??Vr,md5:t?.md5??ey,region:t?.region??Y0("Region is missing"),requestHandler:bs.create(t?.requestHandler??r),retryMode:t?.retryMode??(async()=>(await r()).retryMode||Hh),sha1:t?.sha1??h0,sha256:t?.sha256??E0,streamCollector:t?.streamCollector??to,streamHasher:t?.streamHasher??X0,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve(Eh)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(vh))}},cy=t=>({setRegion(e){t.region=e},region(){return t.region}}),uy=t=>({region:t.region()}),ly=t=>{const e=t.httpAuthSchemes;let r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(s){const i=e.findIndex(a=>a.schemeId===s.schemeId);i===-1?e.push(s):e.splice(i,1,s)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},dy=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),fy=(t,e)=>{const r=Object.assign(cy(t),fd(t),hu(t),ly(t));return e.forEach(n=>n.configure(r)),Object.assign(t,uy(r),hd(r),pu(r),dy(r))};class hy extends id{config;constructor(...[e]){const r=oy(e||{});super(r),this.initConfig=r;const n=Mp(r),s=zf(n),i=Zd(s),a=op(i),o=Ch(a),c=o,u=$h(c),h=kh(u),f=Np(h),p=Af(f,{session:[()=>this,n0]}),l=fy(p,e?.extensions||[]);this.config=l,this.middlewareStack.use(nl(this.config)),this.middlewareStack.use(xh(this.config)),this.middlewareStack.use(pp(this.config)),this.middlewareStack.use(Dh(this.config)),this.middlewareStack.use(Kd(this.config)),this.middlewareStack.use(Qd(this.config)),this.middlewareStack.use(tf(this.config)),this.middlewareStack.use(Ru(this.config,{httpAuthSchemeParametersProvider:Bp,identityProviderConfigProvider:async y=>new vl({"aws.auth#sigv4":y.credentials,"aws.auth#sigv4a":y.credentials})})),this.middlewareStack.use(Ou(this.config)),this.middlewareStack.use(Mf(this.config)),this.middlewareStack.use(bu(this.config)),this.middlewareStack.use(ff(this.config)),this.middlewareStack.use(wf(this.config)),this.middlewareStack.use(_f(this.config))}destroy(){super.destroy()}}function py(t){return e=>async r=>{const n={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const i of s){const a=n[i.target];if(a){let o;typeof a=="string"?yy(a,t)?o=t.base64Decoder(a):(o=t.utf8Decoder(a),n[i.target]=t.base64Encoder(o)):(o=ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a),n[i.target]=t.base64Encoder(o));const c=new t.md5;c.update(o),n[i.hash]=t.base64Encoder(await c.digest())}}return e({...r,input:n})}}const my={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},gy=t=>({applyToStack:e=>{e.add(py(t),my)}});function yy(t,e){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t))return!1;try{return e.base64Decoder(t).length===32}catch{return!1}}class by extends _s.classBuilder().ep({...gc,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(e,r,n,s){return[Zo(n,e.getEndpointParameterInstructions()),qd(n,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),of(),To(n),gy(n)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").sc(r0).build(){}const Ka="ap-southeast-1",wy="ngoc-tieu-cac-public",Xa="s3_credentials";async function Sy(){const t=localStorage.getItem(Xa);if(t){const n=JSON.parse(t);if(!(Date.now()>new Date(n.expiration).getTime()))return n}const r=(await cr.get("admin/token")).data;return localStorage.setItem(Xa,JSON.stringify(r)),r}async function xy(t,e,r){const n=await Sy(),s=new hy({region:Ka,credentials:{accessKeyId:n.accessKeyId,secretAccessKey:n.secretAccessKey,sessionToken:n.sessionToken}}),i=new by({Bucket:t,Key:e,Body:r});return await s.send(i),{bucket:t,key:e,url:`https://${t}.s3.${Ka}.amazonaws.com/${e}`}}async function Cy(t){return(await cr.post("/books",{...t})).data}async function ky(t,e,r){const n=await Qr.get(Jr(`books/${t}`));return e(n.data),n.data}async function Ry(t){const e=await Qr.get(Jr("books/slugs"));return t(e.data),e.data}async function Ty(t,e){const r=await Qr.post(Jr("books/slugs"),{slugs:t});e(r.data)}async function Dy(t,e,r){const s=(await cr.get(`/chapters/${t}/download?start=${e}&end=${r}`)).data,i=new uu;for(const o of s){const u=await(await fetch(o.url)).arrayBuffer(),h={data:Array.from(new Uint8Array(u))},f=au(h);i.file(o.name,f)}const a=await i.generateAsync({type:"blob"});fu.saveAs(a,`${t}.zip`)}async function By(t){return(await Qr.get(Jr(`books/check-slug/${t}`))).data.isValid}async function Iy(t){return(await cr.get(`/books/banner/upload/${t}`)).data}async function Oy(t,e,r){const n=await cr.patch(`/books/${t}`,{...e});return await xy(wy,`books/${t}.json`,JSON.stringify(r)),n.data}async function Py(t){return cr.get(`/admin/books/${t}/sync`)}const Hs="https://ngoc-tieu-cac-public.s3.ap-southeast-1.amazonaws.com";function Ny(t){return`${Hs}/${t}/banner.webp`}function My(t){return`${Hs}/${t}/banner-small.webp`}function Fy(t){return`${Hs}/user-avatar/${t}.webp`}export{_y as _,By as a,Ty as b,Cy as c,Dy as d,fi as e,Ry as f,Ny as g,Fy as h,ky as i,My as j,Iy as k,Ut as l,Py as s,ur as t,Oy as u};
